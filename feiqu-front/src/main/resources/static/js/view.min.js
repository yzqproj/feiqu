/* COMBO: filename = common/global.min.js, type = application/javascript, resp = 200 */
function detectOS(){var e=navigator.userAgent,t="Win32"==navigator.platform||"Windows"==navigator.platform,n="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(n)return"MAC";if("X11"==navigator.platform&&!t&&!n)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(t){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7"}return"other"}function sidemenu_init(){var e=(BODY.find("> header.navbar"),BODY.find("> div#side-menu")),t=(e.find("> menu#menu-panel"),null),n=0,a=0,i=0,o=0,s=0,r=function(){if(!t)return!1;n=t.offset().top,i=$.utils.maxViewHeight(),o=WIN.scrollTop()+i-a,s=n-o,s=s<=a?a-s:0,n-o<=a?e.css("bottom",s):e.removeAttr("style")},l=function(){$.utils.maxViewWidth()>768?(e.removeClass("dh300"),(t=BODY.find("> footer:visible"))&&t.length>0&&e&&e.length>0&&(a=t.outerHeight(),r(),WIN.scroll(r))):(e.addClass("dh300"),!ISMOBILE&&e.height($.utils.maxViewHeight()))};l(),WIN.on("resize",l)}function global_init(){try{HTML.data("init")();var e=/^key/,t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;$.event.props="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),$.event.fixHooks={},$.event.keyHooks={props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},$.event.mouseHooks={props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,a,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||document,a=n.documentElement,i=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},$.event.fix=function(n){if(n[jQuery.expando])return n;var a,i,o,s=n.type,r=n,l=$.event.fixHooks[s];for(l||($.event.fixHooks[s]=l=t.test(s)?$.event.mouseHooks:e.test(s)?$.event.keyHooks:{}),o=l.props?$.event.props.concat(l.props):$.event.props,n=new jQuery.Event(r),a=o.length;a--;)i=o[a],n[i]=r[i];return 3===n.target.nodeType&&(n.target=n.target.parentNode),l.filter?l.filter(n,r):n},view_mode(),creditPrompt(),headAutoHide(),anchor_listeners(),sidemenu_init(),$("a,button").click(function(){$(this).blur()}),$.utils.titleFlash(),nav_quick_menu();var n=$(".modal_member .modal-dialog .modal-content .time_banner img"),a=(new Date).getHours(),i=0;i=a>=5&&a<=6?0:a>6&&a<=7?1:a>=8&&a<12?2:a>=12&&a<13?3:a>=13&&a<17?4:a>=17&&a<=18?5:a>18&&a<=23?6:7,n.css("margin-left",0-230*i),common_init(),line_tabs(),function_button()}catch(e){}}!function(){if(window.top!=window){var e=document.createElement("a"),t=e.hostname,n=SITEURL.replace(/http(|s):\/\//,"").split(".");n="."+n[n.length-2]+"."+n[n.length-1].replace("/",""),function(e,t){return-1!==e.indexOf(t,e.length-t.length)}(t,n)||(top.location.href=SITEURL)}}();var ISRtina=!!window.devicePixelRatio,HTMLHEAD=document.getElementsByTagName("head")[0],HTMLNODE=HTMLHEAD.parentNode,BROWSER={},CLIPBOARDSWFDATA="",USERAGENT=navigator.userAgent.toLowerCase(),ISMOBILE=USERAGENT.indexOf("mobile")>=0,WIN=$(window),DOC=$(document),HTML=$(HTMLNODE),BODY=$(document.body),UPGRADE_BROWSER_URL=!1,CONSOLE_EGGS=!1,PREFIX=function(){if(!window.getComputedStyle)return!1;var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();ISMOBILE&&(HTMLNODE.className="mobile "),window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var StringBuffer=function(){this.array=new Array,this.length=0};StringBuffer.prototype.append=function(e,t){(e.length||!!t)&&this.array.push(e),this.length=this.array.length},StringBuffer.prototype.toString=function(e,t){return e||(e=""),t?this.array.reverse().join(e):this.array.join(e)},StringBuffer.prototype.clear=function(){this.array=[]},String.prototype.substr_ch1en2=function(e,t){for(var n=e;t>0;n++){t-=this.charCodeAt(n)<256?.5:1}return this.slice(e,n)},String.prototype.substr_ch2en1=function(e,t){for(var n=e;t>0;n++){t-=this.charCodeAt(n)<256?1:2}return this.slice(e,n-1)},String.prototype.firstUpperCase=function(){return this.toLowerCase().replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})},function(){var e=navigator.platform.toLowerCase();OSNAME="win32"==e||"windows"==e?"windows":"mac68k"==e||"macppc"==e||"macintosh"==e||"macintel"==e?"mac":"x11"==e?"unix":e.indexOf("linux")>-1?"linux":null,HTMLNODE.className+="os_"+OSNAME+" ";var t;if((t=USERAGENT.match(/msie ([\d]+)/))?(BROWSER.ie=parseInt(t[1]),HTMLNODE.className+="ie_all ie"+BROWSER.ie):(t=USERAGENT.match(/edge\/([\d]+)/))?(BROWSER.edge=parseInt(t[1]),HTMLNODE.className+="edge"):(t=USERAGENT.match(/firefox\/([\d]+)/))?BROWSER.firefox=parseInt(t[1],HTMLNODE.className+="firefox"):(t=USERAGENT.match(/chrome\/([\d\.]+)/))?BROWSER.chrome=parseInt(t[1],HTMLNODE.className+="chrome"):(t=USERAGENT.match(/opera.([\d]+)/))?BROWSER.opera=parseInt(t[1],HTMLNODE.className+="opera"):(t=USERAGENT.match(/version\/([\d]+).*safari/))&&(BROWSER.safari=parseInt(t[1],HTMLNODE.className+="safari")),BROWSER_NAME=t?t[0]:t,USERAGENT.match(/iemobile\/10\.0/)){var n=document.createElement("style");n.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.head.appendChild(n)}}();var pic_loaderror=function(e){e.error=null,e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.style.background="#f3f4f5"},flash_player={getArgs:function(e,t,n){var a=new Object;a.embedAttrs=new Object,a.params=new Object,a.objAttrs=new Object;for(var i=0;i<e.length;i+=2){switch(e[i].toLowerCase()){case"classid":break;case"pluginspage":a.embedAttrs[e[i]]="http://www.macromedia.com/go/getflashplayer";break;case"src":a.embedAttrs[e[i]]=e[i+1],a.params.movie=e[i+1];break;case"codebase":a.objAttrs[e[i]]="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0";break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"id":a.objAttrs[e[i]]=e[i+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":case"class":a.embedAttrs[e[i]]=a.objAttrs[e[i]]=e[i+1];break;default:a.embedAttrs[e[i]]=a.params[e[i]]=e[i+1]}}return a.objAttrs.classid=t,n&&(a.embedAttrs.type=n),a},html:function(){var e="",t=flash_player.getArgs(arguments,"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");if(BROWSER.ie&&!BROWSER.opera){e+="<object ";for(var n in t.objAttrs)e+=n+'="'+t.objAttrs[n]+'" ';e+=">";for(var n in t.params)e+='<param name="'+n+'" value="'+t.params[n]+'" /> ';e+="</object>"}else{e+="<embed ";for(var n in t.embedAttrs)e+=n+'="'+t.embedAttrs[n]+'" ';e+="></embed>"}return e}};if("function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(msViewportStyle)}!function(e){e.cookie=function(t,n,a,i,o,s){var r=new Date,l={};if(t=COOKIEPRE+t,"del"==n||"delete"==n){r.setTime(r.getTime()-1),t?l[t]=null:l=e.cookie();for(var d in l)document.cookie=d+"=; expires="+r.toGMTString()+"; path=/";return!0}var c=function(e){return e.replace(/(^\s+)|(\s+$)/g,"")};src=document.cookie.split(";");for(var d in src)if(src[d]=c(src[d]),src[d]){var u=src[d].split("=");for(var p in u)u[p]=c(u[p]);u[0]&&(l[u[0]]=u[1]?u[1]:null)}else src.splice(d,1);if(!t)return l;r.setTime(r.getTime()+1e3*a);var f=a?"; expires="+r.toGMTString():"";return f+=i?"; domain="+i:"",f+="; path="+(o||"/"),f+=s?"; secure":"",n||0==n?(f=t+"="+encodeURIComponent(n)+"; "+f,document.cookie=f,e):l[t]}}(jQuery),function(){var e=$("html");e.data({vars:[WEBNAME,WEBTITLE,STYLEID,STATICURL,VERHASH,CHARSET,MEMBER_ID,MEMBER_UKEY,MEMBER_NAME,formHash,COOKIEPRE,COOKIEDOMAIN,COOKIEPATH,REPORTURL,SITEURL,JSPATH,CSSPATH,DYNAMICURL,ATTACHURL,RESPATH,RESCSSPATH,RESJSPATH,RESSWFPATH,ATTACHPATH,VIDEOPATH,AVATARPATH,ADMINID,CURSCRIPT,MOD,INC,DO,CREDITNOTICE,PROMPT_COUNT,LETTER_COUNT,CODETHEME,MY_HOME,MAINNAV_HEADROOM_DISABLE],init:function(){var t=e.data("vars");WEBNAME=t[0],WEBTITLE=t[1],STYLEID=t[2],STATICURL=t[3],VERHASH=t[4],CHARSET=t[5],MEMBER_ID=t[6],MEMBER_UKEY=t[7],MEMBER_NAME=t[8],formHash=t[9],COOKIEPRE=t[10],COOKIEDOMAIN=t[11],COOKIEPATH=t[12],REPORTURL=t[13],SITEURL=t[14],JSPATH=t[15],CSSPATH=t[16],DYNAMICURL=t[17],ATTACHURL=t[18],RESPATH=t[19],RESCSSPATH=t[20],RESJSPATH=t[21],RESSWFPATH=t[22],ATTACHPATH=t[23],VIDEOPATH=t[24],AVATARPATH=t[25],ADMINID=t[26],CURSCRIPT=t[27],MOD=t[28],INC=t[29],DO=t[30],CREDITNOTICE=t[31],PROMPT_COUNT=t[32],LETTER_COUNT=t[33],CODETHEME=t[34],MY_HOME=t[35],MAINNAV_HEADROOM_DISABLE=t[36]}}),e.find(".initscript").remove()}(),$.extend({fm:function(e,t){return HTML.data("init")(),t=t||BODY,t.find(e+"_"+formHash)}}),$.fn.extend({fm:function(e){return $.fm(e,this)}}),$.utils={privates:{},setTitle:function(e){HTML.find("title:first").text(WEBTITLE+e),clearTimeout(window.stTitleFlash),clearInterval(window.promptFlag),setTimeout($.utils.titleFlash,16)},titleFlash:function(){var e=HTML.find("title:first"),t=e.text(),n=0,a=0,i=null;0==PROMPT_COUNT&&0==LETTER_COUNT?$.cookie("hdnav_prompt",0):$.cookie("hdnav_prompt",1);var o=function(){(PROMPT_COUNT||LETTER_COUNT)&&(window.promptFlag=setInterval(function(){e.text((n?"【　　　】":"【新提醒】")+t),n=n?0:1,++a>6&&(n=a=0,clearInterval(window.promptFlag),window.stTitleFlash=setTimeout(o,3e3))},500))};o(),i=setInterval(function(){var e=$.cookie("hdnav_prompt");e&&"0"!=e||($.utils.clearNavMenuiconPrompt("prompt"),$.utils.clearNavMenuiconPrompt("letters"),PROMPT_COUNT=0,LETTER_COUNT=0,$.cookie("hdnav_prompt","del"),clearInterval(i))},1e3)},clearTitleFlash:function(){if(!PROMPT_COUNT&&!LETTER_COUNT){clearInterval(window.promptFlag);var e=$("title:first");e.text(e.text().replace(/【新提醒】/,"").replace(/【　　　】/,""))}},clearNavMenuiconPrompt:function(e){var t=$("#menuicon_bar .icons_svg"),n=0;"prompt"!=e&&"letters"!=e||("prompt"==e?(n=0,PROMPT_COUNT=0,$(".new_prompt").remove(),$(".new_prompt_class").removeClass("new_prompt_class"),$(".new_prompt_empty").html("")):"letters"==e&&(n=1,LETTER_COUNT=0,$(".new_letter").remove(),$(".new_letter_class").removeClass("new_prompt_class"),$(".new_letter_empty").html("")),PROMPT_COUNT||LETTER_COUNT||this.clearTitleFlash(),t=t.eq(n).find(".newprompt:first"),t.remove()),PROMPT_COUNT||LETTER_COUNT||$.cookie("hdnav_prompt",0)},isUndefined:function(e){return void 0===e},empty:function(e){return"string"==typeof e?""==e&&!e.length:!!$.utils.isObject(e,"jQuery")&&(""==e.val()&&!e.val().length)},isObject:function(e,t){t=t.toLowerCase();var n=!1;switch(t){case"string":n=typeof e==t&&e.constructor==String;break;case"number":n=typeof e==t&&e.constructor==Number;break;case"array":n="object"==typeof e&&e.constructor==Array;break;case"date":n="object"==typeof e&&e.constructor==Date;break;case"function":n=typeof e==t&&e.constructor==Function;break;case"object":n=typeof e==t&&e.constructor==Object;break;case"jquery":n=e instanceof jQuery}return n},htmlspecialchars:function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/\</g,"&lt;"),e=e.replace(/\>/g,"&gt;"),e=e.replace(/\'/g,"&#039;"),e=e.replace(/\"/g,"&quot;")},unhtmlspecialchars:function(e){return e=e.replace(/\&amp\;/g,"&"),e=e.replace(/\&lt\;/g,"<"),e=e.replace(/\&gt\;/g,">"),e=e.replace(/\&#039\;/g,"'"),e=e.replace(/\&quot\;/g,'"')},getStrLength:function(e,t,n){e=e||"",t||(t=1),n||(n=.5);var a=0,i=0,o=0;return 1==t&&.5==n?(a=Math.abs(e.replace(/[\x00-\xff]*/g,"").length),i=Math.abs(Math.ceil(e.replace(/[^\x00-\xff]*/g,"").length/2)),o=a+i+""):o=2==t&&1==n?Math.abs(e.replace(/[^\x00-\xff]/g,"**").length):3==t&&1==n?Math.abs(e.replace(/[^\x00-\xff]/g,"***").length):e.length,o},urlencode:function(e){return encodeURIComponent(e)},urldecode:function(e){return decodeURIComponent(e)},betweenLength:function(e,t,n,a){var i="string"==typeof e?e:e.val(),o=a?$.utils.getStrLength(i,2,1):$.utils.getStrLength(i,1,1);return o>=t&&o<=n},betweenEquis:function(e,t){return("string"==typeof e?e:e.val())===("string"==typeof t?t:t.val())},bedFormat:function(e,t){var n="string"==typeof e?e:e.val();return!t.test(n)},isNumber:function(e){return $.isNumeric(e)},maxWidth:function(){return Math.max(document.documentElement.clientWidth,document.body.offsetWidth)},maxHeight:function(){return Math.max(document.documentElement.clientHeight,document.body.offsetHeight)},maxViewWidth:function(){return WIN.width()},maxViewHeight:function(){return WIN.height()},getScrollBarWidth:function(){var e=$('<div style="width:100px; height:25px; overflow:scroll; position:absolute;"><div style="width:100%; height:50px;"></div></div>');BODY.append(e);var t=100-e.find(" > div").width();return e.remove(),t},zeroFill:function(e){return(parseInt(e)<10?"0":"")+e},random:function(e,t){return parseInt(Math.random()*(t-e+1)+e)},random_norepeat:function(e,t,n){for(var a={},i=[],o=0,s=0,r=t-e+1,n=r<n?r:n||r;;){if(o=this.random(e,t),a[o]||(a[o]=!0,i.push(o)),i.length>=n)break;s++}return i},timestamp:function(){return Date.parse(new Date)/1e3},timestamp_ms:function(){return Date.parse(new Date)},getVideoSwf:function(e,t){try{var n=null;if(!e)return!1;n=e.match(/http(|s):\/\/(.*?)?\.(.*?)?\.(com|tv)\/(.*)/);var a=n[3],i=n[2],o=".swf".indexOf(n[4])>0,s=n[5].substr(0,1),r="";try{switch(a){case"acfun":if(o)r=e;else{var l=e.match(/\/v\/ac(\d*)/);r="//ssl.app.acfun.cn/player/ACFlashPlayer.out.swf?vid="+l[1]+(t?"&autoplay=1":"")}break;case"bilibili":if(o)r=e;else{var l=e.match(/video\/av(\d*)/);r="//static.hdslb.com/miniloader.swf?aid="+l[1]+(t?"&autoplay=1":"")}break;case"youku":if("player"==i)r=e;else if("v"==i){var l=e.match(/http(|s):\/\/v\.youku\.com\/v_show\/id_(.*)?\.html/);r="//player.youku.com/player.php/sid/"+l[2].replace("/","")+"/v.swf"+(t?"&isAutoPlay=true":"")}else r=e;break;case"tudou":if(o)r=e;else{s="p"==s?"v":s;var l=e.match(/http:\/\/www.tudou\.com\/(.*)?\/(.*)?/);str_arr=l[1].split("/");var d=str_arr.length,c="";1==d?c=l[2].split(".")[0]:2==d?c=str_arr[1]:3==$count&&(c=str_arr[2]),r="//www.tudou.com/"+s+"/"+c+(t?"&autoPlay=true":"")+"/v.swf"}break;case"qq":if(o)r=e;else{var l=e.match(/vid\=(\w*)/);!l&&(l=e.match(/(\w*)\.html/)),r="//imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?vid="+l[1]+(t?"&auto=1":"")}break;case"le":if(o)r=e;else{var l=e.match(/(\d*)\.html/);r="//www.le.com/player/swfPlayer.swf?id="+l[1]+(t?"&autoplay=1":"&autoplay=0")}break;case"yinyuetai":if(o)r=e;else{var l=e.match(/video\/(\d*)/);r="//player.yinyuetai.com/video/player/"+l[1]+"/"+(t?"a":"v")+"_0.swf"}break;default:r=""}}catch(t){r=e}return r.replace(/^http(|s)\:/,"")}catch(t){return e}},loadjs:function(e,t,n,a,i){n=n||document,n.firstloadjs||(n.firstloadjs=!0,$(n).find("script").data("isload",!0)),HTML.data("init")();var o,s,r,l;e=/^(http\:|https\:|)\/\//.test(e)?e:RESJSPATH+e,a=!!a,(e.indexOf(".qdfuns.")>0||e.indexOf("res/")>0)&&(e=e.replace(".js",JS_LOADMIN+".js")),!n.scriptss&&(n.scripts={}),s=$(n).find("script[src*="+e.replace(/\:/g,"\\:").replace(/\//g,"\\/").replace(/\./g,"\\.")+"]"),s.length>0&&(n.scripts[$.md5(e)]=e.replace(/\\:/,":")+(e.indexOf("?")>=0?"&":"?")+VERHASH),n.scripts[$.md5(e)]?l=setInterval(function(){s.data("isload")&&(clearInterval(l),t&&t(n.scripts[$.md5(e)]))},10):(o=n.createElement("script"),s=$(o),o.type="text/javascript",o.src=e.replace(/\\:/,":")+(e.indexOf("?")>=0?"&":"?")+VERHASH,n.scripts[$.md5(e)]=o.src,!!i&&(o.charset=i),(a?n.head:n.body).appendChild(o),o.onload=o.onreadystatechange=function(){r=s.data("isload"),this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||r||(s.data("isload",!0),t&&t(n.scripts[$.md5(e)]))})},loadcss:function(e,t,n){n=n||document;var a=(e+".css").replace(RESCSSPATH,"").split("/");if(e=arr.in_array(a[0],["common","plugin","theme"])?RESCSSPATH.replace("styles","styles/"+a[0]):RESCSSPATH,e=e+"style_"+STYLEID+"_"+a[1],!n.styles&&(n.styles={}),$(n).find("link[href*="+e.replace(/\//g,"\\/").replace(/\./g,"\\.")+"]").length>0&&(n.styles[$.md5(e)]=e.replace(/\\:/,":")+"?"+VERHASH),n.styles[$.md5(e)])t&&t(n.styles[$.md5(e)]);else{var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e.replace(/\\:/,":")+"?"+VERHASH,n.head.appendChild(i),n.styles[$.md5(e)]=i.href,i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||t&&t(n.styles[$.md5(e)])}}},fromRequest:function(e,t,n,a,i){var o=$("<form></form>");o.attr({class:"hidden",action:e,method:(n||"get").toUpperCase(),target:a||"_blank"}),i?(HTML.data("init")(),o.append('<input name="formhash" value="'+formHash+'"/>'),i="_"+formHash):i="";var s="",r="";for(var l in t)"object"==typeof t[l]?(s=t[l].nohash?l:l+i,r=t[l].val):(s=l+i,r=t[l]),o.append('<input name="'+s+'" value="'+r+'"/>');BODY.append(o),o.submit()},geetest:function(e){e||(e=BODY.find("[data-geetest=true]")),e.length>0&&$.utils.loadjs("//static.geetest.com/static/tools/gt.js",function(){$.utils.loadcss("plugin/geetest",function(){e.each(function(e,t){t=$(t),t.data("geetest_iscreate")||(t.data({geetest_iscreate:!0,verify:!1}),$.utils.create_geetest(t,t.data("geetest_fn")))})})})},geetest_reset:function(e){e.data("verify",!1),e.data("geetest").reset()},create_geetest:function(e,t){var n=e.data("geetest-type"),a=null,i=null;e.length>0&&(i=function(a){var i=function(n){n.onReady(function(){e.html(""),n.appendTo(e),e.data("geetest",n)}),n.onSuccess(function(){e.data("verify",!0),!!t&&t()}),n.onError(function(){e.data("verify",!1),n.reset()})};initGeetest({gt:a.gt,challenge:a.challenge,product:n||"float",offline:!a.success,width:"100%"},i)},a={mod:"common",inc:"validate",do:"geetest",ajaxsub:!0,formhash:formHash,randoms:Math.random()},$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(a),success:function(e){i(e)}}))},support_css3:function(e){var t,n=["webkit","Moz","ms","o"],a=[],i=document.documentElement.style,o=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})};for(t in n)a.push(o(n[t]+"-"+e));a.push(o(e));for(t in a)if(a[t]in i)return!0;return!1},setCopy:function(e,t,n,a,i){var o=e.data("setcopy-elemtext");o=o&&o.length?$.utils.isObject(o,"string")?e.find(o):o:e,!!n&&e.data("text",o.html());var s=function(){(n||a)&&(!!n&&o.html(n),!!a&&e.addClass(a),setTimeout(function(){!!n&&o.html(e.data("text")),!!a&&e.removeClass(a),e.blur(),!!i&&i()},1500))};window.ClipboardEvent?new Clipboard(e[0],{text:function(){return t}}).on("success",s):(o.html("复制模块加载中..."),$.utils.loadjs("plugin/clipboard/ZeroClipboard.js",function(){setTimeout(function(){o.html(e.data("text")),ZeroClipboard.config({moviePath:RESSWFPATH+"clipboard/ZeroClipboard.swf",hoverClass:"hover",activeClass:"active"});var n=new ZeroClipboard(e);n.on("load",function(e){_$.utils.privates.copytime=0,n.on({mouseDown:function(){n.setText(t)},complete:s})}),n.on("noflash wrongflash",function(e){$.utils.support_flash(),ZeroClipboard.destroy()})},0===_$.utils.privates.copytime?0:3e3)}))},induction_position:function(e,t){var n=e.width(),a=e.height(),i={},o=(t.pageX-e.offset().left-n/2)*(n>a?a/n:1),s=(t.pageY-e.offset().top-a/2)*(a>n?n/a:1);switch(Math.round((Math.atan2(s,o)*(180/Math.PI)+180)/90+3)%4){case 0:i.left=0,i.top="-100%";break;case 1:i.left="100%",i.top=0;break;case 2:i.left=0,i.top="100%";break;case 3:i.left="-100%",i.top=0}return i},share:function(e,t,n,a,i,o){o=o||location.href;var s=(i?"#"+i+"# ":"")+t+o+" \n\n来自 @QDFuns前端网 - WEB前端开发工程师专业网站，一站式服务平台！";t+=" (分享来自 @QDFuns前端网 - WEB前端开发工程师专业网站，一站式服务平台！)";var r=new StringBuffer;if(n&&$.utils.isObject(n,"array")&&n.length>0)for(var l in n)r.append(encodeURIComponent(n[l]));else n&&!$.utils.isObject(n,"string")&&n.length>0&&n.each(function(e,t){t=$(t);var n=t.data("original-src");n=n?location.protocol+n:t.attr("src"),n=n.split("!"),n=n[0],r.append(encodeURIComponent(n))});"sina_weibo"==e&&(url="http://service.weibo.com/share/share.php?title="+encodeURIComponent(s)+(r.array.length?"&pic="+r.array[0]:"")),"sina_weibo"==e&&$.utils.win_popup(url,"分享",510,495,!0)},support_flash:function(e){ISMOBILE||localStorage.supportFlashTipNo||dialog.prompt("","重要提示","无法加载Flash，可能没有正确安装 Adobe Flash Player，是否去官网下载并安装？","info",[["不再显示",function(){localStorage.supportFlashTipNo=!0},!0],["暂不安装",null,!0],["立即安装",function(e){window.open("http://www.adobe.com/go/getflash"),dialog.prompt("","重要提示","如果FlashPlayer已安装完毕，请点击下方刷新按钮即可，若是刷新后无效，一般重启浏览器即可。","info",[["刷新",function(){location.reload(!0)}]],0,!0)},!0]],0,!0)},view_overflow:function(e){var t=null,n=null,a=$.utils.getScrollBarWidth();e?(HTML.addClass("overflow_hide"),BODY.addClass("overflow_hide"),a>0&&document.body.scrollHeight>$.utils.maxViewHeight()&&(t=BODY.find(" > header.navbar:first"),n=BODY.find(" > #side-menu:first"),HTML.css("padding-right",a),t.removeClass("dh300").css("padding-right",a),n.css("margin-left",0-a/2))):(HTML.removeClass("overflow_hide"),BODY.removeClass("overflow_hide"),a>0&&document.body.scrollHeight>$.utils.maxViewHeight()&&(t=BODY.find(" > header.navbar:first"),n=BODY.find(" > #side-menu:first"),HTML.removeAttr("style"),t.removeAttr("style"),n.removeAttr("style"),setTimeout(function(){t.addClass("dh300")},100)))},Fullscreen:{enable:function(e){e=e||document.documentElement,e.data("fullscreen",!0),e=$.utils.isObject(e,"jQuery")?e[0]:e,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.oRequestFullscreen?e.oRequestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},disable:function(e){e=e||document,e.data("fullscreen",!1),e=document,e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.oCancelFullscreen?e.oCancelFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()},isEnable:function(e){return e=e||document.documentElement,e=$.utils.isObject(e,"jQuery")?e:$(e),e.data("fullscreen")}},button_tip:{set_empty:function(e,t,n){e.data("button_tip_no_text",!0),this.set(e,t,"",n)},set:function(e,t,n,a){var i=e.data("defclass"),o=e.data("addclass");return o=o||"",e.data({text:e.html(),disabled:!!e.prop("disabled"),ajaxflag:!t}).attr("data-submit",!t),e.data("defclass",i||e.attr("class")),e.prop("disabled",t),n=n||"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",e.addClass(o),a=a?e.find(a):e,!e.data("button_tip_no_text")&&a.html(n),e},check:function(e){var t=e.data("ajaxflag");return void 0===t||!!t},prompt_reset:function(e,t,n,a,i,o){var s=this;switch(o=o||2,e.removeClass("loading loading_circle loading_circle_text"),"button"==e[0].tagName.toLowerCase()&&a&&e.removeClass("btn-light btn-primary btn-light btn-success btn-info btn-warning btn-danger btn-mystery btn-link").addClass("btn-"+a),e.prop("disabled",e.data("disabled")),t){case"!":t='<svg viewBox="0 0 1024 1024" class="icons"><use xlink:href="/res/svg/common.svg#warning"></use></svg>';break;case"x":t='<svg viewBox="0 0 1024 1024" class="icons"><use xlink:href="/res/svg/common.svg#close"></use></svg>';break;case"v":t='<svg viewBox="0 0 1024 1024" class="icons"><use xlink:href="/res/svg/common.svg#ok"></use></svg>';break;case"?":t='<svg viewBox="0 0 1024 1024" class="icons"><use xlink:href="/res/svg/common.svg#question"></use></svg>';break;default:t=""}return n=n||"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",!!t&&!/^(\&nbsp\;)*$/.test(n)&&e.addClass("icons_text"),i=i?e.find(i):e,!e.data("button_tip_no_text")&&i.html(t).append(n),setTimeout(function(){s.reset(e)},1e3*o),e},reset:function(e,t){t=t||0;var n=function(){var t=e.data("defclass");!!t&&e.attr("class",t),e.prop("disabled",e.data("disabled")).attr("data-submit",!e.data("ajaxflag")).data("ajaxflag",!e.data("ajaxflag")),!e.data("button_tip_no_text")&&e.html(e.data("text"))};return t>0?setTimeout(n,1e3*t):n(),e}},isSupportFileApi:function(){return window.File&&window.FileList&&window.FileReader&&window.Blob},win_popup:function(e,t,n,a,i){var o=0,s=0;n>0&&a>0&&(o=(screen.width-n)/2,s=(screen.height-a)/2,i=", top="+s+", left="+o+", width="+n+", height="+a+"toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no",i=i.replace(/^,/,""));var r=window.open(e,t,i);return r.focus(),r},win_popup_connect:function(e){var t=0,n=0;"qq"==e?(t=600,n=400):"weibo"==e?(t=770,n=630):"github"==e&&(t=335,n=660),$.utils.win_popup("/connect.php?mod="+e,"qdfuns-connect-"+e,t,n)},win_close:function(){try{BROWSER.ie&&(window.opener=null),window.open("","_self",""),window.close()}catch(e){try{window.opener=null,window.open("","_self"),window.close()}catch(e){window.close()}}},loading:{check:function(e){var t=!1,n="";return e.length>0&&(t=e.data("type"),n=e.data("addclass")),[t,n]},show:function(e){var t=this.check(e),n=t[0],a=t[1];"jumper"==n?e.removeClass("hide zoomOut").addClass("zoomIn").addClass(a):"circle"==n&&e.removeClass("hide fadeOut").addClass("fadeIn").addClass(a).find(".circle-pct").css("stroke-dashoffset",380).find("span").text("0%")},hide:function(e){var t=this.check(e),n=t[0],a=t[1];"jumper"==n?e.removeClass("zoomIn").removeClass(a).addClass("zoomOut"):"circle"==n&&(e.find(".circle-pct").css("stroke-dashoffset",0),e.find("span").text("100%"),e.removeClass("fadeIn").removeClass(a).addClass("fadeOut"))},progress:function(e,t){"circle"==this.check(e)&&(e.find("span").text(t+"%"),e.find(".circle-pct").css("stroke-dashoffset",380-t/100*380))}},refresh_pv:function(e,t){t=t||location.href,window._czc&&_czc.push(["_trackPageview",e,t]),window._hmt&&_hmt.push(["_trackPageview",e,t])}};var attachment={getpath:function(e){return(e||"").replace(/^(\/|)extend\//,"")},geturl:function(e,t,n,a){HTML.data("init")(),a=a||ATTACHPATH,e=this.getpath(e).replace(ATTACHPATH,"");var i=t?t.split("!"):["",!1];return e="/attachment/"==a?a+"extend/"+e:n?a+e+(/.*?!/.test(e)?i[0]?"":".":"!")+i[0]+(i[1]?i[1]:""):a+e+(/.*?!/.test(e)?i[0]?"":".":"!")+(i[0]?i[0]:"")+(i[1]?i[1]:""),e.replace(/!$/,"")},load_unused:function(e){$.utils.loadcss("plugin/ajax_load_unused_attach",function(){setTimeout(function(){$.utils.loadjs("plugin/ajax_upload/load_unused.js",function(){load_unused(e)})},500)})},unused_syslog:function(e){switch(e){case"article_publish":e="发表文章时上传";break;case"article_edit":e="编辑文章时上传";break;case"article_comment_publish":e="发表文章评论时上传";break;case"article_comment_edit":e="编辑文章评论时上传";break;case"note_publish":e="发表笔记时上传";break;case"note_edit":e="编辑笔记时上传";break;case"note_comment_publish":e="发表笔记评论时上传";break;case"note_comment_edit":e="编辑笔记评论时上传";break;default:e="暂无"}return e},cover:{get_path:function(e,t,n,a,i,o){e=e.split("!")[0],max_width=n,max_height=a;var s=n/a;return n>=a?(n=o*s,a=o,s="x",n<i&&(n=i,a=i/s,s="y")):(n=i,a=i/s,s="y",a<o&&(n=o*s,a=o,s="x")),n=Math.round(n),a=Math.round(a),"x"==s?(t=Math.round(t/(max_width/n)),e+"!/fxfn2/"+i+"x"+o+"/clip/"+i+"x"+o+"a"+(t||0)+"a0/force/true"):(t=Math.round(t/(max_height/a)),e+"!/fxfn2/"+i+"x"+o+"/clip/"+i+"x"+o+"a0a"+(t||0)+"/force/true")},get_html:function(e,t,n){$.utils.loadcss("plugin/upload_cover_pic_area");var a=new StringBuffer;return a.append('<div class="upload-cover-pic" data-upload-dowhat="'+n+'" data-cover-type="'+e+'">'),a.append('<div class="upload_area">'),a.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#plus"></use></svg>'),a.append("<p>封面（可无）<br/>建议尺寸：400 x 300</p>"),a.append("</div>"),a.append('<div class="cover-update dh300"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#replace"></use></svg><span>修改</span></div>'),a.append('<p class="cover-upload-tip"></p>'),e&&(a.append('<div class="cover-delete dh300"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#delete"></use></svg><span>删除</span></div>'),a.append('<div class="confirm">'),a.append('<button type="button" class="close" aria-label="Close" data-toggle="tooltip" data-container="body" data-placement="top" data-trigger="hover" title="取消删除"><span aria-hidden="true">×</span><span class="sr-only">取消删除</span></button>'),a.append('<button type="button" class="btn-del btn btn-sm btn-danger" '),!!t&&a.append('data-cover-type-id="'+t+'" '),a.append('data-addclass="loading_circle_text" data-text="删除">删除</button>'),a.append("</div>")),a.append("</div>"),a.toString()},get_box:function(e,t,n,a,i){$.utils.loadcss("plugin/get_cover_picture",function(){var o=e.attr("data-default-path");if(e.removeAttr("data-default-aid"),e.removeAttr("data-default-filename"),e.removeAttr("data-default-filesize"),e.removeAttr("data-default-pos"),e.removeAttr("data-default-path"),e.removeAttr("data-upload-dowhat"),!(t=t||o))return!1;var s=e.outerWidth(),r=e.outerHeight(),l=new Image,d=e.data("max-width"),c=e.data("max-height"),u=e.data("event_cover_move"),p=0,f=0,h="x",m=0,g=!1;e.find(".cover-area:first").remove();var v=$('<div class="cover-area loading_circle"></div>');e.append(v),l.src=attachment.geturl(t,n),l.onload=l.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(!d&&(d=0),!c&&(c=0),p=l.width,f=l.height,m=p/f,p>=f?(p=r*m,f=r,h="x",p<s&&(p=s,f=s/m,h="y")):(p=s,f=s/m,h="y",f<r&&(p=r*m,f=r,h="x")),p=Math.round(p),f=Math.round(f),i>=0&&(g="x"==h?Math.round(i/(d/p)):Math.round(i/(c/f))),function(){var t=$(l),n=!1,i=p-s,o=f-r,m={x:0,y:0},_=e.offset(),b=0,y=0;t.css({top:0,left:0,width:p,height:f}),t.on(ISMOBILE?"touchstart":"mousedown",function(t){t.preventDefault(),t.stopPropagation(),t=ISMOBILE?t.targetTouches[0]:t,g=e.data("pos"),m.x=s-t.pageX-_.left,m.y=r-t.pageY-_.top,n=!0});DOC.on(ISMOBILE?"touchend":"mouseup",function(e){e.stopPropagation(),e=ISMOBILE?e.targetTouches[0]:e,n=!1}),"y"==h?(t.addClass("ns"),g=!1===g?(f-r)/2:0==g?0:f-g<r?f-r:g,t.css("transform","translate(0, "+(0-g)+"px)"),e.data({pos:g,max_pos:Math.round(g*c/f)}),DOC.on(ISMOBILE?"touchmove":"mousemove",function(a){a.stopPropagation(),a=ISMOBILE?a.targetTouches[0]:a,n&&(y=Math.abs(g)+(r-a.pageY-_.top)-m.y,y=y<0?0:y>o?o:y,t.css("transform","translate(0, "+(0-y)+"px)"),e.data({pos:y,max_pos:Math.round(y*c/f)}),!!u&&u())})):(t.addClass("ew"),g=!1===g?(p-s)/2:0==g?0:p-g<r?p-s:g,t.css("transform","translate("+(0-g)+"px, 0)"),e.data({pos:g,max_pos:Math.round(g*d/p)}),DOC.on(ISMOBILE?"touchmove":"mousemove",function(a){a.stopPropagation(),a=ISMOBILE?a.targetTouches[0]:a,n&&(b=Math.abs(g)+(s-a.pageX-_.left)-m.x,b=b<0?0:b>i?i:b,
    t.css("transform","translate("+(0-b)+"px, 0)"),e.data({pos:b,max_pos:Math.round(b*d/p)}),!!u&&u())})),e.data({direction:h,size:{width:d,height:c},small_size:{width:p,height:f},cover_size:{width:s,height:r}}),v.removeClass("loading_circle").append(t),!!a&&a(h)}())}})}}},convert={get_fileunit:function(e){return e=parseFloat(e),e=e>=1073741824?(e/1073741824).toFixed(1)+" GB":e>=1048576?(e/1048576).toFixed(1)+" MB":e>=1024?(e/1024).toFixed(1)+" KB":e.toFixed(1)+" B"},md5:function(e){return $.md5(e+"")},strrev:function(e){return e.split("").reverse().join("")},str2CharCode:function(e,t){for(var n=new StringBuffer,a=0,i=e.length;a<i;a++)n.append(e.charCodeAt(a).toString());return n.toString(t)},timestamp2date:function(e,t){var n=new Date(e);return t=!!t,{Y:t?$.utils.zeroFill(n.getFullYear()):n.getFullYear(),M:t?$.utils.zeroFill(n.getMonth()+1):n.getMonth()+1,D:t?$.utils.zeroFill(n.getDate()):n.getDate(),h:t?$.utils.zeroFill(n.getHours()):n.getHours(),m:t?$.utils.zeroFill(n.getMinutes()):n.getMinutes(),s:t?$.utils.zeroFill(n.getSeconds()):n.getSeconds()}},url_protocol_completion:function(e){return/^http(s|)\:\/\//.test(e)?e:"http://"+e},xssfilter:{url:function(e){return e.replace(/^(\s)*(javascript\:).*/i,"")}},myria_billion:function(e,t,n){return e=parseInt(e),e>99999999?(t=t||2,e=(e/1e8).toFixed(t).replace(/\.(\d)0*/,".$1").replace(/\.0*$/,""),n?e+"<"+n+">亿</"+n+">":e+"亿"):e>9999?(t=t||2,e=(e/1e4).toFixed(t).replace(/\.(\d)0*/,".$1").replace(/\.0*$/,""),n?e+"<"+n+">万</"+n+">":e+"万"):e},thousand_myria_billion:function(e,t,n){return e=parseInt(e),e>99999999?(t=t||2,e=(e/1e8).toFixed(t).replace(/\.(\d)0*/,".$1").replace(/\.0*$/,""),n?e+"<"+n+">Yi</"+n+">":e+"Yi"):e>9999?(t=t||2,e=(e/1e4).toFixed(t).replace(/\.(\d)0*/,".$1").replace(/\.0*$/,""),n?e+"<"+n+">W</"+n+">":e+"W"):e>999?(t=t||2,e=(e/1e3).toFixed(t).replace(/\.(\d)0*/,".$1").replace(/\.0*$/,""),n?e+"<"+n+">k</"+n+">":e+"k"):e}},my_keyboard={ctrl:"mac"==OSNAME?"&#8984":"Ctrl",comdctrl:function(e){return e.ctrlKey&&"mac"!=OSNAME||e.metaKey&&"mac"==OSNAME}},copyright={icon:{by:{allwo:'<svg class="copyright_icon copyright_icon_by" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_by_enable"></use></svg>',deny:'<svg class="copyright_icon copyright_icon_by" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_by_disable"></use></svg>'},modify:{allow:'<svg class="copyright_icon copyright_icon_modify" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_modify_enable"></use></svg>',deny:'<svg class="copyright_icon copyright_icon_modify" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_modify_disable"></use></svg>'},reproduced:{allow:'<svg class="copyright_icon copyright_icon_reproduced" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_reproduced_enable"></use></svg>',deny:'<svg class="copyright_icon copyright_icon_reproduced" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_reproduced_disable"></use></svg>'},business:{allow:'<svg class="copyright_icon copyright_icon_business" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_business_enable"></use></svg>',deny:'<svg class="copyright_icon copyright_icon_business" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#copyright_business_disable"></use></svg>'}},text:{by:{title:"保留原作者信息",info:"对本作品转载分享或修改，必须保留原作者（若属转载，请保留原作者署名及原文链接）。"},modify:{title:"禁止修改",info:"任何人都不能对此作品重新编排、节选或以此为基础进行创作。"},reproduced:{title:"禁止转载",info:"禁止任何形式的转载，含匿名转载。"},business:{title:"禁止商业使用",info:function(e,t){return'不允许将此作品用于商业使用，如需使用，请与 <a href="javascript:;" class="primary hand" data-toggle="sendmsg" data-event="false" data-touid="'+e+'">'+t+"</a> 联系！"}}},html:function(e,t,n,a){$.utils.loadcss("plugin/copyright");var i=new StringBuffer,o="";return i.append('<p class="options_copyright_tips alert alert-warning"><b>提示：</b>'+WEBNAME+"官方用作宣传推广时，不受以下所有 “版权声明” 的约束。<br/><b>例如：</b>微博，微信，QQ，今日头条等其他媒体的转载推广。</p>"),i.append('<div class="options_copyright">'),i.append('<label class="checkbox checkbox_success" for="copyright-by">'),i.append('<input id="copyright-by" name="copyright-by" data-type="by" data-toggle="checkbox" type="checkbox"'+(!0===e?' checked="true"':"")+"/>"),i.append(this.icon.by.deny),i.append('<span class="checkbox_text">'+this.text.by.title+"</span>"),i.append("<p>"+this.text.by.info+"</p>"),i.append("</label>"),i.append("</div>"),i.append('<div class="options_copyright">'),i.append('<label class="checkbox checkbox_danger" for="copyright-modify">'),i.append('<input id="copyright-modify" name="copyright-modify" data-type="modify" data-toggle="checkbox" type="checkbox"'+(!0===t?' checked="true"':"")+"/>"),i.append(this.icon.modify.deny),i.append('<span class="checkbox_text">'+this.text.modify.title+"</span>"),i.append("<p>"+this.text.modify.info+"</p>"),i.append("</label>"),i.append("</div>"),i.append('<div class="options_copyright">'),i.append('<label class="checkbox checkbox_danger" for="copyright-reproduced">'),i.append('<input id="copyright-reproduced" name="copyright-reproduced" data-type="reproduced" data-toggle="checkbox" type="checkbox"'+(!0===n?' checked="true"':"")+"/>"),i.append(this.icon.reproduced.deny),i.append('<span class="checkbox_text">'+this.text.reproduced.title+"</span>"),i.append("<p>"+this.text.reproduced.info+"</p>"),i.append("</label>"),i.append("</div>"),i.append('<div class="options_copyright">'),i.append('<label class="checkbox checkbox_danger" for="copyright-business">'),i.append('<input id="copyright-business" name="copyright-business" data-type="business" data-toggle="checkbox" type="checkbox"'+(!0===a?' checked="true"':"")+"/>"),i.append(this.icon.business.deny),i.append('<span class="checkbox_text">'+this.text.business.title+"</span>"),i.append("<p>"+copyright.text.business.info(MEMBER_ID,MEMBER_NAME)+"</p>"),i.append("</label>"),i.append("</div>"),o=$(i.toString()),i.clear(),send_message(null,o),o},numToHtml:function(e){var t=e.replace(/\s*/g,"").split(","),n=arr.in_array(1,t),a=arr.in_array(2,t),i=arr.in_array(3,t),o=arr.in_array(4,t);return this.html(n,a,i,o)}},getCodeType=function(e){if(!e)return["html","css","less","sass/scss","stylus","js","javascript","json","xml","markdown"];switch(e.toLowerCase()){case"html":return"HTML";case"css":return"CSS";case"less":return"Less";case"sass/scss":return"Sass/Scss";case"stylus":return"Stylus";case"js":case"javascript":return"JavaScript";case"json":return"JSON";case"xml":return"XML";case"markdown":return"MarkDown";default:return"HTML"}},codebox={runcode_template:function(e,t,n,a,i){var o=new StringBuffer;o.append("<html>"),o.append("<head>"),o.append("<title>"),o.append(t),o.append("</title>"),o.append('<meta charset="utf-8"/>'),o.append('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'),n&&(o.append('<style type="text/css">'),o.append("*{margin:0; padding:0;}"),$.utils.isObject(n,"string")&&o.append(n),o.append("</style>")),o.append("</head>"),o.append("<body>"),o.append("</body>"),o.append("</html>"),e.write(o.toString()),e=$(e),!!i&&e.find("body:first").append(i);var s=null;a&&(s=e.find("head:first"),s.append(a),s.find("script").remove())},runcode:function(e,t,n){if(arr.in_array(t.toLowerCase(),["css","sass/scss","less"]))return n.remove(),!1;HTML.data("init")();var a=window.open("","_blank",""),i=a.document,o=(new RegExp("\\<script[\\s\\S]*?\\<\\/script\\>","igm"),[]);i.open("text/html","replace"),a.opener=null,i.close(),"js"==t||"javascript"==t?($.utils.loadjs("plugin/runcode/console.js",function(t){var n=new StringBuffer;n.append('<script type="text/javascript">'),n.append("var qdfuns_devbox = document.createElement('div');"),n.append("jsdev.init({"),n.append("transparency:1,"),n.append("displaySize:100,"),n.append("navBarBgColor:'#2196f3',"),n.append("container:document.body,"),n.append("tool:['console']"),n.append("});"),n.append("jsdev.show();"),n.append("<\/script>"),n.append('<script type="text/javascript">'+e+"<\/script>"),codebox.runcode_template(i,"QDFuns JavaScript Console",!0,n.toString())},i,!0),i.close()):"json"==t?($.utils.loadjs("plugin/runcode/console.js",function(t){var n=new StringBuffer;n.append('<script type="text/javascript">'),n.append("var qdfuns_devbox = document.createElement('div');"),n.append("jsdev.init({"),n.append("transparency:1,"),n.append("displaySize:100,"),n.append("navBarBgColor:'#2196f3',"),n.append("container:document.body,"),n.append("tool:['console']"),n.append("});"),n.append("jsdev.show();"),n.append("console.log("+e+")"),n.append("<\/script>"),codebox.runcode_template(i,"QDFuns JavaScript Console",!0,n.toString())},i,!0),i.close()):"xml"==t?($.utils.loadjs("plugin/underscore/core.js",function(){$.utils.loadjs("https://cdn.bootcss.com/js-signals/1.0.0/js-signals.js",function(){$.utils.loadjs("plugin/runcode/xmlview.js",function(){$.utils.loadcss("plugin/runcode_xml",function(t){var n=new StringBuffer;n.append('<div class="xv-search-panel">'),n.append('<input type="search" class="xv-search-field" spellcheck="false" placeholder="搜索标签名称或路径"/>'),n.append('<span class="xv-search-xpath-result"></span>'),n.append("</div>"),n.append('<div class="xv-source-pane">'),n.append('<div class="xv-source-pane-inner"></div>'),n.append("</div>"),codebox.runcode_template(i,"QDFuns XML View",!1,'<link rel="stylesheet" type="text/css" href="'+t+'">',n.toString()),a.xv_controller.process(e)})},i,!0)},i,!0)},i,!0),i.close()):(i.writeln(e),setTimeout(function(){i.writeln(o.join("")),i.close()},50))},coderun_box:function(){var e=null,t=null,n=null,a=null;return e=$('<div class="codepanel"></div>'),t=$('<div class="toolbar dh300 clearfix"></div>'),n=$('<button class="btn_coderun dhi300"><span class="dh300">运行</span><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#btn_coderun"></use></svg></button>'),a=$('<button class="btn_codecopy dhi300"><span class="dh300">复制</span><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#btn_codecopy"></use></svg></button>'),a.data("setcopy-elemtext",a.find("span:first")),[e,t,n,a]},precode:{create:function(e,t){e.data("init")||(HTML.data("init")(),$.utils.loadcss("plugin/hljs_"+(CODETHEME||"github"),function(){var n=!!e.data("run"),a=null,i=null,o=null,s=null,r=null,l=e.find("code:first"),d=l.text();$.utils.timestamp_ms();t=t.toLowerCase(),("scss"==t||"sass"==t)&&e.data("codetype","scss"),"html"==t&&e.data("codetype","html"),t="sass/scss"==t?"scss":t,a=codebox.coderun_box(),i=a[0],o=a[1],s=a[2],r=a[3],n&&o.append(s),o.append(r),e.wrap(i).before(o),function(e,t){$.utils.setCopy(r,e,"代码已成功复制"),s.click(function(){$.utils.refresh_pv(location.href+"#runcode-panel"),codebox.runcode(e,t,s)})}(d,t),hljs.initHighlightingOnLoad(),hljs.highlightBlock(l[0]),d=new StringBuffer,d.append("<ul>");for(var c=0,u=1,p=l.html().split("\n"),f=p.length;c<f;c++,u++)d.append('<li data-line-number="'+u+'"><code>'+p[c]+"</code></li>");d.append("</ul>"),l.replaceWith(d.toString()),e.data("init",!0)}))}},codeMirror:{loadmode:function(e,t){t=t.toLowerCase();var n=getCodeType(),a=null,i=null;t=arr.in_array(t,n)?t:"html",t="sass/scss"==t?"sass":t,t="js"==t?"javascript":t,"html"==t?(i="htmlmixed",a={name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars-template|\/x-mustache/i,mode:null},{matches:/(text|application)\/(x-)?vb(a|script)/i,mode:"javascript"}]}):"sass"==t?(i="sass",a="text/x-sass"):"less"==t?(i="css",a="text/x-less"):"json"==t?(i="javascript",a="application/json"):(i=t,a=t),"html"==t?$.utils.loadjs("plugin/codemirror/htmlmixed/core.js",function(){$.utils.loadjs("plugin/codemirror/xml/core.js",function(){$.utils.loadjs("plugin/codemirror/css/core.js",function(){$.utils.loadjs("plugin/codemirror/javascript/core.js",function(){e.setOption("mode",a)})})})}):arr.in_array(i,["flow","sequence","seq"])||$.utils.loadjs("plugin/codemirror/"+i+"/core.js",function(){e.setOption("mode",a)}),e.setOption("codetype",t)},create:function(e,t,n,a){e.data("init")||(a=a||"default",e.hide().data("editor",CodeMirror.fromTextArea(e[0],{theme:a,styleActiveLine:!n,showCursorWhenSelecting:!n,matchBrackets:!0,autoCloseBrackets:!0,lineNumbers:!0,lineWrapping:$.utils.maxViewWidth()>=600,indentUnit:2,smartIndent:!0,selectionPointer:!0,tabSize:4,maxHighlightLength:"Infinity"})),codebox.codeMirror.loadmode(e.data("editor"),t),e.data("init",!0))},fixed_code_panel:function(e,t,n,a,i){if(n.data("codepanel_pin_flag"))return!1;n.data("codepanel_pin_flag",!0);var o=!1,s=i.data("codebox_parent"),r=s||WIN,l=!!s,d=function(e){if((o||!n.data("codepanel_pin_enable"))&&!e)return!1;o=!0;var a=t.height(),i=n.data("pin_s")?n.data("pin_s"):l?n.position().top:n.offset().top;n.css("width",t.width()).data({pin_s:i,pin_h:a,pin_e:i+n.outerHeight(!0)+a-150})},c=function(){var a=r.scrollTop();if(!n.data("codepanel_pin_enable"))return n.removeAttr("style").removeClass("fixed_active"),!1;d();var i=parseInt(n.data("pin_s")),o=parseInt(n.data("pin_e")),s=e.hasClass("navbar-auto-visible slideOutUp");!s&&!l&&(i-=e.height()),o-i>200&&(a>=i&&a<o?n.removeAttr("style").css({top:l?0:s?0:e.height(),width:t.width()}).addClass("fixed_active"):a>=o?n.css({top:o-i,position:"absolute"}).removeClass("fixed_active"):n.removeAttr("style").removeClass("fixed_active"))},u=function(){setTimeout(function(){d(!0)},1e3)};r.on("resize.codepanel.pin",u),r.on("scroll.codepanel.pin",c),a.on("change",function(){setTimeout(function(){d(!0)},1e3)})},create_panel:function(e,t,n,a){t=getCodeType(t||"html");var i=null,o=null,s=null,r=null,l=null,d=null,c=null,u=null,p=null,f=null,h=null,m=null,g=null,v=!!e.data("run");new StringBuffer;if(a=a||"default",!e.data("init"))return i=BODY.find("header.navbar:first"),o=codebox.coderun_box(v),s=o[0],s.addClass("editor_mode codebox_"+a),r=o[1],l=o[2],d=o[3],c=$('<button class="btn_coddextend dhi300"><span class="dh300">展开</span><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#codebox_toolbar_btn_extend"></use><use xlink:href="/res/svg/common.svg#codebox_toolbar_btn_shrink"></use></svg></button>'),u=c.find("span:first"),p=e.data("extend_shrink_minline"),p=p||22,f=$('<button class="btn_codefullscreen dhi300"><span class="dh300">全屏</span><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#codebox_toolbar_btn_fullView_off"></use><use xlink:href="/res/svg/common.svg#codebox_toolbar_btn_fullView_on"></use></svg></button>'),h=f.find("span:first"),e.wrap(s),codebox.codeMirror.create(e,t,n,a),m=e.data("editor"),s=e.parents(".codepanel:first"),r.removeClass("dh300"),r.append('<a class="codename" href="/tag.php?name='+t.toLowerCase()+'" target="_blank">'+t+"</a>"),v&&r.append(l),r.append(d),r.append(f),m.lineCount()<=p&&c.addClass("disable"),s.prepend(r),g=s.find(".CodeMirror"),g.height(g.outerHeight()),m.on("change",function(){m.lineCount()>p?(c.removeClass("disable"),g.height(g.outerHeight())):(c.addClass("disable"),g.height("auto"))}),m.refresh(),function(t){l.click(function(){var e=t.getValue(),n=t.getOption("codetype");codebox.runcode(e,n,l)}),$.utils.setCopy(d,t.getValue(),"代码已成功复制"),f.click(function(){s.hasClass("editor_fullView")?(HTML.removeClass("codebox_fullView"),s.removeClass("editor_fullView"),h.text("全屏")):(HTML.addClass("codebox_fullView"),s.addClass("editor_fullView"),h.text("还原")),t.refresh()}),c.click(function(){if(m.lineCount()<=p)return!1;g.toggleClass("extend"),c.toggleClass("active"),g.removeAttr("style");var n=0;g.hasClass("extend")?(!e.data("disable_pin")&&codebox.codeMirror.fixed_code_panel(i,s,r,m,e),r.data("codepanel_pin_enable",!0),u.text("收缩")):(r.data("codepanel_pin_enable",!1),n=r.data("pin_s"),!!n&&WIN.scrollTop(parseInt(n)-(i.hasClass("navbar-auto-visible slideOutUp")?0:i.height())),u.text("展开"),g.height(g.outerHeight())),common_pin_update(),t.refresh()})}(m),s}}},create_codebox_buttons=function(e,t,n,a,i){if(!e||e.length<=0)return!1;var o=null,s=null,r=null,l=!1,d=!1;e.data("code-button")?(s=$(t.toString()),r=s.find("span:first"),s.click(function(){o?l&&(d?(l=!1,d=!1,r.text("收缩代码"),o.removeClass("hide fadeOutUp").addClass("fadeInDown"),setTimeout(function(){l=!0,common_pin_update()},600)):(d=!0,r.text("展开代码"),o.removeClass("hide fadeInDown").addClass("fadeOutUp"),setTimeout(function(){o.addClass("hide"),l=!0,common_pin_update()},600))):(r.text("收缩代码"),e.removeAttr("data-code-button"),o=codebox.codeMirror.create_panel(e,n||e.data("code-type"),a||e.data("noreadonly"),i||e.data("theme")),o.addClass("animated animated600 fadeInDown"),setTimeout(function(){l=!0,common_pin_update()},600))}),e.before(s)):codebox.codeMirror.create_panel(e,n||e.data("code-type"),a||e.data("noreadonly"),i||e.data("theme"))},create_codebox=function(e,t,n,a,i){e=e||BODY,i=!i;var o=e[0].tagName.toLowerCase(),s=new StringBuffer;"pre"==o?codebox.precode.create(e,t||e.data("code-type")):e.find("pre[data-code-type]").each(function(e,n){n=$(n),codebox.precode.create(n,t||n.data("code-type"))}),"textarea"==o?toolbar?create_codebox_buttons(e,s,t,n,a):codebox.codeMirror.create(e,t||e.data("code-type"),n||e.data("noreadonly"),a||e.data("theme")):e.find("textarea[data-code-type]").each(function(e,i){i=$(i),toolbar?create_codebox_buttons(i,s,t,n,a):codebox.codeMirror.create(i,t||i.data("code-type"),n||i.data("noreadonly"),a||i.data("theme"))})},video_refresh=function(e){e=e||BODY,e.find(".video_frame .player_box[data-playerbulid=false]").each(function(e,t){t=$(t);var n=t.data("playerval").split(","),a=t.data("autoplay"),i=$.utils.getVideoSwf(convert.xssfilter.url(n[2]),a);t.data("playerbulid",!0).removeAttr("data-playerbulid").removeAttr("data-playerval").removeAttr("data-autoplay"),3==n.length&&!!i&&t.html(flash_player.html("width",n[0],"height",n[1],"allowNetworking","internal","allowScriptAccess","never","src",encodeURI(i),"quality","high","bgcolor","#ffffff","wmode","transparent","allowfullscreen","true"))})},mathjax_refresh=function(e){e?MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]):MathJax.Hub.Queue(["Typeset",MathJax.Hub])},flowcharts={create:function(e,t,n,a,i,o){n=n||14,a=a||2,i=i||40;var s=flowchart.parse(t);return s.drawSVG(e[0],{x:0,y:0,"line-width":a,"line-length":i,"text-margin":o,"font-size":n,"font-color":"#000","line-color":"#000","element-color":"#000",fill:"#fff","yes-text":"Yes","no-text":"No","arrow-end":"block",class:"flowchart",symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{}}}),e.find("a").attr("target","_blank"),s},refresh:function(e){("string"==typeof e?$("#"+e):e).find(".flow_panel[data-isbuild!='true']").each(function(e,t){t=$(t),t.attr({"data-isbuild":"true","data-zoom":"false"});var n=t.find("textarea:first"),a=n.length>0,i=$('<div class="flowlabel dh300"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#flowcharts"></use></svg> 流程图</div>'),o=a?n.val():t.find("pre:first").is("pre")?t.find("pre:first").text():t.text(),o=t.text();t.html(""),t.html("<textarea>"+o+"</textarea>");try{flowcharts.create(t,o)}catch(e){t.addClass("errorflow").html(""),i.text("流程图不完整或语法错误")}t.prepend(i),a||t.height(t.height())})},zoom:function(e){var t=("string"==typeof e?$("#"+e):e).find(".flow_panel[data-zoom!='true']"),n=t.find(".flowlabel,a"),a=null;!ISMOBILE&&t.attr("data-zoom","true").click(function(){if(_this=$(this),_this.hasClass("errorflow"))return!1;var e=_this.find("textarea:first").val(),t="zoom_"+$.utils.timestamp_ms(),n=$('<div id="'+t+'" class="zoom_panel zoom_flow dh300"></div>');BODY.find("header.navbar:first > .container:first");BODY.append(n),$.utils.view_overflow(!0),!!a&&a.clean(),a=flowcharts.create(n,e),n.one("click",function(){n.removeClass("show"),setTimeout(function(){$.utils.view_overflow(),n.remove()},600)}),n.find(".flowlabel,a").one("click",function(e){e.stopPropagation()}),setTimeout(function(){n.addClass("show")},100),$.utils.refresh_pv(location.href+"#modal-flow")}),n.click(function(e){e.stopPropagation()})},abbr:function(e){for(var t=e.match(/^.*?.$/gm),n=[],a=[],i=[],o=function(e){var t=e.split("->");return t[t.length-1]},s=function(e,t){return e.indexOf(o(t))},r=function(e,t){return e.indexOf(o(t+"(yes)"))},l=function(e,t){return e.indexOf(o(t+"(no)"))},d=function(e){for(var t=0;;t++)if(void 0===e[t])return t},c=function(e,t,a,o){if(-1===a)return!1;i[o]=i[o]||[],0!==i[o].length&&i[o][i[o].length-1]===n[a]||i[o].push(n[a]),i[o].push(t[a]);var u=s(n,i[o][i[o].length-1]);if(-1!==u)c(n,t,u,o);else if(0!==n.length){var p=r(n,i[o][i[o].length-1]);c(n,t,p,d(i));var f=l(n,i[o][i[o].length-1]);c(n,t,f,d(i))}return!1},u=0,p=t.length,f=[],h=[];u<p;u++)f=t[u].split("->"),n.push(f[0]),h=f.slice(1).join("->"),a.push(h);c(n,a,0,0),e=[];for(var u=0,p=i.length;u<p;u++)e.push(i[u].join("->"));for(var u=0,p=e.length,m=[];u<p;u++)m=e[u].split("->"),e[u]=arr.unique(m).join("->");return e.join("\n")}},sequence={create:function(e,t){Diagram.parse(t).drawSVG(e[0],{theme:"simple"})},refresh:function(e){("string"==typeof e?$("#"+e):e).find(".sequence_panel[data-isbuild!='true']").each(function(e,t){t=$(t),t.attr({"data-isbuild":"true","data-zoom":"false"});var n=t.find("textarea:first"),a=n.length>0,i=$('<div class="seqlabel dh300"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#sequence"></use></svg> 序列图</div>'),o=a?n.val():t.find("pre:first").is("pre")?t.find("pre:first").text():t.text();t.html(""),t.html("<textarea>"+o+"</textarea>");try{sequence.create(t,o)}catch(e){t.addClass("errorseq").html(""),i.text("序列图不完整或语法错误")}t.prepend(i),a||t.height(t.height())})},zoom:function(e){var t=("string"==typeof e?$("#"+e):e).find(".sequence_panel[data-zoom!='true']"),n=t.find(".sequence_panel,a"),a=null;!ISMOBILE&&t.attr("data-zoom","true").click(function(){if(_this=$(this),_this.hasClass("errorseq"))return!1;var e=_this.find("textarea:first").val(),t="zoom_"+$.utils.timestamp_ms(),n=$('<div id="'+t+'" class="zoom_panel zoom_sequence dh300"></div>');BODY.find("header.navbar:first > .container:first");BODY.append(n),$.utils.view_overflow(!0),a=sequence.create(n,e),n.find("a").attr("target","_blank"),n.one("click",function(){n.removeClass("show"),setTimeout(function(){$.utils.view_overflow(),n.remove()},600)}),n.find(".seqlabel,a").one("click",function(e){e.stopPropagation()}),setTimeout(function(){n.addClass("show")},100),$.utils.refresh_pv(location.href+"#modal-sequence")}),n.click(function(e){e.stopPropagation()})}},arr={in_array:function(e,t){if("string"==typeof e||"number"==typeof e)for(var n in t)if(t[n]==e)return!0;return!1},unique:function(e){for(var t,n=[],a={},i=0;e&&null!=(t=e[i]);i++)a[t]||(n.push(t),a[t]=!0);return n}};jQuery,function(e){e.fn.extend({autoheight:function(t,n){var a=e(this),i={minHeight:100,maxHeight:200},o=["margin","padding","width","line-height","font-family","font-size","fontWeight","font-style","letter-spacing","text-transform","word-spacing","text-indent"];n=void 0!=n?n:e.isFunction(t)?t:function(){},t=void 0==t?i:e.isFunction(t)?i:t;for(x in i)void 0==t[x]&&(t[x]=i[x]);return 0==e("#autoHeight_div").length&&BODY.append(e("<div></div>").attr("id","autoHeight_div").css({position:"absolute",left:"-100em"})),a.each(function(){var a=e(this);a.data("autoheight_initHeight","auto"==t.minHeight?e(this).height():t.minHeight).on("input change propertychange focus",function(){var i=a.height(),s=e("#autoHeight_div");for(x in o)s.css(o[x],a.css(o[x]));e("#autoHeight_div").html(a.val().replace(new RegExp("\\n","g"),"<br />&nbsp;"));var r=Math.min(Math.max(a.data("autoheight_initHeight"),s.height()),t.maxHeight);i!=r&&n.call(a.height(r),r)}),a.change()}),a}})}(jQuery);var send_message=function(e,t){var n=formHash,a=t?t.find("[data-toggle=sendmsg][data-event=false]"):$("[data-toggle=sendmsg][data-event=false]");a.each(function(e,t){var t=$(t);t.data({senduid:t.data("touid")})}).attr("data-event","true");var i="message"==CURSCRIPT&&"letters"==MOD,o=$("#letters_content"),s=o.find("#letters_view"),r=s.find(".loadingbox"),l=s.find("#letters_defpanel"),d=new StringBuffer;a.click(function(t){if(HTML.data("init")(),!dialog.login())return!1;t&&t.stopPropagation(),t&&t.preventDefault();var a=MEMBER_ID,c=$(this),u=c.data("senduid"),p=!1;HTML.data("init")();var f={mod:"message",inc:"letters",do:"letters_sendbox",ajaxsub:!0,formhash:n,randoms:Math.random()};f["memberid_"+n]=$.utils.urlencode(a),f["touid_"+n]=u;var h=$("#dialog-modal-letters_send_"+u);h.length?dialog.shake(h):a==u?dialog.prompt("","",'<div class="font24 text-primary text-center">您不能给自己发送消息哟～</div>',"info",null,0,!1):$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(f),beforeSend:function(){i?(l.hide(),$.utils.loading.show(r)):h=dialog.open(dialog.modal("loading","正在建立会话，请稍后...","",!1,!0,"letters_send_"+u))},success:function(t){if(p=parseInt(t.online),t.state&&"no_touid"==t.state)return dialog.close(h),dialog.prompt("",'<div class="font20 text-center">无效的请求，请重试</div>',"","danger",null,2,!1),$.utils.loading.hide(r),l.show(),o.removeClass("viewshow"),!1;if(t.state&&"self"==t.state)return dialog.close(h),dialog.prompt("",'<div class="font20 text-center">您不能给自己发送消息哟～</div>',"","danger",null,2,!1),$.utils.loading.hide(r),l.show(),o.removeClass("viewshow"),!1;if(t.state&&"banned"==t.state)return dialog.close(h),dialog.prompt("",'<div class="font20 text-center">很抱歉，您已被系统禁言，无法发送私信！</div>',"","danger",null,2,!1),$.utils.loading.hide(r),l.show(),o.removeClass("viewshow"),!1;if(t.state&&"tobanned"==t.state)return dialog.close(h),e&&e(c),dialog.prompt("",'<div class="font20 text-center">很抱歉，对方已被系统禁言，无法发送私信！</div>',"","danger",null,2,!1),$.utils.loading.hide(r),l.show(),o.removeClass("viewshow"),!1;var f=h.find(".modal-header:first"),m=i?$('<div id="titlebar"></div>'):f.find(".modal-title"),g=h.find(".modal-dialog:first"),v=g.find(".modal-body:first"),_=v.find(".loadingBar:first");g.find(".modal-footer:first").remove(),v.html("");var b=null;i?(dialog.close(h),$.utils.loading.hide(r),b=s.find(".chatbox:first"),b.removeClass("fadeOut").addClass("fadeIn")):b=$('<div class="chatbox animated fadeIn clearfix"></div>');var y=$('<div class="chat-body"></div>'),w=$('<div class="chat-msg"></div>'),x=$('<div class="chat-tips animated" style="animation-duration:.3s;"></div>'),T=$('<div class="chat-sendbox"><textarea placeholder="Enter换行，'+(OSNAME,my_keyboard.ctrl)+'+Enter直接发送"></textarea><button type="button" class="btn btn-primary">发送</button></div>'),C=T.find("button");y.append(w),y.append(x),y.append(T),i&&b.html(m),b.append(y),T=T.find("textarea:first"),_.addClass("animated fadeOut").css("animation-duration",".3s"),g.addClass("dh500"),setTimeout(function(){f.find(".sr-only").text("关闭聊天窗口"),m.addClass("text-center").html('<span class="text-muted">与 </span><a href="/'+MY_HOME+"?uid="+t.touid+'" target="_blank">'+$.utils.urldecode(t.touname)+'</a><span class="text-muted">（'+(p?"在线":"离线")+"） 私聊中...</span>"),i&&(m.append('<button type="button" class="close" aria-label="Close"><svg viewBox="0 0 1024 1024" aria-hidden="true"><use xlink:href="/res/svg/common.svg#close"></use></svg><span class="sr-only">关闭聊天窗口</span></button>'),m.find("button").click(function(){clearInterval(w.data("online_time_si")),$("#letters_sidebar #listbox ul#list li").removeClass("active"),l.show(),b.addClass("fadeOut"),o.removeClass("viewshow")}));var n=$.utils.maxViewHeight();g.removeClass("modal-sm").height(n<600||ISMOBILE?n-20:600),g.removeClass("dh300"),v.append(b),_.remove(),e&&e(c)},300);var E=function(e,t,n,a){n=n||16,setTimeout(function(){e&&!ISMOBILE&&T.focus();var n=t?w[0].scrollHeight-w.data("scrollTopNum"):w[0].scrollHeight;a?w.animate({scrollTop:n},600):w.scrollTop(n)},n)};$.each(t.pmlist,function(e,n){d.append('<div id="pmid_'+n.pmid+'" class="msgbox float-'+(n.isme?"right":"left")+' cl" data-isme="'+n.isme+'" data-isshow="false">'),d.append('<div class="timebar font12 animated fadeInDown">'+n.dateline+"</div>"),d.append('<a class="'+(n.isme?"fadeInRight my":"fadeInLeft to")+'_avatar animated" href="'+(n.isme?t.my_address:t.to_address)+".php?uid="+(n.isme?t.my_ukey?t.my_ukey:n.authorid:t.to_ukey?t.to_ukey:n.authorid)+'" target="_blank"><img alt="avatar" src="'+$.utils.urldecode(n.avatar)+'"/></a>'),d.append('<div class="bubbles bg_'+(n.isme?"my float-right fadeInRight":"default float-left fadeInLeft")+' animated"><i class="arrow"></i>'+$.utils.urldecode(n.message)+"</div>"),d.append("</div>")}),w.append(d.toString()).data({scrollTopNum:w[0].scrollHeight,online:t.online,pmcount:t.pmcount,pmallpage:t.pmallpage,pmnowpage:1,uid:t.uid,touid:t.touid,flag:!0}),d.clear(),E(!0,!1,500,!0),w.scroll(function(){var e=$(this),t={};e.scrollTop()<=0&&e.data("flag")&&e.data("pmnowpage")<e.data("pmallpage")&&(e.data({flag:!1,pmnowpage:e.data("pmnowpage")+1,scrollTopNum:e[0].scrollHeight}),HTML.data("init")(),t={mod:"message",inc:"letters",do:"letters_get",ajaxsub:!0,formhash:n,randoms:Math.random()},t["memberid_"+n]=$.utils.urlencode(e.data("uid")),t["pmpagesize_"+n]=10,t["pmpage_"+n]=$.utils.urlencode(e.data("pmnowpage")<=e.data("pmallpage")?e.data("pmnowpage"):0),t["touid_"+n]=$.utils.urlencode(u),$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(t),beforeSend:function(){},success:function(t){new StringBuffer;t&&($.each(t,function(e,t){d.append('<div id="pmid_'+t.pmid+'" class="msgbox float-'+(t.isme?"right":"left")+' cl" data-isme="'+t.isme+'" data-isshow="false">'),d.append('<div class="timebar font12 animated fadeInDown">'+t.dateline+"</div>"),d.append('<a class="'+(t.isme?"fadeInRight my":"fadeInLeft to")+'_avatar animated" href="'+(t.isme?t.my_address:t.to_address)+".php?uid="+(t.isme?t.my_ukey?t.my_ukey:t.authorid:t.to_ukey?t.to_ukey:t.founderuid)+'" target="_blank"><img alt="avatar" src="'+$.utils.urldecode(t.avatar)+'"/></a>'),d.append('<div class="bubbles bg_'+(t.isme?"my float-right fadeInRight":"default float-left fadeInLeft")+' animated"><i class="arrow"></i>'+$.utils.urldecode(t.message)+"</div>"),d.append("</div>")}),e.prepend(d.toString()),d.clear())},complete:function(){$.utils.refresh_pv("/ajax.php"),E(!1,!0),e.data("flag",!0)}}))}),p&&w.data({online_time:$.utils.timestamp(),online_time_si:setInterval(function(){var e={};!($("#dialog-modal-letters_send_"+u).length<=0)&&i||p?$.utils.timestamp()-w.data("online_time")>10&&(HTML.data("init")(),e={mod:"message",inc:"letters",do:"letter_get",ajaxsub:!0,formhash:n,randoms:Math.random()},e["memberid_"+n]=$.utils.urlencode(a),e["touid_"+n]=$.utils.urlencode(u),$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(e),beforeSend:function(){},success:function(e){p=parseInt(e.online),e.message.length&&$("#pmid_"+e.message[0].pmid).length<=0&&(e.message[0].isme="true"==e.message[0].isme,d.append('<div id="pmid_'+e.message[0].pmid+'" class="msgbox float-left cl" data-isme="false" data-isshow="false">'),d.append('<div class="timebar font12 animated fadeInDown">'+e.message[0].dateline+"</div>"),d.append('<a class="'+(e.message[0].isme?"fadeInRight my":"fadeInLeft to")+'_avatar animated" href="'+e.to_address+".php?uid="+(e.to_ukey?e.to_ukey:u)+'" target="_blank"><img alt="avatar" src="'+$.utils.urldecode(e.message[0].avatar)+'"/></a>'),d.append('<div class="bubbles bg_'+(e.message[0].isme?"my float-right fadeInRight":"default float-left fadeInLeft")+' animated"><i class="arrow"></i>'+$.utils.urldecode(e.message[0].message)+"</div>"),d.append("</div>"),w.append(d.toString()),d.clear(),setTimeout(function(){w.scrollTop(w[0].scrollHeight)},20))},complete:function(){$.utils.refresh_pv("/ajax.php"),w.data("online_time",$.utils.timestamp())}})):clearInterval(w.data("online_time_si"))},5500)}),T.data({flag:!0,time:0});var k=function(){var e={};$.utils.empty(T)?(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息不能为空"),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0)):$.utils.timestamp()-T.data("time")>8?T.data("flag")?(HTML.data("init")(),e={mod:"message",inc:"letters",do:"sendpm",ajaxsub:!0,formhash:n,randoms:Math.random()},e["plid_"+n]=$.utils.urlencode(t.plid),e["memberid_"+n]=$.utils.urlencode(a),e["touid_"+n]=$.utils.urlencode(u),e["message_"+n]=$.utils.urlencode(T.val()),$.ajax({
    type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(e),beforeSend:function(){T.data({flag:!1,time:$.utils.timestamp()}),$.utils.button_tip.set(C,!0,"发送中")},success:function(e){e.error?(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息发送失败"),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3)):e.pmid>=0?(HTML.data("init")(),d.append('<div id="pmid_'+e.pmid+'" class="msgbox float-right cl" data-isme="true" data-isshow="true">'),d.append('<div class="timebar font12 animated fadeInDown">'+e.dateline+"</div>"),d.append('<a class="my_avatar animated fadeInRight" href="'+MY_HOME+".php?uid="+(MEMBER_UKEY||MEMBER_ID)+'" target="_blank"><img alt="avatar" src="'+$.utils.urldecode(e.avatar)+'"/></a>'),d.append('<div class="bubbles bg_my float-right animated fadeInRight"><i class="arrow"></i>'+$.utils.urldecode(e.message)+"</div>"),d.append("</div>"),w.append(d.toString()),d.clear(),T.val(""),setTimeout(function(){w.scrollTop(w[0].scrollHeight)},20)):-2==e.pmid?(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息发的太快了，稍等片刻..."),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0)):-4==e.pmid?(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("很抱歉，您目前还不能使用发送短消息功能！"),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0)):-8==e.pmid?(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("您不能给自己发短消息！"),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0)):(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息正在发送中，请稍后..."),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0))},complete:function(){$.utils.button_tip.reset(C),T.data("flag",!0),E(!0)}})):(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息发送中，请稍后..."),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0)):(x.attr("class","chat-tips animated").addClass("bg-danger slideInUp").text("消息发的太快了，稍等片刻..."),setTimeout(function(){x.addClass("slideOutDown").text("")},2e3),E(!0))};C.click(k),T.keydown(function(e){if(my_keyboard.comdctrl(e)&&13==e.which)return k(),!1})},complete:function(){$.utils.refresh_pv("/ajax.php")}})})},navpage=function(e,t,n,a,i,o,s){var r=new StringBuffer,l="";if(a=a||"right",i=i||0,o=o||10,s=!!s,o<=0&&(o=1),e>0&&e>t){if(offset=Math.floor(.5*o),realpages=Math.ceil(e/t),n=n>realpages?realpages:n,pages=i&&i<realpages?i:realpages,o>pages?(from=1,to=pages):(from=n-offset,to=from+o-1,from<1?(to=n+1-from,from=1,to-from<o&&(to=o)):to>pages&&(from=pages-o+1,to=pages)),r.append('<li class="firstpage'+(n>1?"":" disabled")+'">'),r.append('<a href="javascript:;" data-pagenum="1" class="first'+(n>1?" hand":" disabled")+'" data-toggle="tooltip" data-placement="top" data-title="首页" data-container="body" data-trigger="hover"><span class="page_icon"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#firstPage"></use></svg></span><span class="page_text">首页</span></a></li>'),r.append('<li class="prevpage'+(n>1?" hand":" disabled")+'"><a href="javascript:;" data-pagenum="'+(n>1?n-1:1)+'" class="prev'+(n>1?" hand":" disabled")+'" data-toggle="tooltip" data-placement="top" data-title="上一页" data-container="body" data-trigger="hover"><span class="page_icon"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#prevPage"></use></svg></span><span class="page_text">上一页</span></a></li>'),o>1)for(var d=from;d<=to;d++)r.append('<li class="pagebox'+(d==n?" active":"")+'"><a href="javascript:;" data-pagenum="'+d+'" class="hand">'+d+"</a></li>");l='<div class="btn-group dropup"><a href="javascript:;" data-pagenum="'+(n<pages?n+1:pages)+'" class="btn dhnone'+(n<pages?" hand":" disabled")+'">下一页</a><button type="button" class="btn dropdown-toggle dropdown-toggle-split"><span class="sr-only">下一页</span></button></div>',r.append('<li class="pagejumpbox" data-toggle="tooltip" data-placement="top" data-title="输入页码，按回车快速跳转" data-container="body" data-trigger="hover"><span class="pagejump clearfix"><label><input type="text" name="custompage" size="3" value="'+n+'" autocomplete="off"/><span title="共 '+pages+' 页"> / '+pages+" 页</span></label></span></li>"),r.append('<li class="nextpage'+(n<pages?"":" disabled")+'"><a href="javascript:;" data-pagenum="'+(n<pages?n+1:pages)+'" class="nxt'+(n<pages?" hand":" disabled")+'" data-toggle="tooltip" data-placement="top" data-title="下一页" data-container="body" data-trigger="hover"><span class="page_icon"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#nextPage"></use></svg></span><span class="page_text">下一页</span></a>'+l+"</li>"),r.append('<li class="lastpage'+(n<pages?"":" disabled")+'"><a href="javascript:;" data-pagenum="'+pages+'" class="last'+(n<pages?" hand":" disabled")+'" data-toggle="tooltip" data-placement="top" data-title="尾页" data-container="body" data-trigger="hover"><span class="page_icon"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#lastPage"></use></svg></span><span class="page_text">尾页</span></a></li>'),r=r.toString(),r=pages>0?'<nav class="pagebar'+(s?" smallbar":"")+' clearfix" data-pages="'+realpages+'"><ul class="pagination cl position-'+a+' shadow">'+r+"</ul></nav>":""}return r},get_api_picture=function(e,t,n,a){t=t||10;var i='搜索结果由 <a href="http://image.baidu.com/" target="_blank">百度图片</a> 提供',o=$('<div id="api_search_box"></div>');return $.utils.loadcss("plugin/get_api_picture",function(){var s=new StringBuffer;s.append("<span>"),s.append("<i>"),s.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#delete"></use></svg>'),s.append("</i>"),s.append("</span>");var r=s.toString();s.clear(),s.append('<div id="api_search_header" class="dh300">'),s.append('<div id="api_search_input_box">'),s.append('<input id="api_search_input" class="form-control" type="search" placeholder="输入关键字，搜索图片"/>'),s.append("</div>"),s.append('<button id="btn_api_search" class="btn" type="submit" data-addclass="loading_circle" data-text="搜索">搜索</button>'),s.append('<p class="mgb10">'+i+"</p>"),s.append('<p>其他图库：<a href="https://pixabay.com/" target="_blank">pixabay.com</a> <a href="https://visualhunt.com/" target="_blank">visualhunt.com</a> <a href="https://unsplash.com/" target="_blank">unsplash.com</a></p>'),s.append("</div>"),s.append('<div id="api_search_content" class="dh300">'),s.append('<ul class="clearfix"></ul>'),s.append('<div class="loadingbox animated animated200" data-type="jumper"><div class="loading_circle cubicbezier1 primary"></div></div>'),s.append("</div>"),s.append('<div id="api_search_pagebar" class="clearfix">'),s.append("</div>"),s.append('<div id="api_search_footer">'),s.append('<span id="api_selected_label">已选图片：</span>'),s.append('<span id="api_selected_num">0/'+t+"</span>"),s.append('<div id="api_selected_bar">'),s.append('<div id="api_selected_box">'),s.append('<div id="api_selected_scroll" style="width:'+79*t+'px;" class="clearfix">');for(var l=1;l<=t;l++)s.append(r);s.append("</div>"),s.append("</div>"),s.append("</div>"),s.append('<button id="api_selected_button" class="btn btn-primary" data-addclass="loading_circle">使用已选</button>'),s.append("</div>"),s=$(s.toString()),o.append(s);var d=o.find("#api_search_header"),c=d.find("p:first"),u=d.find("#api_search_input"),p=d.find("#btn_api_search"),f=o.find("#api_search_content"),h=f.find("ul:first"),m=f.find(".loadingbox:first"),g=o.find("#api_search_pagebar"),v=o.find("#api_search_footer"),_=v.find("#api_selected_num"),b=v.find("#api_selected_bar"),y=b.find("#api_selected_scroll"),w=v.find("#api_selected_button"),x="",T=0,C=1,E=0,k={};n=n?n-1:9,a=a||1.5;var O=n+1,A=function(e){var n=e.data("id"),a=e.data("src"),i=null;e.hasClass("active")?(i=y.find("span[data-id="+n+"]"),i.length>0&&(delete k[n],E--,e.removeClass("active"),y.find("span[data-id="+n+"]").remove(),y.append(r))):(i=y.find("span:not(.noborder):first"),i.length>0&&(y.find("span[data-sid="+n+"]").length<=0?E<t&&(k[n]=!0,E++,e.addClass("active"),i.addClass("noborder").attr("data-id",n).append('<img src="'+a+'"/>'),i.click(function(){E--;var e=i.data("id");delete k[e],h.find("li[data-id="+e+"]:first").removeClass("active"),i.remove(),y.append(r),_.text(E+"/"+t)})):E<t&&(delete k[n],E--,y.find("span[data-id="+n+"]").remove(),y.append(r)))),_.text(E+"/"+t)},S=function(e){var t=$(navpage(e,O,C,"right",0,5));pagenav_event(t),t.find("li a").click(function(){var e=$(this);e.data("pagenum")!=C&&(C=parseInt(e.data("pagenum")),j(x,!0))});var n=t.find("li.pagejumpbox input");n.keydown(function(e){13==e.which&&(e.preventDefault(),e.stopPropagation(),C=n.val(),C=C<=T?C:T,j(x,!0))}),g.html("").append(t)},I=function(e,t){o.addClass("result"),T=Math.ceil(t/O);var a=null,i=null,s=null,r=null,l=null;pic_box=$(document.createDocumentFragment());for(var d=0,c="";d<=n;d++)e[d]&&(c=convert.md5(e[d]),a=$('<li class="dh300'+(k[c]?" active":"")+'" data-id="'+c+'" data-src="'+e[d]+'" style="-webkit-transition-delay:'+50*d+"ms!important; transition-delay:"+50*d+'ms!important;"></li>'),i=$('<div class="thumb"></div>'),r=$('<img src="'+e[d]+'"/>'),s=$('<a href="'+e[d]+'" target="_blank"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#eye"></use></svg><span>查看大图</span></a>'),l=$('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#ok"></use></svg>'),i.append(r),a.append(i),s.click(function(e){e.stopPropagation()}),a.append(s),a.append(l),a.click(function(){A($(this))}),pic_box.append(a));h.html("").append(pic_box),setTimeout(function(){h.find("li").addClass("in")},100),S(t)},D=function(e){var t=null,n=null;if(1==e.state)try{C=parseInt(e.page),e=$.utils.urldecode(e.data),n=e.match(/listnum\"\:\d*\,/gim)[0],count=parseInt(n.replace('listNum":',"").replace(",","")),t=e.replace(/\s*/g,"").match(/thumburl\"\:\"(.*?)\"\,/gim),t=t.join("").replace(/thumburl\"\:\"/gim,"").replace(/\",/gim,"@").split("@"),T=Math.ceil(count/O),I(t,count),c.removeAttr("class").html(i)}catch(e){}else c.addClass("text-danger").text("找不到 “"+kw+"” 相关图片"),setTimeout(function(){c.removeAttr("class").html(i),u.select(),$.utils.button_tip.reset(p),$.utils.loading.hide(m)},2e3)},j=function(e,t){HTML.data("init")();var n={mod:"common",inc:"apipic",do:"baidu",ajaxsub:!0,formhash:formHash,randoms:Math.random()};n["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),n["kw_"+formHash]=$.utils.urlencode(e),n["page_"+formHash]=C,n["len_"+formHash]=O,$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(n),beforeSend:function(){h.find("li").addClass("out"),$.utils.loading.show(m),!t&&$.utils.button_tip.set(p,!0,"")},success:function(e){D(e)},complete:function(){$.utils.refresh_pv("/ajax.php"),!t&&$.utils.button_tip.reset(p),$.utils.loading.hide(m)}})},L=function(){x=u.val(),x?(C=1,h.html(""),j(x)):(c.addClass("text-danger").text("请输入关键词"),setTimeout(function(){c.removeAttr("class").html(i)},1e3))};p.click(L),u.keydown(function(e){13==e.which&&L()}),w.click(function(){var t=[];y.find("span.noborder img").each(function(e,n){t.push($(n).attr("src"))}),e(w,t)}),o.data("clear",function(){T=0,C=1,E=0,k={},o.removeClass("result"),h.html(""),u.val(""),y.find("span.noborder img").remove(),y.find("span").removeClass("noborder")})}),o},dialog={shake:function(e,t){t=1e3*(t||1);var n=[],a=null;"string"==typeof e?(n=e.match(/^(\#|\.|)(.*?)$/),a=$(n[1]+("#"==n[1]?"dialog-modal-":"")+n[2]+":first")):a=e,dialog.open(a),a=a.find(".modal-dialog:first .modal-content:first"),a.css("animation-duration",t+"ms").addClass("animated shake"),setTimeout(function(){a.removeClass("animated shake").removeAttr("style")},t+10)},open:function(e){if($.utils.isObject(e,"object"))return e.modal("show");var t=[],n=null;return $.utils.isObject(e,"string")?(t=e.match(/^(\#|\.|)(.*?)$/),n=$(t[1]+("#"==t[1]?"dialog-modal-":"")+t[2]+":first")):n=e,n.modal("show")},close:function(e){if($.utils.isObject(e,"object"))return e.modal("hide");var t=[],n=null;return $.utils.isObject(e,"string")?(t=e.match(/^(\#|\.|)(.*?)$/),n=$(t[1]+("#"==t[1]?"dialog-modal-":"")+t[2]+":first")):n=e,n.modal("hide")},login:function(e){return HTML.data("init")(),!(MEMBER_ID<=0)||(show_member_bg(!1,"login"),!1)},modal:function(e,t,n,a,i,o,s,r,l){t="no"==t||"remove"==t?"":t&&"no"!=t&&"remove"!=t?t:"弹出框",a=a?" modal-"+a:"",n=$(n?"no"==n||"remove"==n?"":n:'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light text-primary dh300">确定</button></div>'),i="static"==i?"static":i?"true":"false",o=o||"dialog-"+$.utils.timestamp_ms();var d=new StringBuffer,c=o.split(" ");d.append('<div id="dialog-modal-'+(2==c.length?c[0]+$.utils.timestamp_ms():o)+'" class="modal modal-shadow modal-'+o+' fade" data-backdrop="'+i+'" data-keyboard="'+(l&&!l.keyboard?l.keyboard:"true")+'" tabindex="0">'),d.append('<div class="modal-dialog'+a+'" role="document">'),d.append('<div class="modal-content">'),d.append('<div class="modal-header">'),d.append('<button type="button" class="close" data-dismiss="modal" aria-label="Close">'),d.append('<svg viewBox="0 0 1024 1024" aria-hidden="true"><use xlink:href="/res/svg/common.svg#close"></use></svg>'),d.append('<span class="sr-only">关闭提示框</span>'),d.append("</button>"),d.append('<h4 class="modal-title"></h4>'),d.append("</div>"),d.append('<div class="modal-body"></div>'),d.append("</div>"),d.append("</div>"),d.append("</div>");var u=$(d.toString()),p=u.find(".modal-dialog:first"),f=p.find(".modal-header:first"),h=p.find(".modal-content");"remove"!=t?(f.find(".sr-only:first").html("string"==typeof t?t+" 关闭":"string"==typeof t[0]?t[0]+" 关闭":t[0]),f.find(".modal-title:first").html("string"==typeof t?t:t[1]),l&&l.drag_parents?u.qdfunsDrag({handler:f}):h.qdfunsDrag({handler:f})):(u.find(".modal-body:first").after(u.find("button.close")),u.find(".modal-header:first").remove());var m="string"==typeof e?e.split(","):[];return"loading"==e||"loading"==m[0]?("loading"==e&&(m=[],m.push("loading"),m.push("primary"),m.push("left")),u.find(".modal-dialog:first").addClass("modal-sm").height(60),u.find(".modal-header:first .modal-title:first").html("&nbsp;"),u.find(".modal-body:first").html('<div class="loadingBar pd10 pdb0"><div class="progress" style="height:10px;"><div class="progress-bar progress-bar-striped progress-bar-animated progress-bar-animated'+(m[2]?"-"+m[2]:"")+" progress-"+m[1]+" progress-striped"+(m[2]?"-"+m[2]:"")+'" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%;"></div></div></div></div><p class="mgt10 mgb0 font12 text-center text-muted">'+(t||"Loading...")+"</p></div>"),"loading"==e?h.css("min-height",100):u.after(n)):u.find(".modal-body:first").html(e).after(n),u.find(".modal-footer button").each(function(e,t){t=$(t),!!t.data("event_click")&&t.click(function(){t.data("event_click")(u,h,t)})}),!!r&&!!r.load&&r.load(u,h),u.on("hidden.bs.modal",function(e){$.utils.view_overflow(!1),!!r&&r.close&&r.close(u,h),!s&&u.remove()}).on("show.bs.modal",function(e){$.utils.refresh_pv(location.href+"#modal/"+o.split(" ").join("-")),$.utils.view_overflow(!0)}).on("shown.bs.modal",function(e){setTimeout(function(){!!r&&!!r.show&&r.show(u,h),BODY.addClass("modal-open")},100)}),u},prompt:function(e,t,n,a,i,o,s,r){var l=new StringBuffer;if(a=arr.in_array(a,["default","primary","success","info","warning","danger","inverse"])?a:"default",i=i||[],e)switch(e){case"!":e='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#warning"></use></svg>';break;case"x":e='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#error"></use></svg>';break;case"v":e='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#success"></use></svg>';break;case"?":e='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#question"></use></svg>';break;default:e='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#'+e+'"></use></svg>'}!!e&&l.append('<div class="icon text-'+a+' animated">'+e+"</div>"),!!t&&l.append('<h6 class="'+(n?"mgb16":"mgb0")+" font24 text-"+a+' text-center animated fadeInUp" style="'+(e?"animation-delay:.3s;":"animation-delay:.1s;")+'">'+t+"</h6>"),!!n&&l.append('<div class="text-body animated fadeInUp text-center" style="'+(e?"animation-delay:.5s;":"animation-delay:.3s;")+'">'+("string"==typeof n?/^\<[\s\S]*?\>$/.test(n)?n:'<div class="font16 text-muted text-center">'+n+"</div>":n)+"</div>");var d="";if(i.length){d=$('<div class="modal-footer row animated fadeInUp cl" style="animation-delay:.4s;"></div>');for(var c,u,p=0,f=i.length;p<f;p++)c=i[p],u=$('<button type="button" class="col btn-'+(c[3]?c[3]:"default")+' dh300"'+(c[2]?' data-dismiss="modal"':"")+(c[4]?" "+c[4]:"")+">"+c[0]+"</button>"),!!c[1]&&u.data("event_click",c[1]),d.append(u)}else o=parseInt(o||(o=3));return events={load:function(t,n){n.find(".modal-header:first").remove(),!i.length&&n.find(".modal-footer:first").remove(),n.append('<button type="button" class="close dhi300" data-dismiss="modal" aria-label="Close"><svg viewBox="0 0 1024 1024" aria-hidden="true"><use xlink:href="/res/svg/common.svg#close"></use></svg><span class="sr-only">关闭提示框</span></button>'),i.length||(o=1e3*o+(e?500:0))>0&&setTimeout(function(){dialog.close(t)},o),!!r&&r(t),e&&(e=n.find(".icon:first"),setTimeout(function(){e.addClass("fadeOutUp")},300),setTimeout(function(){e.remove()},1e3))}},dialog.open(dialog.modal(l.toString(),"",d,null,s,"prompt",!1,events))}},popover_hover_events=function(e,t,n){var a=e;a.mouseenter(function(){a.data("isshow")?clearTimeout(a.data("timer")):(a.data("isshow",!0),a.popover("show"),e=$(".popover."+t+":first"),!!n&&n(a,e),e.off("mouseenter").off("mouseleave").on("mouseenter",function(){a.data("isshow")&&clearTimeout(a.data("timer"))}).on("mouseleave",function(){a.data("timer",setTimeout(function(){a.data("isshow")&&(a.data("isshow",!1),a.popover("hide"))},300))}))}).mouseleave(function(){a.data("timer",setTimeout(function(){a.data("isshow")&&(a.data("isshow",!1),a.popover("hide"))},300))})},nav_quick_menu=function(){var e=null,t=$("#quick-menu"),n=t.find("ul#menuicon_bar"),a=n.find("> li:not(.icons_search)"),i=n.find("> li.icons_search:first"),o=n.find("> li input#search_inp:first");e=a.eq(0);var s=e.find("#memberinfo_data");e.data("avatar",!1).popover({animation:!0,html:!0,placement:"bottom",title:"",template:'<div class="popover popover_quick_menu_memberinfo shadow" role="popover"><i class="arrow"></i><div class="popover-body"></div></div>',content:s.html(),delay:{show:200,hide:200},trigger:"manual"}),s.remove();var r=function(e,t,n){pub_signaturelog_len=n-$.utils.getStrLength(t),pub_signaturelog_len<0?(e.eq(0).text("已超出"),e.eq(1).addClass("text-danger").text(Math.abs(pub_signaturelog_len))):(e.eq(0).text("还可以输入"),e.eq(1).removeClass("text-danger").text(pub_signaturelog_len))},l="",d=function(e,t,n,a,i,o,s,d){HTML.data("init")();var c=null,u=a.find(".signature_tips");e.data("ajaxFlag")&&(c={mod:"common",inc:"signature",do:"update",ajaxsub:!0,formhash:formHash,randoms:Math.random()},c["msg_"+formHash]=$.utils.urlencode(t),c["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(c),beforeSend:function(){e.data("ajaxFlag",!1)},success:function(c){1==c.state?(t=$.utils.urldecode(c.msg),n.find("span:first").text(t),e.data("signaturelog",t),n.removeClass("hide"),a.addClass("hide"),l=t,i.val(l),i.blur(),1==c.empty?BODY.find("[data-signaturelog_text]").text(t):BODY.find("[data-signaturelog_text]").each(function(e,t){t=$(t),t.text(t.data("signaturelog_text"))}),t==o||$.utils.getStrLength(t)<=16?n.addClass("text-center"):n.removeClass("text-center"),r(s,t,d)):(u.removeClass("slideOutDown").addClass("slideInUp").text("个性签名未能保存成功，请重试。"),setTimeout(function(){u.addClass("slideOutDown")},2e3))},complete:function(){e.data("ajaxFlag",!0)}}))};popover_hover_events(e,"popover.popover_quick_menu_memberinfo",function(e,t){t.data("ajaxFlag",!0),t.find("#extcredits .progress_exparea:first").tooltip({template:'<div class="tooltip tooltip_label" role="tooltip"><div class="tooltip-inner"></div></div>'});var n=t.find("#signaturelog"),a=n.find("span:first"),i=t.find("#pub_signaturelog"),o=i.find("#pub_signaturelog_infobar .wordcount"),s=o.find("span"),c=i.find("#pub_signaturelog_infobar .pub_signaturelog_tip"),u=i.find("textarea:first"),p=u.val(),f=n.data("defval");!!l&&a.text(l),a.text()==f||$.utils.getStrLength(a.text())<=16?n.addClass("text-center"):n.removeClass("text-center"),c.text("Enter 完成编辑"),r(s,p,60),e.data("signaturelog")&&n.text(e.data("signaturelog")),n.find("a:last").click(function(e){e.preventDefault(),e.stopPropagation(),n.addClass("hide"),i.removeClass("hide"),u.focus().select(),a.text()==f&&u.val("")}),u.keyup(function(e){return e.preventDefault(),e.stopPropagation(),27==e.which?(n.removeClass("hide"),i.addClass("hide"),u.blur(),!1):(p=u.val().replace(/\n/g,""),13==e.which?(u.val(p),d(t,p,n,i,u,f,s,60),!1):(r(s,p,60),void(p=u.val())))})}),e=a.eq(1);var c=e.find(" > svg:first, > a > svg:first"),u=e.find("textarea:first");e.hover(function(){c.addClass("swing")},function(){c.removeClass("swing")}),u.remove(),e=a.eq(2);var p=e.find(" > svg:first");e.hover(function(){p.addClass("swing")},function(){p.removeClass("swing")}),window.popover_quick_menu_letters_html=$('<div class="alert text-center" role="alert" style="margin:5px;">您暂时没有新私信^_^</div>'),window.popover_quick_menu_letters_len=0,i.click(function(e){e.preventDefault(),e.stopPropagation(),t.addClass("open_search"),o.focus()}),o.keyup(function(e){e.stopPropagation(),13==e.which&&window.open("/search.php?kw="+o.val())}),DOC.click(function(){t.removeClass("open_search"),o.blur()})},creditPrompt=function(){return!1},my_slider=function(e){e=e&&e.length?e:BODY;var t=e.find("[data-toggle=slider]");t.length>0&&$.utils.loadcss("plugin/slider",function(){$.utils.loadjs("plugin/slider/core.js",function(){t.each(function(e,t){t=$(t);var n={},a=t.data("size").split(","),i=t.find(".slider-items:first"),o=function(){t.height(a[1]/a[0]*i.width())};n.roll=!!t.data("loop"),n.view=parseInt(t.data("viewcount")),n.index=parseInt(t.data("index")),n.index=n.index?n.index:1,n.speed=!!t.data("speed"),n.speed=$.utils.isNumber(n.speed)?n.speed:300,n.autoplay=t.data("autoplay"),n.autoplay={enable:!!n.autoplay,pauseHover:!0,addHoverTarget:"",interval:$.utils.isNumber(n.autoplay)?n.autoplay:3500},n.btn_prev=t.data("btnprev"),n.btn_prev=t.find(n.btn_prev?n.btn_prev:".slider-btn-prev:first"),n.btn_next=t.data("btnnext"),n.btn_next=t.find(n.btn_next?n.btn_next:".slider-btn-next:first"),n.btn_dots=t.data("btndots"),n.btn_dots_flag=!ISMOBILE&&!!n.btn_dots;var s=null,r=null,l=null;n.initComplete=function(e){var a=this;$(a);a._len>0&&n.btn_dots_flag&&(s=$('<div class="slider-dots-area text-'+n.btn_dots+'"></div>'),r=$('<div class="slider-dots-box clearfix"></div>'),r.width("width",16*a._len+10),s.append(r),t.append(s)),setTimeout(function(){var i=new StringBuffer;if(t.addClass("done").find("> .loading:first").remove(),a._len>1&&n.btn_dots_flag){for(var o=0,s=a._len/n.view;o<s;o++)i.append("<i></i>");l=$(i.toString()),r.append(l),l.eq(0).addClass("active"),a.dot_timer=null,r.mouseenter(function(){a.dot_timer=setTimeout(function(){r.addClass("enable_hover")},200)}).mouseleave(function(){r.removeClass("enable_hover"),clearTimeout(a.dot_timer)}),l.mouseover(function(){a.go_page($(this).index())})}var d=t.data("init");!!d&&d(e),ISMOBILE&&(n.btn_prev.remove(),n.btn_next.remove())},300)},n.counter=function(e){s&&r&&l&&n.btn_dots_flag&&l.removeClass("active").eq(e.current-1).addClass("active"),o();var a=t.data("counter");!!a&&a(e)};var d=i.find("ul li").length;d<=1&&(n.autoplay.enable=!1,n.btn_prev.remove(),n.btn_next.remove()),setTimeout(o,600),WIN.on("resize",o),t.removeAttr("data-size").removeAttr("data-loop").removeAttr("data-autosize").removeAttr("data-viewcount").removeAttr("data-index").removeAttr("data-speed").removeAttr("data-sidepage").removeAttr("data-autoplay").removeAttr("data-btnprev").removeAttr("data-btnnext").removeAttr("data-btndots").addClass("loaded"),d>0&&t.find(".slider-items:first").touchSlider(n)})})})},my_getusercard=function(e){},pagenav_event=function(e){var t=e||$(".pagebar");if(t.data("pagenav_event_ok"))return!0;t.data("pagenav_event_ok",!0);var n=t.find(".pagination"),a=n.find(".nextpage"),i=a.find(".btn-group"),o=i.find(".btn.dropdown-toggle");t.click(function(e){e.stopPropagation()}),o.data("isopen",!1).click(function(e){e.preventDefault(),e.stopPropagation(),o.data("isopen")?(o.data("isopen",!1),i.removeClass("dropdown").addClass("dropup"),t.removeClass("opened")):(o.data("isopen",!0),i.removeClass("dropup").addClass("dropdown"),t.addClass("opened"))}),DOC.click(function(){o.data("isopen",!1),i.removeClass("dropdown").addClass("dropup"),t.removeClass("opened")})},interactive_button=function(){function e(e,t,n){e.data({effects_config:n,effects_go:function(e){for(var t=new mojs.Timeline,n=0,a=e.tweens.length;n<a;++n)t.add(e.tweens[n]);t.start()}})}var t={effect1:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1700,shape:"circle",fill:a[0]?"#"+a[0]:"#c0c1c3",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{15:0}},radius:{30:90},count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:700,type:"circle",radius:{0:60},fill:"transparent",stroke:a[1]?"#"+a[1]:"#c0c1c3",strokeWidth:{20:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Tween({duration:0,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect2:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,delay:300,shape:"circle",fill:a[0]?"#"+a[0]:"#c0c1c3",x:"50%",y:"50%",opacity:.6,radius:{40:90},count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:600,type:"circle",radius:{0:50},fill:"transparent",stroke:a[1]?"#"+a[1]:"#c0c1c3",strokeWidth:{35:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.ease.inout}),new mojs.Tween({duration:1100,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect3:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,delay:300,shape:"circle",fill:a[0]?"#"+a[0]:["#988ade","#de8aa0","#8aaede","#8adead","#dec58a","#8ad1de"],x:"50%",y:"50%",opacity:.6,radius:{40:90},count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:750,type:"circle",radius:{0:50},fill:"transparent",stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:{35:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Tween({duration:1100,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect4:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,delay:300,shape:"circle",fill:a[0]?"#"+a[0]:["#988ade","#de8aa0","#8aaede","#8adead","#dec58a","#8ad1de"],x:"50%",y:"50%",opacity:.6,childOptions:{radius:{20:0}},radius:{40:120},count:6,isSwirl:!0,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:750,type:"circle",radius:{0:50},fill:"transparent",stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:{15:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Tween({duration:900,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=s(e);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect5:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,shape:"circle",fill:a[0]?"#"+a[0]:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{20:0}},radius:{20:80},angle:{0:140},count:15,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:800,easing:mojs.easing.bezier(.1,1,.3,1),onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){s(e);i.style.WebkitTransform=i.style.transform="scale3d("+e+","+e+",1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect6:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,shape:"circle",fill:a[0]?"#"+a[0]:"#fff",x:"50%",y:"50%",childOptions:{radius:{12:0},type:"line",stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:2},radius:{40:110},count:20,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:800,type:"circle",radius:{10:60},fill:"transparent",stroke:a[2]?"#"+a[2]:"#988ade",strokeWidth:{30:0},x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:800,easing:mojs.easing.bezier(.1,1,.3,1),onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){s(e);i.style.WebkitTransform=i.style.transform="scale3d("+e+","+e+",1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect7:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1200,delay:200,shape:"circle",fill:a[0]?"#"+a[0]:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{"rand(20,5)":0}},radius:{90:150},count:18,isSwirl:!0,swirlSize:15,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:1500,type:"circle",radius:{30:100},fill:"transparent",stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:{30:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:1600,delay:320,type:"circle",radius:{30:80},fill:"transparent",stroke:a[2]?"#"+a[2]:"#988ade",strokeWidth:{20:0},opacity:.3,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:1e3,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect8:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,100 L25,99.9999983 C26.2328835,75.0708847 19.7847843,0 100,0");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1600,shape:"circle",fill:a[0]?"#"+a[0]:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{"rand(20,5)":0}},radius:{50:110},count:28,isSwirl:!0,swirlSize:15,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:1800,delay:300,shape:"circle",fill:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{"rand(20,5)":0},type:"line",
    stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:2},angle:{0:10},radius:{140:200},count:18,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:2e3,delay:500,shape:"circle",fill:a[2]?"#"+a[2]:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{"rand(20,5)":0}},radius:{40:80},count:18,isSwirl:!0,swirlSize:15,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:3e3,delay:750,shape:"circle",fill:a[3]?"#"+a[3]:"#988ade",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{"rand(20,10)":0}},angle:{0:-10},radius:{90:130},count:20,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:400,easing:mojs.easing.back.out,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){s(e);i.style.WebkitTransform=i.style.transform="scale3d("+e+","+e+",1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect9:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),i.style.WebkitTransformOrigin=i.style.transformOrigin="-10% 50%",new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1500,delay:350,shape:"circle",fill:a[0]?"#"+a[0]:["#988ade","#de8aa0","#8aaede","#8adead","#dec58a","#8ad1de"],x:"50%",y:"50%",opacity:.6,radius:{40:90},count:6,angle:135,degree:90,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:1500,delay:550,shape:"circle",fill:a[1]?"#"+a[1]:["#988ade","#de8aa0","#8aaede","#8adead","#dec58a","#8ad1de"],x:"50%",y:"50%",opacity:.6,radius:{40:100},count:6,angle:45,degree:-90,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:750,type:"circle",radius:{0:50},fill:"transparent",stroke:a[2]?"#"+a[2]:"#988ade",strokeWidth:{35:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Transit({parent:n,duration:750,delay:200,type:"circle",radius:{0:50},fill:"transparent",stroke:a[3]?"#"+a[3]:"#988ade",strokeWidth:{35:0},opacity:.6,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Tween({duration:1500,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1) rotate3d(0,0,1,"+90*(1-t)+"deg)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect10:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M1,0 C1,0 26,100 51,100 C76,100 101,0 101,0"),r=mojs.easing.path("M0,100 C0,0 50,0 50,0 L50,100 L50,200 C50,200 50,100 100,100"),l=mojs.easing.path("M0,100 L50,100 L50,0 L100,0");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:600,shape:"circle",fill:a[0]?"#"+a[0]:"#c0c1c3",x:"50%",y:"50%",opacity:.6,childOptions:{radius:{30:0},type:"line",stroke:a[1]?"#"+a[1]:"#6f97F7",strokeWidth:{1:2}},radius:{80:130},degree:90,angle:135,count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:400,easing:mojs.easing.ease.out,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=s(e);i.style.opacity=t;var a=r(e);i.style.WebkitTransform=i.style.transform="translate3d(0,"+-150*a+"%,0)";var o=l(e);n.style.color=o?"#6f97f7":"#c0c1c3"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect11:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,0 C0,87 27,100 40,100 L40,0 L100,0"),r=mojs.easing.path("M0,0c0,80,39.2,100,39.2,100L40-100c0,0-.7,106,60,106");return new e(t,n,{tweens:[new mojs.Transit({parent:n,duration:1e3,delay:100,type:"circle",radius:{0:95},fill:"transparent",stroke:a[0]?"#"+a[0]:"#c0c1c3",strokeWidth:{50:0},opacity:.4,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Transit({parent:n,duration:1800,delay:300,type:"circle",radius:{0:80},fill:"transparent",stroke:a[1]?"#"+a[1]:"#c0c1c3",strokeWidth:{40:0},opacity:.2,x:"50%",y:"50%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Tween({duration:1300,easing:mojs.easing.ease.out,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=s(e);i.style.opacity=t;var o=r(e);i.style.WebkitTransform=i.style.transform="scale3d("+o+","+o+",1)";var l=s(e);n.style.color=l>=1?a[2]?"#"+a[2]:"#e87171":a[3]?"#"+a[3]:"#c0c1c3"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect12:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,100 L20,100 L20,1 L100,1"),r=mojs.easing.path("M0,100h20V0c0,0,.2,101,80,101");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:500,delay:200,shape:"circle",fill:a[0]?"#"+a[0]:"#c0c1c3",x:"50%",y:"90%",opacity:.5,childOptions:{radius:{40:0},type:"line",stroke:a[1]?"#"+a[1]:"#c0c1c3",strokeWidth:{4:1},strokeLinecap:"round"},radius:{10:90},angle:92,count:2,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,delay:200,shape:"circle",fill:a[2]?"#"+a[2]:"#c0c1c3",x:"50%",y:"90%",opacity:.5,childOptions:{radius:{10:0},type:"line",stroke:a[3]?"#"+a[3]:"#c0c1c3",strokeWidth:{4:1},strokeLinecap:"round"},radius:{10:40},angle:182,count:3,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Transit({parent:n,duration:400,delay:100,type:"circle",radius:{40:0},radiusY:{20:0},fill:a[4]?"#"+a[4]:"#c0c1c3",stroke:a[5]?"#"+a[5]:"#c0c1c3",strokeWidth:1,opacity:.3,x:"50%",y:"90%",isRunLess:!0,easing:mojs.easing.bounce.out}),new mojs.Tween({duration:500,easing:mojs.easing.bounce.out,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=r(e);i.style.WebkitTransform=i.style.transform="translate3d(0,"+-450*t+"%,0)";var o=s(e);n.style.color=o?a[6]?"#"+a[6]:"#99d892":a[7]?"#"+a[7]:"#c0c1c3"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect13:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:600,shape:"circle",fill:a[0]?"#"+a[0]:"#c0c1c3",x:"0%",y:"0%",childOptions:{radius:{60:0},type:"line",stroke:a[1]?"#"+a[1]:"#988ade",strokeWidth:1},radius:{80:250},angle:-90,count:1,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,shape:"circle",fill:a[2]?"#"+a[2]:"#c0c1c3",x:"0%",y:"50%",childOptions:{radius:{60:0},type:"line",stroke:a[3]?"#"+a[3]:"#988ade",strokeWidth:1},radius:{80:200},angle:-90,count:1,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,shape:"circle",fill:a[4]?"#"+a[4]:"#c0c1c3",x:"0%",y:"100%",childOptions:{radius:{60:0},type:"line",stroke:a[5]?"#"+a[5]:"#988ade",strokeWidth:1},radius:{80:250},angle:-90,count:1,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,delay:150,shape:"circle",fill:a[6]?"#"+a[6]:"#c0c1c3",x:"50%",y:"50%",childOptions:{radius:{30:0},type:"line",stroke:a[7]?"#"+a[7]:"#988ade",strokeWidth:{2:1}},radius:{60:90},degree:-90,angle:135,count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:1e3,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=mojs.easing.elastic.out(e);i.style.WebkitTransform=i.style.transform="translate3d("+-50*(1-t)+"%,0,0)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect14:function(t,n,a,i){var o=t.data("effects-addclass");return t.removeAttr("data-effects-addclass"),new e(t,n,{tweens:[new mojs.Transit({parent:n,duration:750,type:"circle",radius:{0:40},fill:"transparent",stroke:a[0]?"#"+a[0]:"#f35186",strokeWidth:{35:0},opacity:.2,x:"50%",y:"45%",isRunLess:!0,easing:mojs.easing.bezier(0,1,.5,1)}),new mojs.Transit({parent:n,duration:500,delay:100,type:"circle",radius:{0:20},fill:"transparent",stroke:a[1]?"#"+a[1]:"#f35186",strokeWidth:{5:0},opacity:.2,x:"50%",y:"50%",shiftX:40,shiftY:-60,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Transit({parent:n,duration:500,delay:180,type:"circle",radius:{0:10},fill:"transparent",stroke:a[2]?"#"+a[2]:"#f35186",strokeWidth:{5:0},opacity:.5,x:"50%",y:"50%",shiftX:-10,shiftY:-80,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Transit({parent:n,duration:800,delay:240,type:"circle",radius:{0:20},fill:"transparent",stroke:a[3]?"#"+a[3]:"#f35186",strokeWidth:{5:0},opacity:.3,x:"50%",y:"50%",shiftX:-70,shiftY:-10,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Transit({parent:n,duration:800,delay:240,type:"circle",radius:{0:20},fill:"transparent",stroke:a[4]?"#"+a[4]:"#f35186",strokeWidth:{5:0},opacity:.4,x:"50%",y:"50%",shiftX:80,shiftY:-50,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Transit({parent:n,duration:1e3,delay:300,type:"circle",radius:{0:15},fill:"transparent",stroke:a[5]?"#"+a[5]:"#f35186",strokeWidth:{5:0},opacity:.2,x:"50%",y:"50%",shiftX:20,shiftY:-100,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Transit({parent:n,duration:600,delay:330,type:"circle",radius:{0:25},fill:"transparent",stroke:a[6]?"#"+a[6]:"#f35186",strokeWidth:{5:0},opacity:.4,x:"50%",y:"50%",shiftX:-40,shiftY:-90,isRunLess:!0,easing:mojs.easing.sin.out}),new mojs.Tween({duration:1200,easing:mojs.easing.ease.out,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){if(e>.3){var t=mojs.easing.elastic.out(1.43*e-.43);i.style.WebkitTransform=i.style.transform="scale3d("+t+","+t+",1)"}else i.style.WebkitTransform=i.style.transform="scale3d(0,0,1)"},onComplete:function(){!!o&&t.removeClass(o)}})]})},effect15:function(t,n,a,i){var o=t.data("effects-addclass");t.removeAttr("data-effects-addclass");var s=mojs.easing.path("M0,0 L25.333,0 L75.333,100 L100,0"),r=mojs.easing.path("M0,100h25.3c0,0,6.5-37.3,15-56c12.3-27,35-44,35-44v150c0,0-1.1-12.2,9.7-33.3c9.7-19,15-22.9,15-22.9"),l=mojs.easing.path("M0,10.004963 C0,10.004963 25,147.596355 25,10.004961 C25,7.7741867 32.2461944,85.3230873 58.484375,94.8579105 C68.9280825,98.6531013 83.2611815,99.9999999 100,100");return new e(t,n,{tweens:[new mojs.Burst({parent:n,duration:1700,delay:350,shape:"circle",fill:a[0]?"#"+a[0]:"#ff6767",x:"50%",y:"50%",opacity:.3,childOptions:{radius:{"rand(15,5)":0}},radius:{0:150},degree:50,angle:-25,count:6,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,delay:200,shape:"circle",fill:a[1]?"#"+a[1]:"#c0c1c3",x:"20%",y:"100%",childOptions:{radius:{60:0},type:"line",stroke:a[2]?"#"+a[2]:"#ff6767",strokeWidth:2,strokeLinecap:"round"},radius:{50:180},angle:180,count:1,opacity:.4,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,delay:200,shape:"circle",fill:a[3]?"#"+a[3]:"#c0c1c3",x:"50%",y:"100%",childOptions:{radius:{60:0},type:"line",stroke:a[4]?"#"+a[4]:"#ff6767",strokeWidth:2,strokeLinecap:"round"},radius:{50:220},angle:180,count:1,opacity:.4,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Burst({parent:n,duration:600,delay:200,shape:"circle",fill:a[5]?"#"+a[5]:"#c0c1c3",x:"80%",y:"100%",childOptions:{radius:{60:0},type:"line",stroke:a[6]?"#"+a[6]:"#ff6767",strokeWidth:2,strokeLinecap:"round"},radius:{50:180},angle:180,count:1,opacity:.4,isRunLess:!0,easing:mojs.easing.bezier(.1,1,.3,1)}),new mojs.Tween({duration:500,onStart:function(){!!o&&t.addClass(o)},onUpdate:function(e){var t=r(e),o=l(e),d=1-2*o,c=1+2*o;i.style.WebkitTransform=i.style.transform="translate3d(0,"+-180*t+"px,0) scale3d("+d+","+c+",1)";var u=s(e);i.style.opacity=u,n.style.color=e>=.75?a[7]?"#"+a[7]:"#ff6767":a[8]?"#"+a[8]:"#c0c1c3"},onComplete:function(){!!o&&t.removeClass(o)}})]})}};BODY.find("[data-effects]").each(function(e,n){var a=$(n);if(a.data("bind_effects_event_flag"))return!1;a.data("bind_effects_event_flag",!0);var i=a.find("svg:first")[0],o=parseInt(a.data("effects")),s=a.data("effects-color"),r=a.data("effects-trigger"),l=a.data("effects-noclick");a.removeAttr("data-effects"),a.removeAttr("data-effects-color"),a.removeAttr("data-effects-trigger"),a.removeAttr("data-effects-noclick"),s=s?s.split(","):[];for(var e=0,d=s;e<d;e++)s[e]=s[e].split(" "),s[e]=s[e].length>1?"#"+s[e].join("#"):s[e][0];t["effect"+o](a,n,s,a.data("effects-self")?n:i),n=r?BODY.find(r):a,l&&n.data({effects_this:a,effects_options:a.data("effects_config"),effects_play:function(e){var e=e.data("effects_this");e.data("effects_go")(e.data("effects_config"))}})})},gif_staticframe=function(e){e=e&&e.length?e:BODY,e=e.find("img[src*='.staticframe.gif'][data-staticframe!=true]").add("img[data-original-src*='.staticframe.gif'][data-staticframe!=true]"),e.attr("data-staticframe",!0),e.each(function(e,t){t=$(t);var n=t.attr("data-original-src");n=n||t.attr("src");var a=n.replace(/\.staticframe\.gif/,""),i=null,o=null;ISMOBILE&&(i=$('<i class="staticframe pause"></i>'),t.wrap(i),i=t.parents("i.staticframe"),o=$('<button class="staticframe-button"></button>'),t.after(o),o.data({loadstate:!1,gifstate:"stop"}),o.append('<div class="gif_loading"><span><i></i><i></i><i></i></span></div>'),o.append('<svg class="staticframe-pause" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#staticframe_pause"></use></svg>'),o.append('<svg class="staticframe-play" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#staticframe_play"></use></svg>'));var s=$(new Image);s.one("load",function(){s[0].complete&&(ISMOBILE&&(o.data({loadstate:!0,gifstate:"play"}),i.attr("class","staticframe play")),t.attr("src",a))}),ISMOBILE?o.click(function(e){e.preventDefault(),e.stopPropagation();var r=o.data("gifstate"),l=o.data("loadstate");"stop"==r&&1==l?(o.data("gifstate","play"),i.attr("class","staticframe play"),t.attr("src",a)):"play"==r&&1==l?(o.data("gifstate","stop"),i.attr("class","staticframe pause"),t.attr("src",n)):"stop"==r&&0==l&&"loading"!=l&&(o.data("loadstate","loading"),o.data("gifstate","stop"),i.attr("class","staticframe load"),s.attr("src",a))}):t.parents("article.md_view").length>0?(t.attr("data-original-src",a),t.data("original-src",a),setTimeout(function(){t.attr("src",a)},600)):t.hover(function(){t.attr("src",a)},function(){t.attr("src",n)})})},input_word_count=function(e){e=e||BODY;var t=e.find(".input_word_count_box");t.length>0&&$.utils.loadcss("plugin/input_word_count_box",function(){t.each(function(e,t){if(t=$(t),t.data("wordbox"))return!1;var n=t.data("word-selector"),a=t.data("word-limit"),i=t.data("word-iscn"),n=t.find(n+":first"),o=$('<span class="input_word_count_limit_text">'+a+"</span>");t.removeAttr("data-word-imit"),t.removeAttr("data-word-cnlen"),t.css("padding-right",12*a.toString().length+10);var s=function(e){!!e&&e.stopPropagation();var s=a-(i?$.utils.getStrLength(n.val(),2,1):n.val().length);s>=0?t.removeClass("word_count_error"):t.addClass("word_count_error"),o.text(s)};n.keyup(s),s(),t.data("wordbox",!0).append(o)})})},input_password_eyes=function(){var e=BODY.find(".input_password_eyes");e.length>0&&$.utils.loadcss("plugin/input_password_eyes_box",function(){var t=e.find("input[type=password]");e.each(function(e,n){n=$(n);var a=null;n.data("eyepwd")||(a=$('<svg class="input_password_eyes_icon" viewBox="0 0 1024 1024" data-toggle="tooltip" data-placement="top" data-container="body" data-html="true" title="<span class=\'font12\'>按住显示密码 (Alt)</span>"><use xlink:href="/res/svg/common.svg#eyepwd-close"></use><use xlink:href="/res/svg/common.svg#eyepwd-open"></use></svg>'),a.tooltip(),n.data("eyepwd",!0).append(a),function(e,t){t.keydown(function(e){e.altKey&&(e.preventDefault(),e.stopPropagation(),t.prop("type","text"))}).keyup(function(e){18==e.which&&t.prop("type","password")}),e.mousedown(function(){t.prop("type","text")}),n.mouseup(function(){t.prop("type","password")})}(a,t.eq(e)))})})},mail_autocomplate=function(){var e=["@qq.com","@sina.com","@sina.com.cn","@163.com","@126.com","@yeah.com","@188.com","@sohu.com","@sogou.com","@outlook.com","@live.com","@hotmail.com","@aliyun.com","@21cn.com","@baidu.com","@google.com","@263.com","@wo.com.cn","@189.cn","@2980.com"];BODY.find("input[type=email],input[data-type=email]").each(function(t,n){n=$(n);var a=!1;n.data("mail_box")||(n.data("mail_box",!0),a=!!n.data("mail_at_show"),n.typeahead({minLength:1,fitToElement:!0,source:function(t,n){var i="",o=/^@/,s=/^@.*?$/,r=[];if(/.*?@.*?/.test(t)){t=t.replace("/@*/g",""),i=t.split("@"),$.utils.isObject(i,"array")&&2==i.length&&(o=new RegExp("^@"+i[1].replace(/\./g,"\\.")),s=new RegExp("^@"+i[1].replace(/\./g,"\\.")+".*?$"));for(var l in e)s.test(e[l])&&e[l].replace(o,"").length>0&&r.push(e[l].replace(o,""))}else r=e;a?t.split("@").length>1&&n((t+r.join(","+t)).split(",")):n((t+r.join(","+t)).split(",")),r.length<=0&&this.hide()}}))})},input_calendar=function(e){e=(e||BODY).find("[data-toggle=calendar]");var t=function(e,t,n){var a=e.data("theme");a="calendar_"+(arr.in_array(a,["airbnb","confetti","dark","light","material_blue","material_green","material_orange","material_red"])?a:"default"),$.utils.loadcss("plugin/"+a,function(){var t=e.data();e.flatpickr({altFormat:t.altformat?t.altformat:"F j, Y",altInput:!!t.altfnput,altInputClass:t.altinputclass?t.altinputclass:"",allowInput:!!t.allowinput,appendTo:t.appendto?t.appendto:null,clickOpens:!t.clickopens||t.clickopens,dateFormat:t.dateformat?t.dateformat:"Y-m-d",defaultDate:e.val()?e.val():t.defaultdate?t.defaultdate:null,defaultHour:t.defaulthour?t.defaulthour:12,defaultMinute:t.defaultminute?t.defaultminute:0,disable:t.disable?t.disable:[],enable:t.enable?t.enable:[],disableMobile:!0,enableTime:!!t.enabletime,enableSeconds:!!t.enableseconds,hourIncrement:t.hourincrement?t.hourincrement:1,minuteIncrement:t.minuteincrement?t.minuteincrement:5,inline:!!t.inline,static:!!t.static,minDate:t.mindate?t.mindate:null,maxDate:t.maxdate?t.maxdate:null,mode:t.mode?t.mode:"single",prevArrow:t.prevarrow?t.prevarrow:'<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#left"></use></svg>',nextArrow:t.nextarrow?t.nextarrow:'<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#right"></use></svg>',noCalendar:!!t.noCalendar,shorthandCurrentMonth:!!t.shorthandcurrentmonth,time_24hr:!!t.time_24hr,utc:!!t.utc,noCalendar:!!t.nocalendar,weekNumbers:!!t.weeknumbers,locale:"zh",onChange:t.onChange?t.onChange:null,onClose:t.onClose?t.onClose:null,onOpen:t.onOpen?t.onOpen:null,onReady:t.onReady?t.onReady:null,onYearChange:t.onYearChange?t.onYearChange:null,onMonthChange:t.onMonthChange?t.onMonthChange:null,parseDate:t.parseDate?t.parseDate:null})})};e.length>0&&$.utils.loadjs("plugin/calendar/core.js",function(){$.utils.loadjs("plugin/calendar/zh.js",function(){e.each(function(e,n){var a=$(n);a.data("flag")||(a.data("flag",!0),a.data("confirm")?$.utils.loadjs("plugin/calendar/confirm.js",function(){t(a)}):t(a))})})})},picture_crop=function(e){e=(e||BODY).find("[data-toggle=crop]");var t=function(e,t,n){e.show(),e.data("create")(e,t,n)};e.length>0&&(e.hide(),$.utils.loadcss("plugin/crop",function(){setTimeout(function(){$.utils.loadjs("plugin/crop/core.js",function(){e.each(function(e,n){var a=$(n);a.data("flag")||(a.data("flag",!0),t(a,n,e))})})},500)}))},follow_init=function(e,t,n){e=(e||BODY).find("[data-toggle=follow][data-uid]"),e.each(function(e,t){t=$(t),t.data("follow_flag")||function(){var e=$.utils.urlencode(parseInt(t.data("uid")));if(e<0)return!1;var n=t.data("state"),a=t.data("gender"),i="followed"==n?"已关注":"mutual"==n?"互相关注":"关注"+(2==a?"她":"他"),o="followed"==n?"ok":"mutual"==n&&"mutual";t.addClass("btn-"+("follow"!=n?"success":2==a?"danger":"primary"));var s=o?'<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#'+o+'"></use></svg>':"",r=null;ishover=!0,t.data("addclass","loading_circle_text").html(s+"<span>"+i+"</span>"),t.find("span"),t.hover(function(){ishover&&(n=t.data("state"),o="followed"==n?"ok":"mutual"==n&&"mutual",s=o?'<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#'+o+'"></use></svg>':"",t.html("follow"==n?s+"<span>立即关注</span>":"<span>取消关注</span>"))},function(){ishover=!0,t.html(s+("follow"==n?"<span>关注"+(2==a?"她":"他")+"</span>":"mutual"==n?"<span>互相关注</span>":"<span>已关注</span>"))}),t.data("follow_flag",!0).on("click touchend",function(){var i={};r=BODY.find("[data-toggle=follow][data-uid="+e+"]"),$.utils.button_tip.check(t)&&(HTML.data("init")(),i={mod:"social",inc:"follow",do:"follow"==n?"add":"cancel",ajaxsub:!0,formhash:formHash,randoms:Math.random()},i["memberid_"+formHash]=MEMBER_ID,i["uid_"+formHash]=e,$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(i),beforeSend:function(){r.each(function(e,t){$.utils.button_tip.set($(t),!0,"follow"==n?"正在关注":"正在取消")})},success:function(i){var o="",l="success",d={},c=BODY.find("[data-follow-count-"+e+"]"),u=c.text();u=parseInt(u),u=u||0,i?1==i.state?("followed"==i.follow_state?(s='<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#ok"></use></svg>',o=s+"<span>已关注</span>",n="followed",u++):"mutual"==i.follow_state?(s='<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#mutual"></use></svg>',o=s+"<span>互相关注</span>",n="mutual",u++):(s="",l=2==a?"danger":"primary",o="关注"+(2==a?"她":"他"),n="follow",u--),ishover=!1,d={state:n,defclass:"btn btn-"+l,text:o},r.data(d).each(function(e,t){t=$(t),t.hasClass("btn-sm")&&t.data("defclass",t.data("defclass")+" btn-sm font12"),$.utils.button_tip.reset($(t))}),c.text(u)):0==i.state?(show_member_bg(!1,"login"),$.utils.button_tip.reset(t)):-1==i.state?(dialog.prompt("",'<div class="font20 text-center">提交的数据不正确</div>',"建议刷新重试","danger",null,5,!1),$.utils.button_tip.reset(t)):(dialog.prompt("",'<div class="font20 text-center">未知错误</div>',"建议刷新，看看是否关注成功，多次尝试无效，可向我们反馈","danger",null,5,!1),$.utils.button_tip.reset(t)):(dialog.prompt("",'<div class="font20 text-center">关注时出现关注错误</div>',"建议刷新，看看是否关注成功，多次尝试无效，可向我们反馈","danger",null,5,!1),$.utils.button_tip.reset(t))},error:function(e){$.utils.button_tip.reset(t)}}))})}()})},common_report=function(e){e=(e||BODY).find("[data-toggle=report]");var t="";window.report_url=location.href.replace(SITEURL,""),window.report_link=location.href.replace(SITEURL,""),WIN.data("report_html")||function(){var e=["[选填] 填写合适的理由，有助于站务管理人员更迅速的检查问题。","[必填] 请填写您举报的理由，这将有助于站务管理人员更迅速处理。"],n=new StringBuffer;n.append("<dl>"),n.append('<dd class="mgb20 clearfix">'),n.append('<label class="radio radio_danger" for="report_1">'),n.append('<input id="report_1" name="report-type" data-toggle="radio" type="radio" value="1" checked="true"/>'),n.append('<span class="radio_text">广告软文</span>'),n.append("</label>"),n.append('<label class="radio radio_danger" for="report_2">'),n.append('<input id="report_2" name="report-type" data-toggle="radio" type="radio" value="2"/>'),n.append('<span class="radio_text">恶意灌水</span>'),n.append("</label>"),n.append('<label class="radio radio_danger" for="report_3">'),n.append('<input id="report_3" name="report-type" data-toggle="radio" type="radio" value="3"/>'),n.append('<span class="radio_text">违规内容</span>'),n.append("</label>"),n.append('<label class="radio radio_danger" for="report_4">'),n.append('<input id="report_4" name="report-type" data-toggle="radio" type="radio" value="4"/>'),n.append('<span class="radio_text">文不对题</span>'),n.append("</label>"),n.append('<label class="radio radio_danger" for="report_0">'),n.append('<input id="report_0" name="report-type" data-toggle="radio" type="radio" value="0"/>'),n.append('<span class="radio_text">其他</span>'),n.append("</label>"),n.append("</dd>"),n.append('<dt id="dt_report_reason" class="text-muted">理由</dt>'),n.append("<dd>"),n.append('<textarea id="report_reason" placeholder="'+e[0]+'"></textarea>'),n.append("</dd>"),n.append("</dl>"),t=dialog.modal(n.toString(),"举报类型",!1,!1,!0,"report",!0),n.clear();var a=t.find("[data-toggle=radio]"),i=t.find("#dt_report_reason"),o=t.find("#report_reason"),s=1,r=!1;a.radiocheck().change(function(){s=$(this).val(),r=0==s,o.attr("placeholder",e[r+0])}),t.find(".modal-footer:first > button:last").click(function(){var e=$(this);HTML.data("init")();var n=o.val(),a=null;if(r&&$.utils.empty(n))return i.addClass("text-danger").text("别忘了告诉我们举报理由哟~"),o.focus(),setTimeout(function(){i.removeClass("text-danger").text("理由")},2e3),!1;$.utils.button_tip.check(e)&&(window.report_link=window.report_link.replace(SITEURL,""),a={mod:"common",inc:"report",do:"add",ajaxsub:!0,formhash:formHash,randoms:Math.random()},a["url_"+formHash]=$.utils.urlencode(window.report_url),a["link_"+formHash]=$.utils.urlencode(window.report_link),a["type_"+formHash]=$.utils.urlencode(s),a["message_"+formHash]=$.utils.urlencode(n),a["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(a),beforeSend:function(){$.utils.button_tip.set(e,!0,"正在举报")},success:function(e){1==e.state?(dialog.prompt("v",'<div class="font18 text-center">举报成功</div>',"我们将尽快处理，感谢您对"+WEBNAME+" 尽的每一份力！","success",null,3,!1),dialog.close(t)):0==e.state?dialog.login():-1==e.state?(dialog.prompt("",'<div class="font20 text-center">您的请求来路不明确</div>',"举报失败，请重试<br/>多次尝试无效，可向我们反馈","danger",null,5,!1),dialog.close(t)):-2==e.state?(dialog.prompt("","你已经举报过",'<div class="font14 text-center">我们正在处理，大部分情况，我们将会将处理结果在提醒中告诉您。</div>',"info",null,5,!1),$.utils.empty(n)&&dialog.close(t)):-3==e.state&&(dialog.prompt("",'<div class="font20 text-center">举报失败，请重试</div>',"多次尝试无效，可向我们反馈","danger",null,5,!1),dialog.close(t))},complete:function(){$.utils.button_tip.reset(e)}}))}),WIN.data("report_html",t)}(),e.click(function(){var e=$(this),n=e.data("report-url"),a=e.data("report-link");window.report_url=n||"/"+location.href.replace(SITEURL,""),window.report_link=a||"/"+location.href.replace(SITEURL,""),dialog.login()&&(t=WIN.data("report_html"),dialog.open(t))})},common_share=function(e){e=(e||BODY).find("[data-share]"),e.each(function(e,t){t=$(t);var n=t.data("share-type"),a=t.data("share-title"),i=t.data("share-pics"),o=t.data("share-picpaths"),s=t.data("share-summary"),r=t.data("share-category"),l=t.data("share-address");r="article"==r?"前端文章":"note"==r?"前端笔记":"video"==r?"免费前端视频教程":"column"==r?"前端专栏":"前端",t.data("share-set-type",n),t.data("share-set-title",a),t.data("share-set-pics",i||!!o&&o.split(",")),t.data("share-set-summary",s),t.data("share-set-category",r),t.data("share-set-address",l),t.removeAttr("data-share"),t.removeAttr("data-share-type"),t.removeAttr("data-share-title"),t.removeAttr("data-share-pics"),t.removeAttr("data-share-summary"),t.removeAttr("data-share-category"),t.removeAttr("data-share-address"),t.click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);$.utils.share(t.data("share-set-type"),t.data("share-set-title"),t.data("share-set-pics"),"",t.data("share-set-category"),t.data("share-set-address"))})})},common_img_dynamic_size_elem=function(e,t){var n=e.attr("data-dt-size"),a=0,i="";return n?(e.removeAttr("data-dt-size"),e.data("dt-size",n)):n=e.data("dt-size"),n&&(n=n.split(","),a=n[1]/n[0],i=e.data("original"),!!i||(i=e.data("default-url")),!!i||(i=e.attr("src")),n[0]>t?(e.attr({width:t,height:t*a}),i.split("!").length<2&&(i+="!"),i+="/fw/"+t):e.attr({width:n[0],height:n[1]})),i},common_img_dynamic_size=function(e){},create_qrcode=function(e){$.utils.loadjs("plugin/qrcode/core.js",function(){e=(e||BODY).find("[data-qrcode]"),e.each(function(e,t){t=$(t);var n=null,a={};if(!t.data("qrcode_created")){if(t.data("qrcode_created",!0),n=t.data("qrcode").replace(/\s*/,""))for(var i=0,o=[],s=n.split(","),r=s.length;i<r;i++)o=s[i].split(":"),a[o[0]]=o[1];!a.text&&(a.text=location.href),!a.alt&&(a.alt="手机快速访问"),!a.width&&(a.width=t.width()),!a.height&&(a.height=t.height()),!a.foreground&&(a.foreground="#333"),a.padding=a.padding?a.padding:0,a.target?a.popover?t.popover({content:'<img alt="'+a.alt+'" src="'+QD_Qrcode.getQrBase64(a.text,a)+'">'}):t.attr(a.target,'<img alt="'+a.alt+'" src="'+QD_Qrcode.getQrBase64(a.text,a)+'">'):t.attr({alt:a.alt,src:QD_Qrcode.getQrBase64(a.text,a)})}})})},common_pin_update=function(e){var t=(e||BODY).find("[data-pin=false]");t.each(function(e,n){n=t.eq(e),n.data("pin_obj").update()})},common_pin=function(e){var t=(e||BODY).find("[data-pin=true]");t.each(function(e,n){n=t.eq(e),n.attr("data-pin",!1);var a=n.data("pin-clsname");n.removeAttr("data-pin-clsname");var i=n.data("pin-contain");n.removeAttr("data-pin-contain");var o=n.data("pin-hard");n.removeAttr("data-pin-hard");var s=n.data("pin-top");n.removeAttr("data-pin-top");var r=n.data("pin-bottom");n.removeAttr("data-pin-bottom");var l=n.data("pin-index");n.removeAttr("data-pin-index");var d={};d.class_name=(a||"")+" pin_active",!!i&&(d.contain=i),!!o&&(d.hard=o),!!s&&(d.top_spacing=s),!!r&&(d.bottom_spacing=r),!!l&&(d.z_index=l),n.data("pin_obj",new $.Zebra_Pin(n,d))})},common_praise=function(e){var t=(e||BODY).find("[data-praise]");t.each(function(e,n){n=t.eq(e),n.data("bind_praise_event_flag")||n.data("bind_praise_event_flag",!0).click(function(){if(HTML.data("init")(),!dialog.login())return!1;var e=$(this),t=e.data("praise"),n=e.data("praise-comment")?1:0,a=e.data("praise-typeid"),i=e.data("praise-typemd5"),o=e.data("praise-id"),s=e.data("praise-effects-selection"),r=(e.data("praise-count"),BODY.find("[data-praise="+t+"][data-praise-id="+o+"]"+(1===n?"[data-praise-comment=true]":"")));if(e.hasClass("active-praise"))return!1;var l={};$.utils.button_tip.check(e)&&(1===n?(l={mod:"common",inc:"comment",do:"praise"},l["typeid_"+formHash]=a,l["typemd5_"+formHash]=i,l["praisemd5_"+formHash]=o):(l={mod:"common",inc:"praise",do:"add"},l["id_"+formHash]=o),l.ajaxsub=!0,l.formhash=formHash,l.randoms=Math.random(),l["memberid_"+formHash]=MEMBER_ID,l["type_"+formHash]=t,$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(l),beforeSend:function(){var t=parseInt(e.data("praise-count"))+1,n=null,a=null;s?(n=e.find(s),!!(a=n.data("effects_play"))&&a(n)):!!(a=e.data("effects_play"))&&a(e),r.each(function(e,n){n=$(n),$.utils.button_tip.set_empty(n,!0),n.data("praise-count",t).addClass("praise_active");var a=n.find(".praisenum:first"),i=a.text();a.text(i.replace(/\d+/,"{praisenum}").replace(/\{praisenum\}/,convert.myria_billion(t,1)))})},success:function(t){var n=0;1==t.state?r.each(function(a,i){i=$(i);var o=i.find(".praisenum:first"),s=o.text();1==t.state?(i.addClass("praise_active"),o.text(s.replace(/\d+/,"{praisenum}").replace(/\{praisenum\}/,convert.myria_billion(t.praisenum,1))),$.utils.button_tip.set_empty(i,!0)):(n=parseInt(i.data("praise-count"))-1,i.removeClass("praise_active"),o.text(s.replace(/\d+/,"{praisenum}").replace(/\{praisenum\}/,convert.myria_billion(n,1))),$.utils.button_tip.reset(e))}):0==t.state?dialog.prompt("","登录只需3秒","您需要登录后才能点赞","danger",null,3):-5==t.state?dialog.prompt("","给自己点赞？","这样可不行哦~","danger",null,3):-3==t.state||-4==t.state||-6==t.state?dialog.prompt("","点赞失败","找不到此作品或可能此作品已删除","danger",null,3):-2==t.state?dialog.prompt("","您已赞过","无法重复点赞","danger",null,3):dialog.prompt("","点赞失败","你可重试，若多次无效，请反馈给我们","danger",null,3)},complete:function(){}}))})})},common_favorite_column=function(){$.utils.loadjs("plugin/column/favorite.js")},common_column=function(e){var t=(e||BODY).find("[data-column]");!!t&&t.length>0&&$.utils.loadjs("plugin/column/core.js",function(){common_column_fn(t,!0)})},common_navpage=function(){BODY.find(".pagejumpbox .pagejump input:not([data-pjax])").each(function(e,t){t=$(t),t.data("pagejump_event")||(t.data("pagejump_event",!0),t.keydown(function(e){var t=null;if(13==e.which){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.data("sum"),a=t.next("a.pjax_link:first").attr("href"),i=a.match(/.*?(\.html\#[\w-\.]*|\.html)/),o=t.val();o=o?parseInt(o):1,o>n?dialog.prompt("",'<span class="text-danger">此页评论不存在</span>',"已显示评论尾页","",null,3,!0,function(){setTimeout(function(){location.href=a.replace(".html","")+n+i[1]},3e3)}):o<=0?dialog.prompt("",'<span class="text-danger">此页评论不存在</span>',"已显示评论首页","",null,3,!0,function(){setTimeout(function(){location.href=a.replace(".html","")+1+i[1]},3e3)}):location.href=a.replace(".html","")+o+i[1]}}))})},create_video_player=function(e){
    HTML.data("init")(),e=(e||BODY).find('player[data-type="video"]'),e.each(function(e,t){t=$(t);var n,a,i,o,s,r,l,d={};if(!t.data("video-player")){n=t.data("video"),a=t.data("cover"),i=t.data("subtitle"),s=!!t.data("autoplay"),t.removeAttr("data-video"),t.removeAttr("data-cover"),t.removeAttr("data-subtitle"),t.removeAttr("data-autoplay"),r={container:t[0],preload:"none",autoplay:s,theme:"#c00",volume:1,video:{url:n,pic:a}};var c="cn";if(i){o=i.split(",");for(var u=0,p=o.length;u<p;u++)0==u&&(c=o[u].match(/^.*?(cn|en|cnen)(\.vtt.*?)$/)[1]),d[o[u].match(/^.*?(cn|en|cnen)(\.vtt.*?)$/)[1]]=o[u];r.subtitle={type:"webvtt",url:d[c],bottom:"8%"}}l=new DPlayer(r);var f=t.find(".dplayer-controller");f.dblclick(function(e){e.preventDefault(),e.stopPropagation()});var h=$('<div class="dplayer-subtitle-btn"><button class="dplayer-icon dplayer-lang-icon" style="width:100px;"><span style="display:block; height:16px; line-height:16px; font-size:12px; border:1px #ccc solid; color:#ddd; border-radius:3px;"><span style="-webkit-transform:scale(.8); transform:scale(.8);"></span></span></button></div>'),m=h.find("button > span > span");o.length>0&&(f=f.find(".dplayer-icons-right"),"cn"==c?m.data("lang",c).text("切换英文字幕"):"en"==c&&m.data("lang",c).text("切换中文字幕"),2==o.length&&m.click(function(){"en"==m.data("lang")?(m.data("lang","cn"),$(l.video).find("track:first").attr("src",d.cn),m.text("切换英文字幕")):(m.data("lang","en"),$(l.video).find("track:first").attr("src",d.en),m.text("切换中文字幕"))}),f.prepend(h)),t.dblclick(function(){t.data("video-fullscreen")?(t.data("video-fullscreen",!1),l.fullScreen.cancel("browser")):(t.data("video-fullscreen",!0),l.fullScreen.request("browser"))}),t.data("video-player",l)}})},common_init=function(e){e=e||BODY;var t=e.data("pjax_common_event");!!t&&t(),my_slider(),my_getusercard(),e.find("[data-toggle=hoverclass]").hover(function(){var e=$(this),t=e.data("hoverclass").split(",");2==t.length&&""!=t[1]?e.removeClass(t[0]).addClass(t[1]):e.addClass(t[0])},function(){var e=$(this),t=e.data("hoverclass").split(",");2==t.length&&""!=t[1]?e.removeClass(t[1]).addClass(t[0]):e.removeClass(t[0])}),e.find("[data-toggle=clickclass]").click(function(){var e=$(this),t=e.data("clickclass").split(",");2==t.length&&""!=t[1]?e.addClass(t[1]).removeClass(t[0]):e.addClass(t[0])}),e.find("[data-toggle=radio],[data-toggle=checkbox]").radiocheck();var n=e.find("[data-toggle=switch]");!!n.length&&n.qdfunsSwitch();var a=e.find("[data-toggle=tooltip]");!!a.length&&a.tooltip();var i=e.find("[data-toggle=popover]");!!i.length&&i.popover();var o=e.find("[data-hover=dropdown]");!!o.length&&o.each(function(e,t){t=$(t),t.data("dropdown-hover-event")||(t.data("dropdown-hover-event",!0),t.hover(function(){var e=$(this);e.addClass("dropdown_show"),clearTimeout(e.data("dropdown_hover_timer"))},function(){var e=$(this);e.data("dropdown_hover_timer",setTimeout(function(){e.removeClass("dropdown_show")},300))}))}),pagenav_event(),e.find("[data-pjax]").qdfuns_pjax(),window.mojs&&interactive_button(),send_message(),gif_staticframe(),common_img_dynamic_size(e),e.find("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput(),input_password_eyes(),input_word_count(),mail_autocomplate(),input_calendar(),e.find("[data-setcopy]").each(function(e,t){t=$(t);var n=t.data("setcopy"),a=t.data("setcopy-html"),i=t.data("setcopy-text"),o=t.data("setcopy-tips"),s=t.data("setcopy-tips-class"),r=t.data("setcopy-callback");i=/^LOCATION\_URL/.test(i)?i.replace(/^LOCATION\_URL/,location.href):i,n=n?t.find(n):t,i=i||(a?n.html():n.text()),o=o||"",s=s||"",$.utils.setCopy(t,i,o,s,r)}),picture_crop(),$.utils.geetest(),function(){var e=localStorage.getItem("login_top");localStorage.removeItem("login_top"),!!e&&DOC.scrollTop(e)}(),follow_init(),common_praise(),common_column(),common_report(),common_share(),create_video_player(),video_refresh(),create_qrcode(),common_navpage(),common_pin(),setTimeout(common_pin_update,5e3)},view_mode=function(){BODY.find("[data-viewmod=mobile]");BODY.find("[data-viewmod]").click(function(){$.cookie("view_mode",$(this).data("viewmod"),2678400),location.reload()})},line_tabs=function(e){var t=function(e,t){if(t=$(t),t.data("flag"))return!1;t.data("flag",!0);var n=t.find(".tabs-align:first"),a=(n.parent(),t.find("ul")),i=a.find("li"),o=i.find("a"),s=n.find("i:first"),r=null,l=0,d=0,c="right",u=n.find("ul li.active");r=u;var p=parseInt(r.css("margin-left")),f=parseInt(r.css("margin-right")),h=function(){var e=0;n.removeClass("hide");for(var t=0,a=i.length;t<a;t++)e+=i.eq(t).outerWidth(!0);n.width(Math.ceil(e)),p=parseInt(r.css("margin-left")),f=parseInt(r.css("margin-right")),s.css({left:r.position().left+p,right:n.width()-r.position().left-f-r.outerWidth()})};WIN.on("resize",h),h(),setTimeout(function(){s.addClass("dh300")},30);var m=function(e,a){r=a?a.parents("li:first"):$(this);var h=r.data("tab_fn");l=i.index(n.find("ul li.active")),i.removeClass("active"),d=i.index(r),r.addClass("active"),p=parseInt(u.css("margin-left")),f=parseInt(u.css("margin-right")),c=d-l,c<0?(s.css("left",r.position().left+p),setTimeout(function(){s.css("right",n.width()-r.position().left+f-r.outerWidth(!0))},150)):c>0&&(s.css("right",n.width()-r.position().left+f-r.outerWidth(!0)),setTimeout(function(){s.css("left",r.position().left+p)},150)),!!h&&h(),t.data("link")&&setTimeout(function(){location.href=o.eq(d).attr("href")},600)};o.data("line_tab_refresh",m),i.click(m),o.click(function(e){e.preventDefault()})};(e||$("[data-toggle='line-tabs']")).each(t)},headAutoHide=function(){if(HTML.data("init")(),!MAINNAV_HEADROOM_DISABLE)return!1;var e=BODY.find("header.navbar:first"),t=window,n=null;window.Headroom&&e.length&&(n=new Headroom(e[0],{offset:205,tolerance:{down:10,up:10},classes:{pinned:"slideInDown",unpinned:"slideOutUp"},scroller:t}),n.init(),e.data("headroom",n))},getElementOffsetTop=function(e,t,n){var a=BODY.find("header.navbar:first"),i=a.outerHeight();return t&&t.length>0?e.position().top:e.offset().top-("on"!=$.cookie("navbar-auto-visible")?i:n?i:0)},goToAnchor=function(e,t){var n="",a=null,i=0,o=null,s=null,r="",l="",d=$("html,body");if((t=t||location.hash)&&(n="[data-anchor="+$.utils.urldecode(t.replace(/^#/,""))+"]:first"))try{a=BODY.find(n),!window.anchor_disable&&a&&a.length>0&&!a.data("anchor_no")&&(o=a.data("anchor-parent"),r=a.data("anchor-parent-class"),l=a.data("anchor-class"),i=parseInt(a.data("anchor-top")),i=i>=0?i:20,s=o&&o.length>0?BODY.find(o):d,s.stop(!0,!0).delay(e||0).animate({scrollTop:getElementOffsetTop(a,o)-i},300,function(){a.data("anchor_class_onece")||(a.data("anchor_class_onece",!0),!!r&&s.addClass(r),l&&(a.addClass(l),setTimeout(function(){a.removeClass(l)},3e3))),setTimeout(function(){s.scrollTop(getElementOffsetTop(a,o)-i)},150)}))}catch(e){}},anchor_listeners=function(){var e=location.hash;BODY.find("a[href*='#'][href!='#']").click(goToAnchor),WIN.on("hashchange",goToAnchor),!!e&&goToAnchor(2e3)},function_button=function(){var e=null,t=BODY.find("header.navbar:first"),n=BODY.find("#function_button"),a=n.find(".qrcode .popover .popover-body"),i=a.find(".nav-tabs .nav-item"),o=a.find(".tab-content .tab-pane"),s=n.find(".nav .qdfuns-switch"),r=s.find("#cb_navbar-auto-visible"),l=!0;n.length&&(e=$("[data-backtop]:first"),e=e.length?e:$("html,body"),i.hover(function(){var e=$(this);i.removeClass("active"),e.addClass("active"),o.removeClass("active").eq(i.index(e)).addClass("active")}),r.data({on:function(){if(HTML.data("init")(),!MAINNAV_HEADROOM_DISABLE)return!1;$.cookie("navbar-auto-visible","on",2592e3),t.addClass("animated animated400"),HTML.data("init")(),$.utils.loadjs("plugin/headroom/core.js",headAutoHide),l=!0},off:function(){if(HTML.data("init")(),!MAINNAV_HEADROOM_DISABLE)return!1;$.cookie("navbar-auto-visible","off",2592e3),t.hasClass("slideOutUp")&&t.removeClass("slideOutUp").addClass("slideInDown"),setTimeout(function(){t.removeClass("animated animated400"),t.data("headroom").destroy(),l=!0},500)}}),n.find("#backtop").click(function(){e.stop(!0,!0).animate({scrollTop:0},300)}))},create_tags_panel=function(e,t,n){HTML.data("init")();var a=DOC.data("list_tags"),i=DOC.data("server_tags");!a&&(a={}),!i&&(i={}),e=e[0],e.options.confirmKeys=[],e.$input.attr("placeholder",e.$element.attr("placeholder"));var o=null,s=!1,r=convert.md5("tag_"+convert.md5("create")),l=new StringBuffer;l.append('<div id="tags_select_panel">'),l.append('<div class="loading_circle cubicbezier1 primary"></div>'),l.append('<dl id="tag_select_panel" class="clearfix"><dt class="text-muted">热门标签</dt></dl>'),l.append('<ul id="tag_list_panel"></ul>'),l.append('<div id="tag_create_panel"></div>'),l.append("</div>");var d=$(l.toString()),c=d.find(".loading_circle:first"),u=d.find("#tag_select_panel:first"),p=d.find("#tag_list_panel:first"),f=d.find("#tag_create_panel:first");l.clear();var h=function(n){if(n){(t||BODY).append(d),u.find("dd").remove(),l.clear();for(var i in n)a[convert.md5($.utils.urldecode(n[i].name).toLowerCase())]=1,l.append("<dd>"),n[i].icon?l.append('<img alt="'+$.utils.urldecode(n[i].name)+'" src="'+attachment.geturl(n[i].icon,"/both/32x32")+'"/>'):l.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#tag"></use></svg>'),l.append("<span>"+$.utils.urldecode(n[i].name)+"</span>"),l.append("</dd>");DOC.data("list_tags",a),u.append(l.toString()),l.clear(),u.find("dd").click(function(t){var n=$(this);e.add(n.html()),setTimeout(function(){e.$input.focus()},35)}),d.click(function(e){e.stopPropagation()}),!!e.$element.data("maxwidth")&&d.css("width",e.$container.width())}},m=function(){var e=DOC.data("default_tags");if(e)h(e);else{HTML.data("init")();var t=$.utils.timestamp_ms(),n={mod:"common",inc:"chars",do:"hottags",ajaxsub:!0,formhash:formHash,randoms:Math.random()};n["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),n["ajaxtime_"+formHash]=t,b&&$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(n),beforeSend:function(){b=!1},success:function(t){1==t.state&&(b=!0,e=t.tags,DOC.data("default_tags",e),h(e),c.hide())},error:function(){c.hide()}})}},g=function(e){f.find(".alert button").click(function(){HTML.data("init")();var t=$(this),n=$.utils.timestamp_ms(),i={};$.utils.button_tip.check(t)&&(i={mod:"common",inc:"chars",do:"create",ajaxsub:!0,formhash:formHash,randoms:Math.random()},i["name_"+formHash]=$.utils.urlencode(e.name),i["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),i["ajaxtime_"+formHash]=n,$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(i),beforeSend:function(){$.utils.button_tip.set(t,!0,"提交中")},success:function(e){l.clear();var n=null;1==e.state?(n=$("<div></div>"),e.name=$.utils.urldecode(e.name),e.icon?l.append('<img alt="'+e.name+'" src="'+attachment.geturl(e.icon,"/both/32x32")+'"/>'):l.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#tag"></use></svg>'),l.append("<span>"+e.name+"</span>"),n.append(l.toString()),n.data("name",e.name),a[convert.md5($.utils.urldecode(e.name).toLowerCase())]=1,_(n),d.removeAttr("class"),$.utils.button_tip.prompt_reset(t,"v","已创建","success")):$.utils.button_tip.prompt_reset(t,"x","创建失败","danger")},error:function(){$.utils.button_tip.reset(t)}}))})},v=function(e){var t={};l.clear(),e.state>0?(t=e.data,clearTimeout(o),l.append('<h6 class="text-muted">创建标签</h6>'),l.append('<div id="new_tag_info">'),e.state>=1&&(t.icon?(f.addClass("extis_logo"),l.append('<div id="tag_logo">'),l.append('<img alt="'+$.utils.urldecode(t.name)+'" src="'+(3==e.state?t.icon:attachment.geturl(t.icon,"/both/64x64"))+'"/>'),l.append("</div>")):f.removeClass("extis_logo"),l.append("<h5>"+$.utils.urldecode(t.name)+"</h5>"),(t.link_official||t.link_github||t.link_wiki_en||t.link_wiki_cn||t.baike)&&(l.append('<div id="relevant_links" class="clearfix">'),t.link_official&&(l.append('<a href="'+t.link_official+'" class="primary" target="_blank">'),l.append('<svg viewBox="0 0 1024 1024" class="icon"><use xlink:href="/res/svg/common.svg#earth"></use></svg>'),l.append("<span>"),l.append("官网"),l.append("</span>"),l.append("</a>")),t.link_github&&(l.append('<a href="'+t.link_github+'" class="primary" target="_blank">'),l.append('<svg viewBox="0 0 1024 1024" class="icon"><use xlink:href="/res/svg/common.svg#github"></use></svg>'),l.append("<span>"),l.append("Github"),l.append("</span>"),l.append("</a>")),t.link_wiki_en&&(l.append('<a href="'+t.link_wiki_en+'" class="primary" target="_blank">'),l.append('<svg viewBox="0 0 1024 1024" class="icon"><use xlink:href="/res/svg/common.svg#wiki"></use></svg>'),l.append("<span>"),l.append("维基百科[英文]"),l.append("</span>"),l.append("</a>")),t.link_wiki_cn&&(l.append('<a href="'+t.link_wiki_cn+'" class="primary" target="_blank">'),l.append('<svg viewBox="0 0 1024 1024" class="icon"><use xlink:href="/res/svg/common.svg#wiki"></use></svg>'),l.append("<span>"),l.append("维基百科[中文]"),l.append("</span>"),l.append("</a>")),t.baike&&(l.append('<a href="'+t.baike+'" class="primary" target="_blank">'),l.append('<svg viewBox="0 0 1024 1024" class="icon"><use xlink:href="/res/svg/common.svg#baidu"></use></svg>'),l.append("<span>"),l.append("百度百科"),l.append("</span>"),l.append("</a>"))),l.append("</div>")),l.append("</div>"),e&&t.content_cn?l.append('<p class="text-muted text-indent font12">'+$.utils.urldecode(t.content_cn)+"</p>"):e&&t.content_en&&l.append('<p class="text-muted text-indent font12">'+$.utils.urldecode(t.content_en)+"</p>"),l.append('<div class="alert alert-warning" role="alert">'),l.append("<span>以上内容来自互联网</span>"),l.append('<button type="button" class="btn btn-primary">创建</button>'),l.append("</div>"),f.html(l.toString()),g(t)):-1==e.state?d.attr("class","tag_list_mode"):(l.append('<h6 class="text-muted">创建标签</h6>'),l.append('<p class="mgb0 text-indent text-muted">无法创建此标签，根据分析，此标签可能不是一个非标准的技术标签，<a href="/about.php?mod=help&inc=faq#t4_1" class="danger" target="about">为什么？</a></p>'),f.html(l.toString())),c.hide()},_=function(t){if(HTML.data("init")(),!t)return!1;var n=t.data("name"),i=$.utils.timestamp_ms(),o={};n==r?(n=e.$input.val(),o={mod:"common",inc:"chars",do:"create_confirm",ajaxsub:!0,formhash:formHash,randoms:Math.random()},o["name_"+formHash]=$.utils.urlencode(n),o["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),o["ajaxtime_"+formHash]=i,$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(o),beforeSend:function(){d.attr("class","tag_create_mode"),f.html(""),c.show()},success:v,error:function(){c.hide()}})):1==a[convert.md5(n.toLowerCase())]&&(e.$element.tagsinput("add",t.html().replace(/\<(|\/)b\>/g,"")),d.removeAttr("class")),setTimeout(function(){e.$input.focus()},35)},b=!0,y=function(e,t){l.clear(),!i[t]&&(i[t]={}),i[t]=e,DOC.data("server_tags",i);var n=e.tags,o=new RegExp("^"+t,"i"),s="";if(p.find("li").remove(),d.attr("class","tag_list_mode"),1==e.state&&$.utils.isObject(n,"array")){for(var c in n)s=convert.md5($.utils.urldecode(n[c].name).toLowerCase()),a[s]=1,l.append("<li"+(0==c?' class="active"':"")+' data-name="'+$.utils.urldecode(n[c].name)+'">'),n[c].logo?l.append('<img alt="'+$.utils.urldecode(n[c].name)+'" src="'+attachment.geturl(n[c].logo,"/both/32x32")+'"/>'):l.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#tag"></use></svg>'),t=$.utils.urldecode(n[c].name).match(o)[0],l.append("<span>"+$.utils.urldecode(n[c].name).replace(o,"<b>"+t+"</b>")+"</span>"),l.append("</li>");DOC.data("list_tags",a)}l.append("<li"+(1!=e.state?' class="active"':"")+' data-name="'+r+'">'),l.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#tagCreate"></use></svg>'),l.append("<span>创建标签</span>"),l.append("</li>"),p.append(l.toString()),p.find("li").click(function(){_($(this))})},w=function(e){e=e.replace(/\\/g,""),HTML.data("init")();var t=$.utils.timestamp_ms(),n={mod:"common",inc:"chars",do:"tags",ajaxsub:!0,formhash:formHash,randoms:Math.random()};n["chars_"+formHash]=$.utils.urlencode(e),n["memberid_"+formHash]=$.utils.urlencode(MEMBER_ID),n["ajaxtime_"+formHash]=t,b&&e?(i=DOC.data("server_tags"),!i&&(i={}),i[e]?y(i[e],e):$.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:$.param(n),beforeSend:function(){b=!1,my_tags_ajaxtime=t},success:function(t){y(t,e)},error:function(){},complete:function(){b=!0}})):d.removeClass("tag_list_mode")},x=function(){var a=0,i=0,o={};t?n?(o=n(),a=o,i=o):(a=e.$container.position(),i=e.$input.position()):(a=e.$container.offset(),i=e.$input.offset()),$.utils.maxViewWidth()<=380?d.css({top:a.top+e.$container.outerHeight(),left:a.left,right:a.left+e.$container.outerWidth(),"min-width":e.$container.outerWidth()}):d.css({top:a.top+e.$container.outerHeight(),left:i.left})},T=function(){m(),s=!0,e.itemsArray.length>=e.options.maxTags?d.remove():x()};return e.$input.keyup(function(t){38==t.which||40==t.which?t.preventDefault():13!=t.which&&(clearTimeout(o),o=setTimeout(function(){w(e.$input.val())},300))}),e.$input.focus(T).blur(function(){s=!1}),e.$container.click(function(e){e.preventDefault(),e.stopPropagation()}),DOC.click(function(){d.remove()}).keyup(function(e){if(s){e.preventDefault(),e.stopPropagation();var t=p.find("li"),n=t.length-1,a=t.index(p.find("li.active:first")),i=null;8==e.which?d.hasClass("tag_create_mode")&&d.attr("class","tag_list_mode"):13==e.which?(d.hasClass("tag_list_mode")&&(i=t.removeClass("active").eq(a)),_(i)):38==e.which?(--a,a=a<0?n:a,t.removeClass("active").eq(a).addClass("active")):40==e.which&&(++a,a=a>n?0:a,t.removeClass("active").eq(a).addClass("active"))}}),WIN.on("resize",function(){x()}),e};!function(e){e(global_init)}(jQuery),function(e){e.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,a,i,o,s;return i=2147483648&e,o=2147483648&t,n=1073741824&e,a=1073741824&t,s=(1073741823&e)+(1073741823&t),n&a?2147483648^s^i^o:n|a?1073741824&s?3221225472^s^i^o:1073741824^s^i^o:s^i^o}function a(e,t,n){return e&t|~e&n}function i(e,t,n){return e&n|t&~n}function o(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function r(e,i,o,s,r,l,d){return e=n(e,n(n(a(i,o,s),r),d)),n(t(e,l),i)}function l(e,a,o,s,r,l,d){return e=n(e,n(n(i(a,o,s),r),d)),n(t(e,l),a)}function d(e,a,i,s,r,l,d){return e=n(e,n(n(o(a,i,s),r),d)),n(t(e,l),a)}function c(e,a,i,o,r,l,d){return e=n(e,n(n(s(a,i,o),r),d)),n(t(e,l),a)}function u(e){var t,n,a="",i="";for(n=0;n<=3;n++)t=e>>>8*n&255,i="0"+t.toString(16),a+=i.substr(i.length-2,2);return a}var p,f,h,m,g,v,_,b,y,w=Array();for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(e),w=function(e){for(var t,n=e.length,a=n+8,i=(a-a%64)/64,o=16*(i+1),s=Array(o-1),r=0,l=0;l<n;)t=(l-l%4)/4,r=l%4*8,s[t]=s[t]|e.charCodeAt(l)<<r,l++;return t=(l-l%4)/4,r=l%4*8,s[t]=s[t]|128<<r,s[o-2]=n<<3,s[o-1]=n>>>29,s}(e),v=1732584193,_=4023233417,b=2562383102,y=271733878,p=0;p<w.length;p+=16)f=v,h=_,m=b,g=y,v=r(v,_,b,y,w[p+0],7,3614090360),y=r(y,v,_,b,w[p+1],12,3905402710),b=r(b,y,v,_,w[p+2],17,606105819),_=r(_,b,y,v,w[p+3],22,3250441966),v=r(v,_,b,y,w[p+4],7,4118548399),y=r(y,v,_,b,w[p+5],12,1200080426),b=r(b,y,v,_,w[p+6],17,2821735955),_=r(_,b,y,v,w[p+7],22,4249261313),v=r(v,_,b,y,w[p+8],7,1770035416),y=r(y,v,_,b,w[p+9],12,2336552879),b=r(b,y,v,_,w[p+10],17,4294925233),_=r(_,b,y,v,w[p+11],22,2304563134),v=r(v,_,b,y,w[p+12],7,1804603682),y=r(y,v,_,b,w[p+13],12,4254626195),b=r(b,y,v,_,w[p+14],17,2792965006),_=r(_,b,y,v,w[p+15],22,1236535329),v=l(v,_,b,y,w[p+1],5,4129170786),y=l(y,v,_,b,w[p+6],9,3225465664),b=l(b,y,v,_,w[p+11],14,643717713),_=l(_,b,y,v,w[p+0],20,3921069994),v=l(v,_,b,y,w[p+5],5,3593408605),y=l(y,v,_,b,w[p+10],9,38016083),b=l(b,y,v,_,w[p+15],14,3634488961),_=l(_,b,y,v,w[p+4],20,3889429448),v=l(v,_,b,y,w[p+9],5,568446438),y=l(y,v,_,b,w[p+14],9,3275163606),b=l(b,y,v,_,w[p+3],14,4107603335),_=l(_,b,y,v,w[p+8],20,1163531501),v=l(v,_,b,y,w[p+13],5,2850285829),y=l(y,v,_,b,w[p+2],9,4243563512),b=l(b,y,v,_,w[p+7],14,1735328473),_=l(_,b,y,v,w[p+12],20,2368359562),v=d(v,_,b,y,w[p+5],4,4294588738),y=d(y,v,_,b,w[p+8],11,2272392833),b=d(b,y,v,_,w[p+11],16,1839030562),_=d(_,b,y,v,w[p+14],23,4259657740),v=d(v,_,b,y,w[p+1],4,2763975236),y=d(y,v,_,b,w[p+4],11,1272893353),b=d(b,y,v,_,w[p+7],16,4139469664),_=d(_,b,y,v,w[p+10],23,3200236656),v=d(v,_,b,y,w[p+13],4,681279174),y=d(y,v,_,b,w[p+0],11,3936430074),b=d(b,y,v,_,w[p+3],16,3572445317),_=d(_,b,y,v,w[p+6],23,76029189),v=d(v,_,b,y,w[p+9],4,3654602809),y=d(y,v,_,b,w[p+12],11,3873151461),b=d(b,y,v,_,w[p+15],16,530742520),_=d(_,b,y,v,w[p+2],23,3299628645),v=c(v,_,b,y,w[p+0],6,4096336452),y=c(y,v,_,b,w[p+7],10,1126891415),b=c(b,y,v,_,w[p+14],15,2878612391),_=c(_,b,y,v,w[p+5],21,4237533241),v=c(v,_,b,y,w[p+12],6,1700485571),y=c(y,v,_,b,w[p+3],10,2399980690),b=c(b,y,v,_,w[p+10],15,4293915773),_=c(_,b,y,v,w[p+1],21,2240044497),v=c(v,_,b,y,w[p+8],6,1873313359),y=c(y,v,_,b,w[p+15],10,4264355552),b=c(b,y,v,_,w[p+6],15,2734768916),_=c(_,b,y,v,w[p+13],21,1309151649),v=c(v,_,b,y,w[p+4],6,4149444226),y=c(y,v,_,b,w[p+11],10,3174756917),b=c(b,y,v,_,w[p+2],15,718787259),_=c(_,b,y,v,w[p+9],21,3951481745),v=n(v,f),_=n(_,h),b=n(b,m),y=n(y,g);return(u(v)+u(_)+u(b)+u(y)).toLowerCase()}}(jQuery),function(e){e.ctrlZ=function(t,n){var a={undo:!0,redo:!0,interval:.2},i=this;i.qty=0,i.undo_buffer={},i.infos={},i.settings={};var o=e(t),t=t;i.init=function(){i.settings=e.extend({},a,n),o.each(function(){i.qty++;var t=!1;(t=e(this).attr("id"))||(t="ctrlZ_"+i.qty,e(this).attr("id",t)),i.undo_buffer[t]=new Array,i.infos[t]={scan:!0,ctrl:!1,rang:0,prec:""}}).keyup(function(t){var n=e(this).attr("id");17==s(t)&&(i.infos[n].ctrl=!1)}).keydown(function(t){var n=e(this).attr("id"),a=s(t);if(17==a&&(i.infos[n].ctrl=!0),89==a&&i.infos[n].ctrl&&(t.preventDefault(),i.infos[n].rang<i.undo_buffer[n].length-1))try{i.infos[n].scan=!1,i.infos[n].rang++,i.infos[n].prec_val=i.undo_buffer[n][i.infos[n].rang],e(this).val(i.infos[n].prec_val)}catch(e){}if(90==a&&i.infos[n].ctrl&&(t.preventDefault(),i.infos[n].rang>1))try{i.infos[n].scan=!1,i.infos[n].rang--,i.infos[n].prec_val=i.undo_buffer[n][i.infos[n].rang],e(this).val(i.infos[n].prec_val)}catch(e){}}),r()};var s=function(e){return e.keyCode?e.keyCode:e.charCode?e.charCode:e.which},r=function(){setInterval(function(){for(var t in i.undo_buffer)if(i.undo_buffer.hasOwnProperty(t)){var n=e("#"+t).val();i.infos[t].scan?i.infos[t].prec_val!=n&&(i.infos[t].rang++,i.undo_buffer[t][i.infos[t].rang]=n,i.infos[t].prec_val=n):i.infos[t].prec_val!=n&&(i.undo_buffer[t].splice(i.infos[t].rang+1,i.undo_buffer[t].length-i.infos[t].rang+1),i.infos[t].scan=!0)}},1e3*i.settings.interval)};i.init()},e.fn.ctrlZ=function(t){return this.each(function(){if(void 0==e(this).data("ctrlZ")){var n=new e.ctrlZ(this,t);e(this).data("ctrlZ",n)}})}}(jQuery),function(){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function e(t,n,a){function i(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){var a=e("matches-selector");t.exports=function(e,t,n){for(var i=n?e:e.parentNode;i&&i!==document;){if(a(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){function a(e,t,n,a,o){var s=i.apply(this,arguments);return e.addEventListener(n,s,o),{destroy:function(){e.removeEventListener(n,s,o)}}}function i(e,t,n,a){return function(n){n.delegateTarget=o(n.target,t,!0),n.delegateTarget&&a.call(e,n)}}var o=e("closest");t.exports=a},{closest:1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){function a(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return i(e,t,n);if(r.nodeList(e))return o(e,t,n);if(r.string(e))return s(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function s(e,t,n){return l(document.body,e,t,n)}var r=e("./is"),l=e("delegate");t.exports=a},{"./is":3,delegate:2}],5:[function(e,t,n){function a(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),a=0;a<n.length;++a)if(n[a]==e)return!0;return!1}var i=Element.prototype,o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=a},{}],6:[function(e,t,n){function a(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),a=document.createRange();a.selectNodeContents(e),n.removeAllRanges(),n.addRange(a),t=n.toString()}return t}t.exports=a},{}],7:[function(e,t,n){function a(){}a.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function a(){i.off(e,a),t.apply(n,arguments)}var i=this;return a._=t,this.on(e,a,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,i=n.length;for(a;a<i;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],i=[];if(a&&t)for(var o=0,s=a.length;o<s;o++)a[o].fn!==t&&a[o].fn._!==t&&i.push(a[o]);return i.length?n[e]=i:delete n[e],this}},t.exports=a},{}],8:[function(t,n,a){!function(i,o){if("function"==typeof e&&e.amd)e(["module","select"],o);else if(void 0!==a)o(n,t("select"));else{var s={exports:{}};o(s,i.select),i.clipboardAction=s.exports}}(this,function(e,t){"nouse strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,a.default)(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},o(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},{select:6}],9:[function(t,n,a){!function(i,o){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if(void 0!==a)o(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var s={exports:{}};o(s,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=s.exports}}(this,function(e,t,n,a){"nouse strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var d=i(t),c=i(n),u=i(a);window.Clipboard=function(e){function t(n,a){o(this,t);var i=s(this,e.call(this));return i.resolveOptions(a),i.listenClick(n),i}return r(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},
    t.prototype.listenClick=function(e){var t=this;this.listener=(0,u.default)(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new d.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return l("action",e)},t.prototype.defaultTarget=function(e){var t=l("target",e);if(t)return document.querySelector(t)},t.prototype.defaultText=function(e){return l("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(c.default),e.exports=Clipboard})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)})}(),function(e){var t=function(t,n,a){var i={handler:t,limit:{area:t.parent(),lock:!1,x:0,y:0},direction:"top left",resize:!0,onmove:e.noop},o={};!!t.data("handle")&&(o.handle=t.data("handle")),!!t.data("limit")&&function(){for(var e,n=t.data("limit").split(","),a={},i=0,s=n.length;i<s;i++)e=n.split(":"),a[e[0]]=e[1];o.limit=a}(),!!t.data("direction")&&(o.direction=t.data("direction"));var s=e.extend(i,a);s=e.extend(i,o);var r=!1,l=0,d=0,c=0,u=0,p=0,f=0,h=t.position(),m=t.width(),g=t.height(),v=[];!function(){p=h.left,f=h.top,t.css({top:0,left:0,right:"initial",bottom:"initial",transform:"translate("+h.left+"px, "+h.top+"px)"})}(),s.resize&&WIN.on("resize",function(){var n=t.position();t.parent().is("body")?(l=e.utils.maxViewWidth(),d=e.utils.maxViewHeight()):(l=s.limit.area.width(),d=s.limit.area.height()),l>0&&n.left+m>l&&(p=l-m),d>0&&n.top+g>d&&(f=d-g),t.css("transform","translate("+p+"px, "+f+"px)")}),s.handler.on("mouseenter",function(){s.handler.css("cursor","move")}).on("mousedown",function(n){n.preventDefault(),t.parent().is("body")?(l=e.utils.maxViewWidth(),d=e.utils.maxViewHeight()):(l=s.limit.area.width(),d=s.limit.area.height()),l-=s.limit.x,d-=s.limit.y,v={x:n.pageX,y:n.pageY},h=t.position(),h={x:h.left,y:h.top},c=l-t.width(),u=d-t.height(),r=!0}),DOC.on("mousemove",function(e){r&&(p=h.x+e.pageX-v.x,f=h.y+e.pageY-v.y,s.limit.lock&&(p=p<s.limit.x?s.limit.x:p,p=p>c?c:p,f=f<s.limit.y?s.limit.y:f,f=f>u?u:f),t.css("transform","translate("+p+"px, "+f+"px)"),s.onmove(e))}).on("mouseup",function(e){r=!1})};e.fn.qdfunsDrag=function(n){return this.each(function(a,i){var o=e(i);void 0==o.data("qdfuns_drag")&&o.data("qdfuns_drag",new t(o,a,n))})}}(jQuery),function(e){var t=function(t,n){var a=e('<div class="qdfuns-switch"></div>');t.wrap(a).end(),t.after("<i></i>"),a=t.parent(".qdfuns-switch"),a.click(function(){var e=!t.prop("checked");t.prop("checked",e),e?!!t.data("on")&&t.data("on")():!!t.data("off")&&t.data("off")()})};e.fn.qdfunsSwitch=function(){return this.each(function(n,a){var i=e(a);void 0==i.data("qdfuns_switch")&&i.data("qdfuns_switch",new t(i,n))})}}(jQuery),function(e){var t=WIN,n=e("title:first"),a=e("meta[name='title']:first"),i=e("meta[name='keywords']:first"),o=e("meta[name='description']:first"),s=function(n){var a=n.url,i=BODY.find("[data-pjax-url='"+a+"'][data-pjax]:first");i=i.length<=0?BODY.find("[href='"+a+"'][data-pjax]:first"):i;var o=i.data("pjax-target-parent");o=o?e(o):null;var s=i.data("pjax-target-content");s=s?e(s):null;var r=i.data("pjax_req_ok"),l=null;return o&&s&&(l=function(e){t.scrollTop(n.scroll_top),o.scrollTop(0);try{s.find("img").lazyload({container:s}),!!r&&r(e,a,i,"history"),!!window.pjax_req_ok&&window.pjax_req_ok(a,i,"history")}catch(e){}}),{url:a,main:BODY.find(n.parent_selector),content:BODY.find(n.content_selector),success:l}};t.on("popstate",function(e){if(history.length>1&&!history.state)return!1;var r=history.state,l=null,u={};r.always_req?(l=BODY.find("[data-pjax-url^='"+r.url+"'][data-pjax]:first"),l=l.length<=0?BODY.find("[href^='"+r.url+"'][data-pjax]:first"):l,l=l.length<=0?BODY.find("[href^='"+r.url.replace(".html","")+"'][data-pjax]:first"):l,u=d(l,r.url),c(u,!0)):(u=s(r),n.html(r.tag_title),a.attr("content",r.meta_title),i.attr("content",r.meta_keywords),o.attr("content",r.meta_description),u.content.html(r.content),common_init(u.content),u.success?u.success(e):(t.scrollTop(r.scroll_top),u.content.find("img").lazyload({container:u.content}),!!window.pjax_req_ok&&window.pjax_req_ok(u.url,!1,"history")),t.scrollTop(r.scroll_top))});var r=function(e){if(history.length>1&&history.state)return!1;var s={tag_title:n.html(),meta_title:a.attr("content"),meta_keywords:i.attr("content"),meta_description:o.attr("content"),content:e.content.html(),parent_selector:e.main_selector,scroll_top:t.scrollTop(),content_selector:e.content_selector,url:"/"+location.href.replace(SITEURL,"").replace(/\/page\/\d*(\.html|)/,"$1").replace(/\&page\=\d*.*/,""),always_req:e.always_req};history.replaceState(s,s.tag_title,s.pathname)},l=function(s){var r=e("<div></div>");r.append(s);var l=r.find("title:first"),d=r.find("meta[name='title']:first"),c=r.find("meta[name='keywords']:first"),u=r.find("meta[name='description']:first"),p={tag_title:l.html(),meta_title:d.attr("content"),meta_keywords:c.attr("content"),meta_description:u.attr("content"),scroll_top:t.scrollTop()};return l.remove(),d.remove(),c.remove(),u.remove(),p.content=r.html(),n.html(p.tag_title),a.attr("content",p.meta_title),i.attr("content",p.meta_keywords),o.attr("content",p.meta_description),p},d=function(t,n){var a=n;n?a=n:(a=t.data("pjax-url"),a=a||t.attr("href"));var i=t.data("pjax-target-parent"),o=i;i=i?e(i):null;var s=t.data("pjax-target-loading");s=s?e(s):null;var r=t.data("pjax-actionname");r=r?r.split(","):["pjaxFadeOutDownSmall","pjaxFadeInUpSmall"];var l=t.data("pjax-target-content"),d=l;l=l?e(l):null;var c=t.data("pjax_req_start"),u=function(n){WIN.scrollTop(i.offset().top-100),i.css("overflow","hidden"),e.utils.loading.show(s),l.addClass("animated animated200").addClass(r[0]),!!c&&c(n,a,t,"req"),!!window.pjax_req_start&&window.pjax_req_start(a,t,"req")},p=t.data("pjax_req_ok"),f=function(e){i.scrollTop(0);try{setTimeout(function(){l.find("img").lazyload({container:l}),!!p&&p(e,a,t,"req"),!!window.pjax_req_ok&&window.pjax_req_ok(a,t,"req")},600)}catch(e){}},h=t.data("pjax_req_end"),m=function(n){e.utils.refresh_pv(a),setTimeout(function(){e.utils.loading.hide(s),i.removeAttr("style"),l.removeClass("animated animated200").removeClass(r[0]).addClass(r[1]),!!h&&h(n,a,t,"req"),!!window.pjax_req_end&&window.pjax_req_end(a,t,"req")},600)},g=t.data("pjax_req_error"),v=function(e){!!g&&g(e,a,t,"req"),!!window.pjax_req_error&&window.pjax_req_error(a,t,"req"),location.href=a},_=t.data("pjax-history-always-req");return{url:a,main:i,main_selector:o,content:l,content_selector:d,beforeSend:u,success:f,complete:m,error:v,always_req:!!_}},c=function(t,n){HTML.data("init")();var a={inpjax:1,formhash:formHash,randoms:Math.random()};e.ajax({type:"POST",cache:!1,url:t.url,dataType:"html",data:e.param(a),beforeSend:function(){t.beforeSend(),r(t)},success:function(e){setTimeout(function(){var a=l(e);a.parent_selector=t.main_selector,a.content_selector=t.content_selector,a.url=t.url,a.always_req=t.always_req,!n&&history.pushState(a,a.tag_title,t.url),t.content.html(a.content),t.content.find("[data-pjax]").qdfuns_pjax(),common_init(t.content),t.success()},300)},complete:t.complete,error:t.error})},u=function(t){var n=null;"keydown"==t.data("pjax")?t.data("total",t.data("sum")).removeAttr("data-sum").keydown(function(t){if(13==t.which){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.data("total"),i=n.next("a.pjax_link:first").attr("href"),o=i.match(/.*?(\.html\#[\w-\.]*|\.html)/),s=n.val();s=s?parseInt(s):1;var r={};s>a?dialog.prompt("",'<span class="text-danger">此页评论不存在</span>',"已显示评论尾页","",null,3,!0,function(){i=i.replace(".html","")+a+o[1],r=d(n,i),c(r)}):s<=0?dialog.prompt("",'<span class="text-danger">此页评论不存在</span>',"已显示评论首页","",null,3,!0,function(){i=i.replace(".html","")+1+o[1],r=d(n,i),c(r)}):(i=i.replace(".html","")+s+o[1],r=d(n,i),c(r))}}):(n=function(e){var t=null;e.hasClass("disabled")&&("input"!=e[0].tagName.toLowerCase()||e.prop("disabled"))||(t=d(e),c(t))},t.data("pjax-refresh",function(){n(t)}).click(function(e){e.preventDefault(),n(t)}))};e.fn.qdfuns_pjax=function(){if(history.pushState)return this.each(function(t,n){var a=e(n),i=null;void 0!=a.data("pjax")?void 0==a.data("ispjax")&&a.data("ispjax",new u(a)):"input"==n.tagName.toLowerCase()&&(i=a.parents(".pagejumpbox:first"),a.keydown(function(t){if(13==t.which){t.preventDefault(),t.stopPropagation();var n=e(this),a=i.find("a.pjax_link:first"),o=a.attr("href"),s=o.match(/.*?(\.html\#[\w-\.]*|\.html)/),r=n.val();r=r?parseInt(r):1,o=s?o=o.replace(".html","")+r+s[1]:o+r,location.href=o}}))});e("ul.pagination li.pagejumpbox").find("input:first").keydown(function(t){if(13==t.which){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.parents("li.pagejumpbox"),i=a.find("a.pjax_link:first"),o=i.attr("href"),s=o.match(/.*?(\.html\#[\w-\.]*|\.html)/),r=n.val();r=r?parseInt(r):1,o=o.replace(".html","")+r+s[1],location.href=o}})}}(jQuery),function(e){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function e(e){var t=!1,n=0,a=document.createElement("span");return new MutationObserver(function(){e(),t=!1}).observe(a,{attributes:!0}),function(){t||(t=!0,a.setAttribute("x-index",n),n+=1)}}function t(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},re))}}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function i(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function o(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var t=a(e),n=t.overflow,s=t.overflowX;return/(auto|scroll)/.test(n+t.overflowY+s)?e:o(i(e))}function s(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===a(t,"position")?s(t):t:window.document.documentElement}function r(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||s(e.firstElementChild)===e)}function l(e){return null!==e.parentNode?l(e.parentNode):e}function d(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,a=n?e:t,i=n?t:e,o=document.createRange();o.setStart(a,0),o.setEnd(i,0);var c=o.commonAncestorContainer;if(e!==c&&t!==c||a.contains(i))return r(c)?c:s(c);var u=l(e);return u.host?d(u.host,t):d(e,l(t).host)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",a=e.nodeName;if("BODY"===a||"HTML"===a){var i=window.document.documentElement;return(window.document.scrollingElement||i)[n]}return e[n]}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=c(t,"top"),i=c(t,"left"),o=n?-1:1;return e.top+=a*o,e.bottom+=a*o,e.left+=i*o,e.right+=i*o,e}function p(e,t){var n="x"===t?"Left":"Top",a="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+a+"Width"].split("px")[0]}function f(e,t,n,a){return Math.max(t["offset"+e],n["client"+e],n["offset"+e],pe()?n["offset"+e]+a["margin"+("Height"===e?"Top":"Left")]+a["margin"+("Height"===e?"Bottom":"Right")]:0)}function h(){var e=window.document.body,t=window.document.documentElement,n=pe()&&window.getComputedStyle(t);return{height:f("Height",e,t,n),width:f("Width",e,t,n)}}function m(e){return ge({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var t={};if(pe())try{t=e.getBoundingClientRect();var n=c(e,"top"),i=c(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?h():{},r=s.width||e.clientWidth||o.right-o.left,l=s.height||e.clientHeight||o.bottom-o.top,d=e.offsetWidth-r,u=e.offsetHeight-l;if(d||u){var f=a(e);d-=p(f,"x"),u-=p(f,"y"),o.width-=d,o.height-=u}return m(o)}function v(e,t){var n=pe(),i="HTML"===t.nodeName,s=g(e),r=g(t),l=o(e),d=a(t),c=+d.borderTopWidth.split("px")[0],p=+d.borderLeftWidth.split("px")[0],f=m({top:s.top-r.top-c,left:s.left-r.left-p,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!n&&i){var h=+d.marginTop.split("px")[0],v=+d.marginLeft.split("px")[0];f.top-=c-h,f.bottom-=c-h,f.left-=p-v,f.right-=p-v,f.marginTop=h,f.marginLeft=v}return(n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=u(f,t)),f}function _(e){var t=window.document.documentElement,n=v(e,t),a=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=c(t),s=c(t,"left");return m({top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:i})}function b(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===a(e,"position")||b(i(e)))}function y(e,t,n,a){var s={top:0,left:0},r=d(e,t);if("viewport"===a)s=_(r);else{var l=void 0;"scrollParent"===a?(l=o(i(e)),"BODY"===l.nodeName&&(l=window.document.documentElement)):l="window"===a?window.document.documentElement:a;var c=v(l,r);if("HTML"!==l.nodeName||b(r))s=c;else{var u=h(),p=u.height,f=u.width;s.top+=c.top-c.marginTop,s.bottom=p+c.top,s.left+=c.left-c.marginLeft,s.right=f+c.left}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function w(e){return e.width*e.height}function x(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=y(n,a,o,i),r={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(r).map(function(e){return ge({key:e},r[e],{area:w(r[e])})}).sort(function(e,t){return t.area-e.area}),d=l.filter(function(e){var t=e.width,a=e.height;return t>=n.clientWidth&&a>=n.clientHeight}),c=d.length>0?d[0].key:l[0].key,u=e.split("-")[1];return c+(u?"-"+u:"")}function T(e,t,n){return v(n,d(t,n))}function C(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),a=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+a,height:e.offsetHeight+n}}function E(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function k(e,t,n){n=n.split("-")[0];var a=C(e),i={width:a.width,height:a.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",r=o?"left":"top",l=o?"height":"width",d=o?"width":"height";return i[s]=t[s]+t[l]/2-a[l]/2,i[r]=n===r?t[r]-a[d]:t[E(r)],i}function O(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function A(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var a=O(e,function(e){return e[t]===n});return e.indexOf(a)}function S(e,t,a){return(void 0===a?e:e.slice(0,A(e,"name",a))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=e.function||e.fn;e.enabled&&n(a)&&(t.offsets.popper=m(t.offsets.popper),t.offsets.reference=m(t.offsets.reference),t=a(t,e))}),t}function I(){if(!this.state.isDestroyed){var e={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=T(this.state,this.popper,this.reference),e.placement=x(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=k(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=S(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function $(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function D(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<t.length-1;a++){var i=t[a],o=i?""+i+n:e;if(void 0!==window.document.body.style[o])return o}return null}function j(){return this.state.isDestroyed=!0,$(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(e,t,n,a){var i="BODY"===e.nodeName,s=i?window:e;s.addEventListener(t,n,{passive:!0}),i||L(o(s.parentNode),t,n,a),a.push(s)}function N(e,t,n,a){n.updateBound=a,window.addEventListener("resize",n.updateBound,{passive:!0});var i=o(e);return L(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=N(this.reference,this.options,this.state,this.scheduleUpdate))}function M(e,t){return window.removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function R(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=M(this.reference,this.state))}function B(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function P(e,t){Object.keys(t).forEach(function(n){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&B(t[n])&&(a="px"),e.style[n]=t[n]+a})}function W(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function U(e){return P(e.instance.popper,e.styles),W(e.instance.popper,e.attributes),e.offsets.arrow&&P(e.arrowElement,e.offsets.arrow),e}function F(e,t,n,a,i){var o=T(i,t,e),s=x(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),P(t,{position:"absolute"}),n}function V(e,t){var n=t.x,a=t.y,i=e.offsets.popper,o=O(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==o?o:t.gpuAcceleration,l=s(e.instance.popper),d=g(l),c={position:i.position},u={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},p="bottom"===n?"top":"bottom",f="right"===a?"left":"right",h=D("transform"),m=void 0,v=void 0;if(v="bottom"===p?-d.height+u.bottom:u.top,m="right"===f?-d.width+u.right:u.left,r&&h)c[h]="translate3d("+m+"px, "+v+"px, 0)",c[p]=0,c[f]=0,c.willChange="transform";else{var _="bottom"===p?-1:1,b="right"===f?-1:1;c[p]=v*_,c[f]=m*b,c.willChange=p+", "+f}var y={"x-placement":e.placement};return e.attributes=ge({},y,e.attributes),e.styles=ge({},c,e.styles),e}function q(e,t,n){var a=O(e,function(e){return e.name===t}),i=!!a&&e.some(function(e){return e.name===n&&e.enabled&&e.order<a.order});if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function Y(e,t){if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,r=-1!==["left","right"].indexOf(a),l=r?"height":"width",d=r?"top":"left",c=r?"left":"top",u=r?"bottom":"right",p=C(n)[l];s[u]-p<o[d]&&(e.offsets.popper[d]-=o[d]-(s[u]-p)),s[d]+p>o[u]&&(e.offsets.popper[d]+=s[d]+p-o[u]);var f=s[d]+s[l]/2-p/2,h=f-m(e.offsets.popper)[d];return h=Math.max(Math.min(o[l]-p,h),0),e.arrowElement=n,e.offsets.arrow={},e.offsets.arrow[d]=Math.round(h),e.offsets.arrow[c]="",e}function z(e){return"end"===e?"start":"start"===e?"end":e}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=_e.indexOf(e),a=_e.slice(n+1).concat(_e.slice(0,n));return t?a.reverse():a}function G(e,t){if($(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=y(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),a=e.placement.split("-")[0],i=E(a),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case be.FLIP:s=[a,i];break;case be.CLOCKWISE:s=K(a);break;case be.COUNTERCLOCKWISE:s=K(a,!0);break;default:s=t.behavior}return s.forEach(function(r,l){if(a!==r||s.length===l+1)return e;a=e.placement.split("-")[0],i=E(a);var d=e.offsets.popper,c=e.offsets.reference,u=Math.floor,p="left"===a&&u(d.right)>u(c.left)||"right"===a&&u(d.left)<u(c.right)||"top"===a&&u(d.bottom)>u(c.top)||"bottom"===a&&u(d.top)<u(c.bottom),f=u(d.left)<u(n.left),h=u(d.right)>u(n.right),m=u(d.top)<u(n.top),g=u(d.bottom)>u(n.bottom),v="left"===a&&f||"right"===a&&h||"top"===a&&m||"bottom"===a&&g,_=-1!==["top","bottom"].indexOf(a),b=!!t.flipVariations&&(_&&"start"===o&&f||_&&"end"===o&&h||!_&&"start"===o&&m||!_&&"end"===o&&g);(p||v||b)&&(e.flipped=!0,(p||v)&&(a=s[l+1]),b&&(o=z(o)),e.placement=a+(o?"-"+o:""),e.offsets.popper=ge({},e.offsets.popper,k(e.instance.popper,e.offsets.reference,e.placement)),e=S(e.instance.modifiers,e,"flip"))}),e}function Q(e){var t=e.offsets,n=t.popper,a=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),r=s?"right":"bottom",l=s?"left":"top",d=s?"width":"height";return n[r]<o(a[l])&&(e.offsets.popper[l]=o(a[l])-n[d]),n[l]>o(a[r])&&(e.offsets.popper[l]=o(a[r])),e}function X(e,t,n,a){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){var r=void 0;switch(s){case"%p":r=n;break;case"%":case"%r":default:r=a}return m(r)[t]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function J(e,t,n,a){var i=[0,0],o=-1!==["right","left"].indexOf(a),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),r=s.indexOf(O(s,function(e){return-1!==e.search(/,|\s/)}));s[r]&&-1===s[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1!==r?[s.slice(0,r).concat([s[r].split(l)[0]]),[s[r].split(l)[1]].concat(s.slice(r+1))]:[s];return d=d.map(function(e,a){var i=(1===a?!o:o)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return X(e,i,t,n)})}),d.forEach(function(e,t){e.forEach(function(n,a){B(n)&&(i[t]+=n*("-"===e[a-1]?-1:1))})}),i}function Z(e,t){var n=t.offset,a=e.placement,i=e.offsets,o=i.popper,s=i.reference,r=a.split("-")[0],l=void 0;return l=B(+n)?[+n,0]:J(n,o,s,r),"left"===r?(o.top+=l[0],o.left-=l[1]):"right"===r?(o.top+=l[0],o.left+=l[1]):"top"===r?(o.left+=l[0],o.top-=l[1]):"bottom"===r&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e}function ee(e,t){var n=t.boundariesElement||s(e.instance.popper);e.instance.reference===n&&(n=s(n));var a=y(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=a;var i=t.priority,o=e.offsets.popper,r={primary:function(e){var n=o[e];return o[e]<a[e]&&!t.escapeWithReference&&(n=Math.max(o[e],a[e])),me({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>a[e]&&!t.escapeWithReference&&(i=Math.min(o[n],a[e]-("right"===e?o.width:o.height))),me({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=ge({},o,r[t](e))}),e.offsets.popper=o,e}function te(e){var t=e.placement,n=t.split("-")[0],a=t.split("-")[1];if(a){var i=e.offsets,o=i.reference,s=i.popper,r=-1!==["bottom","top"].indexOf(n),l=r?"left":"top",d=r?"width":"height",c={start:me({},l,o[l]),end:me({},l,o[l]+o[d]-s[d])};e.offsets.popper=ge({},s,c[a])}return e}function ne(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=O(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ae(e){var t=e.placement,n=t.split("-")[0],a=e.offsets,i=a.popper,o=a.reference,s=-1!==["left","right"].indexOf(n),r=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[t]-(r?i[s?"width":"height"]:0),e.placement=E(t),e.offsets.popper=m(i),e}for(var ie=["native code","[object MutationObserverConstructor]"],oe="undefined"!=typeof window,se=["Edge","Trident","Firefox"],re=0,le=0;le<se.length;le+=1)if(oe&&navigator.userAgent.indexOf(se[le])>=0){re=1;break}var de=oe&&function(e){return ie.some(function(t){return(e||"").toString().indexOf(t)>-1})}(window.MutationObserver),ce=de?e:t,ue=void 0,pe=function(){return void 0===ue&&(ue=-1!==navigator.appVersion.indexOf("MSIE 10")),ue},fe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},he=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),me=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],_e=ve.slice(3),be={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},ye={shift:{order:100,enabled:!0,fn:te},offset:{order:200,enabled:!0,fn:Z,offset:0},preventOverflow:{order:300,enabled:!0,fn:ee,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Q},arrow:{order:500,enabled:!0,fn:Y,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:G,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ae},hide:{order:800,enabled:!0,fn:ne},computeStyle:{order:850,enabled:!0,fn:V,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:U,onLoad:F,gpuAcceleration:void 0}},we={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ye},xe=function(){function e(t,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fe(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ce(this.update.bind(this)),this.options=ge({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=a.jquery?a[0]:a,this.options.modifiers={},Object.keys(ge({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){i.options.modifiers[t]=ge({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return ge({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return he(e,[{key:"update",value:function(){return I.call(this)}},{key:"destroy",value:function(){return j.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return R.call(this)}}]),e}();return xe.Utils=("undefined"!=typeof window?window:global).PopperUtils,xe.placements=ve,xe.Defaults=we,xe})}(jQuery),function(){!function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var s=function(){function e(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(){return{bindType:o.end,delegateType:o.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function a(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in s)if(void 0!==e.style[t])return{end:s[t]};return!1}function i(e){var n=this,a=!1;return t(this).one(r.TRANSITION_END,function(){a=!0}),setTimeout(function(){a||r.triggerTransitionEnd(n)},e),this}var o=!1,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var n=e.getAttribute("data-target");n&&"#"!==n||(n=e.getAttribute("href")||"");try{return t(document).find(n).length>0?n:null}catch(e){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(o.end)},supportsTransitionEnd:function(){return Boolean(o)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(t,n,a){for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){var o=a[i],s=n[i],l=s&&r.isElement(s)?"element":e(s);if(!new RegExp(o).test(l))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+l+'" but expected type "'+o+'".')}}};return function(){o=a(),t.fn.emulateTransitionEnd=i,r.supportsTransitionEnd()&&(t.event.special[r.TRANSITION_END]=n())}(),r}(),r=i,l=o,d=function(){var e="alert",n=t.fn[e],a={DISMISS:'[data-dismiss="alert"]'},i={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},o={ALERT:"alert",FADE:"fade",SHOW:"show"},l=function(){function e(e){this._element=e}var n=e.prototype;return n.close=function(e){e=e||this._element;var t=this._getRootElement(e);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(e){var n=s.getSelectorFromElement(e),a=!1;return n&&(a=t(n)[0]),a||(a=t(e).closest("."+o.ALERT)[0]),a},n._triggerCloseEvent=function(e){var n=t.Event(i.CLOSE);return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass(o.SHOW),!s.supportsTransitionEnd()||!t(e).hasClass(o.FADE))return void this._destroyElement(e);t(e).one(s.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150)},n._destroyElement=function(e){t(e).detach().trigger(i.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var a=t(this),i=a.data("bs.alert");i||(i=new e(this),a.data("bs.alert",i)),"close"===n&&i[n](this)})},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),e}();return t(document).on(i.CLICK_DATA_API,a.DISMISS,l._handleDismiss(new l)),t.fn[e]=l._jQueryInterface,t.fn[e].Constructor=l,t.fn[e].noConflict=function(){return t.fn[e]=n,l._jQueryInterface},l}(),c=function(){var e="button",n=t.fn[e],a={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},i={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},o={CLICK_DATA_API:"click.bs.button.data-api",
    FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},s=function(){function e(e){this._element=e}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,o=t(this._element).closest(i.DATA_TOGGLE)[0];if(o){var s=t(this._element).find(i.INPUT)[0];if(s){if("radio"===s.type)if(s.checked&&t(this._element).hasClass(a.ACTIVE))e=!1;else{var r=t(o).find(i.ACTIVE)[0];r&&t(r).removeClass(a.ACTIVE)}if(e){if(s.hasAttribute("disabled")||o.hasAttribute("disabled")||s.classList.contains("disabled")||o.classList.contains("disabled"))return;s.checked=!t(this._element).hasClass(a.ACTIVE),t(s).trigger("change")}s.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass(a.ACTIVE)),e&&t(this._element).toggleClass(a.ACTIVE)},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var a=t(this).data("bs.button");a||(a=new e(this),t(this).data("bs.button",a)),"toggle"===n&&a[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),e}();return t(document).on(o.CLICK_DATA_API,i.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(a.BUTTON)||(n=t(n).closest(i.BUTTON)),s._jQueryInterface.call(t(n),"toggle")}).on(o.FOCUS_BLUR_DATA_API,i.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(i.BUTTON)[0];t(n).toggleClass(a.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=s._jQueryInterface,t.fn[e].Constructor=s,t.fn[e].noConflict=function(){return t.fn[e]=n,s._jQueryInterface},s}(),u=function(){var e="carousel",n="bs.carousel",a="."+n,i=t.fn[e],o={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},d={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},c={SLIDE:"slide"+a,SLID:"slid"+a,KEYDOWN:"keydown"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a,TOUCHEND:"touchend"+a,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},u={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},p={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},f=function(){function i(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(p.INDICATORS)[0],this._addEventListeners()}var f=i.prototype;return f.next=function(){this._isSliding||this._slide(d.NEXT)},f.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},f.prev=function(){this._isSliding||this._slide(d.PREV)},f.pause=function(e){e||(this._isPaused=!0),t(this._element).find(p.NEXT_PREV)[0]&&s.supportsTransitionEnd()&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},f.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},f.to=function(e){var n=this;this._activeElement=t(this._element).find(p.ACTIVE_ITEM)[0];var a=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(c.SLID,function(){return n.to(e)});if(a===e)return this.pause(),void this.cycle();var i=e>a?d.NEXT:d.PREV;this._slide(i,this._items[e])}},f.dispose=function(){t(this._element).off(a),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},f._getConfig=function(n){return n=t.extend({},o,n),s.typeCheckConfig(e,n,l),n},f._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(c.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(c.MOUSEENTER,function(t){return e.pause(t)}).on(c.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(c.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},f._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next();break;default:return}},f._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(p.ITEM)),this._items.indexOf(e)},f._getItemByDirection=function(e,t){var n=e===d.NEXT,a=e===d.PREV,i=this._getItemIndex(t),o=this._items.length-1;if((a&&0===i||n&&i===o)&&!this._config.wrap)return t;var s=e===d.PREV?-1:1,r=(i+s)%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},f._triggerSlideEvent=function(e,n){var a=this._getItemIndex(e),i=this._getItemIndex(t(this._element).find(p.ACTIVE_ITEM)[0]),o=t.Event(c.SLIDE,{relatedTarget:e,direction:n,from:i,to:a});return t(this._element).trigger(o),o},f._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(p.ACTIVE).removeClass(u.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(u.ACTIVE)}},f._slide=function(e,n){var a,i,o,r=this,l=t(this._element).find(p.ACTIVE_ITEM)[0],f=this._getItemIndex(l),h=n||l&&this._getItemByDirection(e,l),m=this._getItemIndex(h),g=Boolean(this._interval);if(e===d.NEXT?(a=u.LEFT,i=u.NEXT,o=d.LEFT):(a=u.RIGHT,i=u.PREV,o=d.RIGHT),h&&t(h).hasClass(u.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(h,o).isDefaultPrevented()&&l&&h){this._isSliding=!0,g&&this.pause(),this._setActiveIndicatorElement(h);var v=t.Event(c.SLID,{relatedTarget:h,direction:o,from:f,to:m});s.supportsTransitionEnd()&&t(this._element).hasClass(u.SLIDE)?(t(h).addClass(i),s.reflow(h),t(l).addClass(a),t(h).addClass(a),t(l).one(s.TRANSITION_END,function(){t(h).removeClass(a+" "+i).addClass(u.ACTIVE),t(l).removeClass(u.ACTIVE+" "+i+" "+a),r._isSliding=!1,setTimeout(function(){return t(r._element).trigger(v)},0)}).emulateTransitionEnd(600)):(t(l).removeClass(u.ACTIVE),t(h).addClass(u.ACTIVE),this._isSliding=!1,t(this._element).trigger(v)),g&&this.cycle()}},i._jQueryInterface=function(e){return this.each(function(){var a=t(this).data(n),s=t.extend({},o,t(this).data());"object"==typeof e&&t.extend(s,e);var r="string"==typeof e?e:s.slide;if(a||(a=new i(this,s),t(this).data(n,a)),"number"==typeof e)a.to(e);else if("string"==typeof r){if(void 0===a[r])throw new Error('No method named "'+r+'"');a[r]()}else s.interval&&(a.pause(),a.cycle())})},i._dataApiClickHandler=function(e){var a=s.getSelectorFromElement(this);if(a){var o=t(a)[0];if(o&&t(o).hasClass(u.CAROUSEL)){var r=t.extend({},t(o).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(r.interval=!1),i._jQueryInterface.call(t(o),r),l&&t(o).data(n).to(l),e.preventDefault()}}},r(i,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return o}}]),i}();return t(document).on(c.CLICK_DATA_API,p.DATA_SLIDE,f._dataApiClickHandler),t(window).on(c.LOAD_DATA_API,function(){t(p.DATA_RIDE).each(function(){var e=t(this);f._jQueryInterface.call(e,e.data())})}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=i,f._jQueryInterface},f}(),p=function(){var e="collapse",n="bs.collapse",a=t.fn[e],i={toggle:!0,parent:""},o={toggle:"boolean",parent:"(string|element)"},l={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},d={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},c={WIDTH:"width",HEIGHT:"height"},u={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},p=function(){function a(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var a=t(u.DATA_TOGGLE),i=0;i<a.length;i++){var o=a[i],r=s.getSelectorFromElement(o);null!==r&&t(r).filter(e).length>0&&this._triggerArray.push(o)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var p=a.prototype;return p.toggle=function(){t(this._element).hasClass(d.SHOW)?this.hide():this.show()},p.show=function(){var e=this;if(!this._isTransitioning&&!t(this._element).hasClass(d.SHOW)){var i,o;if(this._parent&&(i=t.makeArray(t(this._parent).children().children(u.ACTIVES)),i.length||(i=null)),!(i&&(o=t(i).data(n))&&o._isTransitioning)){var r=t.Event(l.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){i&&(a._jQueryInterface.call(t(i),"hide"),o||t(i).data(n,null));var c=this._getDimension();t(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[c]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var p=function(){t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.SHOW),e._element.style[c]="",e.setTransitioning(!1),t(e._element).trigger(l.SHOWN)};if(!s.supportsTransitionEnd())return void p();var f=c[0].toUpperCase()+c.slice(1),h="scroll"+f;t(this._element).one(s.TRANSITION_END,p).emulateTransitionEnd(600),this._element.style[c]=this._element[h]+"px"}}}},p.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(d.SHOW)){var n=t.Event(l.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var a=this._getDimension();if(this._element.style[a]=this._element.getBoundingClientRect()[a]+"px",s.reflow(this._element),t(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.SHOW),this._triggerArray.length)for(var i=0;i<this._triggerArray.length;i++){var o=this._triggerArray[i],r=s.getSelectorFromElement(o);if(null!==r){var c=t(r);c.hasClass(d.SHOW)||t(o).addClass(d.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var u=function(){e.setTransitioning(!1),t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(l.HIDDEN)};if(this._element.style[a]="",!s.supportsTransitionEnd())return void u();t(this._element).one(s.TRANSITION_END,u).emulateTransitionEnd(600)}}},p.setTransitioning=function(e){this._isTransitioning=e},p.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},p._getConfig=function(n){return n=t.extend({},i,n),n.toggle=Boolean(n.toggle),s.typeCheckConfig(e,n,o),n},p._getDimension=function(){return t(this._element).hasClass(c.WIDTH)?c.WIDTH:c.HEIGHT},p._getParent=function(){var e=this,n=null;s.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},p._addAriaAndCollapsedClass=function(e,n){if(e){var a=t(e).hasClass(d.SHOW);n.length&&t(n).toggleClass(d.COLLAPSED,!a).attr("aria-expanded",a)}},a._getTargetFromElement=function(e){var n=s.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var o=t(this),s=o.data(n),r=t.extend({},i,o.data(),"object"==typeof e&&e);if(!s&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),s||(s=new a(this,r),o.data(n,s)),"string"==typeof e){if(void 0===s[e])throw new Error('No method named "'+e+'"');s[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return i}}]),a}();return t(document).on(l.CLICK_DATA_API,u.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var a=t(this),i=s.getSelectorFromElement(this);t(i).each(function(){var e=t(this),i=e.data(n),o=i?"toggle":a.data();p._jQueryInterface.call(e,o)})}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=a,p._jQueryInterface},p}(),f=function(){if(void 0===n)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var e="dropdown",a="bs.dropdown",i="."+a,o=t.fn[e],l=new RegExp("38|40|27"),d={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,CLICK:"click"+i,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},c={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left"},u={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},p={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},f={offset:0,flip:!0},h={offset:"(number|string|function)",flip:"boolean"},m=function(){function o(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var m=o.prototype;return m.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(c.DISABLED)){var e=o._getParentFromElement(this._element),a=t(this._menu).hasClass(c.SHOW);if(o._clearMenus(),!a){var i={relatedTarget:this._element},s=t.Event(d.SHOW,i);if(t(e).trigger(s),!s.isDefaultPrevented()){var r=this._element;t(e).hasClass(c.DROPUP)&&(t(this._menu).hasClass(c.MENULEFT)||t(this._menu).hasClass(c.MENURIGHT))&&(r=e),this._popper=new n(r,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!t(e).closest(u.NAVBAR_NAV).length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(c.SHOW),t(e).toggleClass(c.SHOW).trigger(t.Event(d.SHOWN,i))}}}},m.dispose=function(){t.removeData(this._element,a),t(this._element).off(i),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},m.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},m._addEventListeners=function(){var e=this;t(this._element).on(d.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},m._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this._element).data(),n),s.typeCheckConfig(e,n,this.constructor.DefaultType),n},m._getMenuElement=function(){if(!this._menu){var e=o._getParentFromElement(this._element);this._menu=t(e).find(u.MENU)[0]}return this._menu},m._getPlacement=function(){var e=t(this._element).parent(),n=p.BOTTOM;return e.hasClass(c.DROPUP)?(n=p.TOP,t(this._menu).hasClass(c.MENURIGHT)&&(n=p.TOPEND)):t(this._menu).hasClass(c.MENURIGHT)&&(n=p.BOTTOMEND),n},m._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},m._getPopperConfig=function(){var e=this,n={};"function"==typeof this._config.offset?n.fn=function(n){return n.offsets=t.extend({},n.offsets,e._config.offset(n.offsets)||{}),n}:n.offset=this._config.offset;var a={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip}}};return this._inNavbar&&(a.modifiers.applyStyle={enabled:!this._inNavbar}),a},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(a),i="object"==typeof e?e:null;if(n||(n=new o(this,i),t(this).data(a,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},o._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=t.makeArray(t(u.DATA_TOGGLE)),i=0;i<n.length;i++){var s=o._getParentFromElement(n[i]),r=t(n[i]).data(a),l={relatedTarget:n[i]};if(r){var p=r._menu;if(t(s).hasClass(c.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(s,e.target))){var f=t.Event(d.HIDE,l);t(s).trigger(f),f.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),n[i].setAttribute("aria-expanded","false"),t(p).removeClass(c.SHOW),t(s).removeClass(c.SHOW).trigger(t.Event(d.HIDDEN,l)))}}}},o._getParentFromElement=function(e){var n,a=s.getSelectorFromElement(e);return a&&(n=t(a)[0]),n||e.parentNode},o._dataApiKeydownHandler=function(e){if(!(!l.test(e.which)||/button/i.test(e.target.tagName)&&32===e.which||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||t(this).hasClass(c.DISABLED)))){var n=o._getParentFromElement(this),a=t(n).hasClass(c.SHOW);if(!a&&(27!==e.which||32!==e.which)||a&&(27===e.which||32===e.which)){if(27===e.which){var i=t(n).find(u.DATA_TOGGLE)[0];t(i).trigger("focus")}return void t(this).trigger("click")}var s=t(n).find(u.VISIBLE_ITEMS).get();if(s.length){var r=s.indexOf(e.target);38===e.which&&r>0&&r--,40===e.which&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}},r(o,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return f}},{key:"DefaultType",get:function(){return h}}]),o}();return t(document).on(d.KEYDOWN_DATA_API,u.DATA_TOGGLE,m._dataApiKeydownHandler).on(d.KEYDOWN_DATA_API,u.MENU,m._dataApiKeydownHandler).on(d.CLICK_DATA_API+" "+d.KEYUP_DATA_API,m._clearMenus).on(d.CLICK_DATA_API,u.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),m._jQueryInterface.call(t(this),"toggle")}).on(d.CLICK_DATA_API,u.FORM_CHILD,function(e){e.stopPropagation()}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=o,m._jQueryInterface},m}(),h=function(){var e="modal",n=".bs.modal",a=t.fn[e],i={backdrop:!0,keyboard:!0,focus:!0,show:!0},o={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},l={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},c={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},u=function(){function a(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(c.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var u=a.prototype;return u.toggle=function(e){return this._isShown?this.hide():this.show(e)},u.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){s.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var a=t.Event(l.SHOW,{relatedTarget:e});t(this._element).trigger(a),this._isShown||a.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(d.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(l.CLICK_DISMISS,c.DATA_DISMISS,function(e){return n.hide(e)}),t(this._dialog).on(l.MOUSEDOWN_DISMISS,function(){t(n._element).one(l.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},u.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var a=t.Event(l.HIDE);if(t(this._element).trigger(a),this._isShown&&!a.isDefaultPrevented()){this._isShown=!1;var i=s.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(l.FOCUSIN),t(this._element).removeClass(d.SHOW),t(this._element).off(l.CLICK_DISMISS),t(this._dialog).off(l.MOUSEDOWN_DISMISS),i?t(this._element).one(s.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(300):this._hideModal()}}},u.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},u.handleUpdate=function(){this._adjustDialog()},u._getConfig=function(n){return n=t.extend({},i,n),s.typeCheckConfig(e,n,o),n},u._showElement=function(e){var n=this,a=s.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,a&&s.reflow(this._element),t(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var i=t.Event(l.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};a?t(this._dialog).one(s.TRANSITION_END,o).emulateTransitionEnd(300):o()},u._enforceFocus=function(){var e=this;t(document).off(l.FOCUSIN).on(l.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},u._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(l.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(l.KEYDOWN_DISMISS)},u._setResizeEvent=function(){var e=this;this._isShown?t(window).on(l.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(l.RESIZE)},u._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(d.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(l.HIDDEN)})},u._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},u._showBackdrop=function(e){var n=this,a=t(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){var i=s.supportsTransitionEnd()&&a;if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,a&&t(this._backdrop).addClass(a),t(this._backdrop).appendTo(document.body),t(this._element).on(l.CLICK_DISMISS,function(e){if(n._ignoreBackdropClick)return void(n._ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&s.reflow(this._backdrop),t(this._backdrop).addClass(d.SHOW),!e)return;if(!i)return void e();t(this._backdrop).one(s.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(d.SHOW);var o=function(){n._removeBackdrop(),e&&e()};s.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)?t(this._backdrop).one(s.TRANSITION_END,o).emulateTransitionEnd(150):o()}else e&&e()},u._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},u._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},u._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},u._setScrollbar=function(){this._isBodyOverflowing},u._resetScrollbar=function(){},u._getScrollbarWidth=function(){var e=document.createElement("div");e.className=d.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},a._jQueryInterface=function(e,n){return this.each(function(){var i=t(this).data("bs.modal"),o=t.extend({},a.Default,t(this).data(),"object"==typeof e&&e);if(i||(i=new a(this,o),t(this).data("bs.modal",i)),"string"==typeof e){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e](n)}else o.show&&i.show(n)})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return i}}]),a}();return t(document).on(l.CLICK_DATA_API,c.DATA_TOGGLE,function(e){var n,a=this,i=s.getSelectorFromElement(this);i&&(n=t(i)[0]);var o=t(n).data("bs.modal")?"toggle":t.extend({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=t(n).one(l.SHOW,function(e){e.isDefaultPrevented()||r.one(l.HIDDEN,function(){t(a).is(":visible")&&a.focus()})});u._jQueryInterface.call(t(n),o,this)}),t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=a,u._jQueryInterface},u}(),m=function(){if(void 0===n)throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");var e="tooltip",a=".bs.tooltip",i=t.fn[e],o=new RegExp("(^|\\s)bs-tooltip\\S+","g"),l={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)"},d={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip"},u={SHOW:"show",OUT:"out"},p={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},f={FADE:"fade",SHOW:"show"},h={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},m={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},g=function(){function i(e,t){this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var g=i.prototype;return g.enable=function(){this._isEnabled=!0},g.disable=function(){this._isEnabled=!1},g.toggleEnabled=function(){this._isEnabled=!this._isEnabled},g.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,a=t(e.currentTarget).data(n);a||(a=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,a)),a._activeTrigger.click=!a._activeTrigger.click,a._isWithActiveTrigger()?a._enter(null,a):a._leave(null,a)}else{if(t(this.getTipElement()).hasClass(f.SHOW))return void this._leave(null,this);this._enter(null,this)}},g.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},g.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var a=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(a);var o=t.contains(this.element.ownerDocument.documentElement,this.element);if(a.isDefaultPrevented()||!o)return;var r=this.getTipElement(),l=s.getUID(this.constructor.NAME);r.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&t(r).addClass(f.FADE);var d="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(d);this.addAttachmentClass(c);var p=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(r).appendTo(p),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,r,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:h.ARROW}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(r).addClass(f.SHOW),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var m=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===u.OUT&&e._leave(null,e)};s.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE)?t(this.tip).one(s.TRANSITION_END,m).emulateTransitionEnd(i._TRANSITION_DURATION):m()}},g.hide=function(e){var n=this,a=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==u.SHOW&&a.parentNode&&a.parentNode.removeChild(a),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(i),i.isDefaultPrevented()||(t(a).removeClass(f.SHOW),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger[m.CLICK]=!1,this._activeTrigger[m.FOCUS]=!1,this._activeTrigger[m.HOVER]=!1,s.supportsTransitionEnd()&&t(this.tip).hasClass(f.FADE)?t(a).one(s.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},g.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},g.isWithContent=function(){return Boolean(this.getTitle())},g.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},g.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},g.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(h.TOOLTIP_INNER),this.getTitle()),e.removeClass(f.FADE+" "+f.SHOW)},g.setElementContent=function(e,n){var a=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?a?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[a?"html":"text"](n)},g.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},g._getAttachment=function(e){return d[e.toUpperCase()]},g._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==m.MANUAL){var a=n===m.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=n===m.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(a,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{
    trigger:"manual",selector:""}):this._fixTitle()},g._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},g._enter=function(e,n){var a=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(a),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(a,n)),e&&(n._activeTrigger["focusin"===e.type?m.FOCUS:m.HOVER]=!0),t(n.getTipElement()).hasClass(f.SHOW)||n._hoverState===u.SHOW?void(n._hoverState=u.SHOW):(clearTimeout(n._timeout),n._hoverState=u.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===u.SHOW&&n.show()},n.config.delay.show)):void n.show())},g._leave=function(e,n){var a=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(a),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(a,n)),e&&(n._activeTrigger["focusout"===e.type?m.FOCUS:m.HOVER]=!1),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=u.OUT,!n.config.delay||!n.config.delay.hide)return void n.hide();n._timeout=setTimeout(function(){n._hoverState===u.OUT&&n.hide()},n.config.delay.hide)}},g._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},g._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this.element).data(),n),"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),s.typeCheckConfig(e,n,this.constructor.DefaultType),n},g._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},g._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(o);null!==n&&n.length>0&&e.removeClass(n.join(""))},g._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},g._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(f.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},i._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),a="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new i(this,a),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(i,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return l}}]),i}();return t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=i,g._jQueryInterface},g}(),g=function(){var e="popover",n=".bs.popover",a=t.fn[e],i=new RegExp("(^|\\s)bs-popover\\S+","g"),o=t.extend({},m.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover shadow" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),s=t.extend({},m.DefaultType,{content:"(string|element|function)"}),d={FADE:"fade",SHOW:"show"},c={TITLE:".popover-header",CONTENT:".popover-body"},u={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},p=function(a){function p(){return a.apply(this,arguments)||this}l(p,a);var f=p.prototype;return f.isWithContent=function(){return this.getTitle()||this._getContent()},f.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},f.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},f.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(c.TITLE),this.getTitle()),this.setElementContent(e.find(c.CONTENT),this._getContent()),e.removeClass(d.FADE+" "+d.SHOW)},f._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},f._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(i);null!==n&&n.length>0&&e.removeClass(n.join(""))},p._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.popover"),a="object"==typeof e?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new p(this,a),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(p,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return o}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return u}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return s}}]),p}(m);return t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=a,p._jQueryInterface},p}(),v=function(){var e="scrollspy",n=t.fn[e],a={offset:10,method:"auto",target:""},i={offset:"number",method:"string",target:"(string|element)"},o={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},l={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},d={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},c={OFFSET:"offset",POSITION:"position"},u=function(){function n(e,n){var a=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+d.NAV_LINKS+","+this._config.target+" "+d.LIST_ITEMS+","+this._config.target+" "+d.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(o.SCROLL,function(e){return a._process(e)}),this.refresh(),this._process()}var u=n.prototype;return u.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?c.POSITION:c.OFFSET,a="auto"===this._config.method?n:this._config.method,i=a===c.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n,o=s.getSelectorFromElement(e);if(o&&(n=t(o)[0]),n){var r=n.getBoundingClientRect();if(r.width||r.height)return[t(n)[a]().top+i,o]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},u.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},u._getConfig=function(n){if(n=t.extend({},a,n),"string"!=typeof n.target){var o=t(n.target).attr("id");o||(o=s.getUID(e),t(n.target).attr("id",o)),n.target="#"+o}return s.typeCheckConfig(e,n,i),n},u._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},u._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},u._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},u._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var a=this._targets[this._targets.length-1];return void(this._activeTarget!==a&&this._activate(a))}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},u._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var a=t(n.join(","));a.hasClass(l.DROPDOWN_ITEM)?(a.closest(d.DROPDOWN).find(d.DROPDOWN_TOGGLE).addClass(l.ACTIVE),a.addClass(l.ACTIVE)):(a.addClass(l.ACTIVE),a.parents(d.NAV_LIST_GROUP).prev(d.NAV_LINKS+", "+d.LIST_ITEMS).addClass(l.ACTIVE),a.parents(d.NAV_LIST_GROUP).prev(d.NAV_ITEMS).children(d.NAV_LINKS).addClass(l.ACTIVE)),t(this._scrollElement).trigger(o.ACTIVATE,{relatedTarget:e})},u._clear=function(){t(this._selector).filter(d.ACTIVE).removeClass(l.ACTIVE)},n._jQueryInterface=function(e){return this.each(function(){var a=t(this).data("bs.scrollspy"),i="object"==typeof e&&e;if(a||(a=new n(this,i),t(this).data("bs.scrollspy",a)),"string"==typeof e){if(void 0===a[e])throw new Error('No method named "'+e+'"');a[e]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return a}}]),n}();return t(window).on(o.LOAD_DATA_API,function(){for(var e=t.makeArray(t(d.DATA_SPY)),n=e.length;n--;){var a=t(e[n]);u._jQueryInterface.call(a,a.data())}}),t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=n,u._jQueryInterface},u}(),_=function(){var e=t.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},a={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},i={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},o=function(){function e(e){this._element=e}var o=e.prototype;return o.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(a.ACTIVE)||t(this._element).hasClass(a.DISABLED))){var o,r,l=t(this._element).closest(i.NAV_LIST_GROUP)[0],d=s.getSelectorFromElement(this._element);if(l){var c="UL"===l.nodeName?i.ACTIVE_UL:i.ACTIVE;r=t.makeArray(t(l).find(c)),r=r[r.length-1]}var u=t.Event(n.HIDE,{relatedTarget:this._element}),p=t.Event(n.SHOW,{relatedTarget:r});if(r&&t(r).trigger(u),t(this._element).trigger(p),!p.isDefaultPrevented()&&!u.isDefaultPrevented()){d&&(o=t(d)[0]),this._activate(this._element,l);var f=function(){var a=t.Event(n.HIDDEN,{relatedTarget:e._element}),i=t.Event(n.SHOWN,{relatedTarget:r});t(r).trigger(a),t(e._element).trigger(i)};o?this._activate(o,o.parentNode,f):f()}}},o.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},o._activate=function(e,n,o){var r,l=this;r="UL"===n.nodeName?t(n).find(i.ACTIVE_UL):t(n).children(i.ACTIVE);var d=r[0],c=o&&s.supportsTransitionEnd()&&d&&t(d).hasClass(a.FADE),u=function(){return l._transitionComplete(e,d,c,o)};d&&c?t(d).one(s.TRANSITION_END,u).emulateTransitionEnd(150):u(),d&&t(d).removeClass(a.SHOW)},o._transitionComplete=function(e,n,o,r){if(n){t(n).removeClass(a.ACTIVE);var l=t(n.parentNode).find(i.DROPDOWN_ACTIVE_CHILD)[0];l&&t(l).removeClass(a.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(a.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),o?(s.reflow(e),t(e).addClass(a.SHOW)):t(e).removeClass(a.FADE),e.parentNode&&t(e.parentNode).hasClass(a.DROPDOWN_MENU)){var d=t(e).closest(i.DROPDOWN)[0];d&&t(d).find(i.DROPDOWN_TOGGLE).addClass(a.ACTIVE),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var a=t(this),i=a.data("bs.tab");if(i||(i=new e(this),a.data("bs.tab",i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}}]),e}();return t(document).on(n.CLICK_DATA_API,i.DATA_TOGGLE,function(e){e.preventDefault(),o._jQueryInterface.call(t(this),"show")}),t.fn.tab=o._jQueryInterface,t.fn.tab.Constructor=o,t.fn.tab.noConflict=function(){return t.fn.tab=e,o._jQueryInterface},o}();(function(){if(void 0===t)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")})(),e.Util=s,e.Alert=d,e.Button=c,e.Carousel=u,e.Collapse=p,e.Dropdown=f,e.Modal=h,e.Popover=g,e.Scrollspy=v,e.Tab=_,e.Tooltip=m}({},$,Popper)}(),function(e){"use strict";var t=function(n,a){this.$element=e(n),this.options=e.extend({},t.defaults,a),this.position_type=this.options.position_type,this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=e(this.options.menu),this.$appendTo=this.options.appendTo?e(this.options.appendTo):BODY,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.value=this.$element.val()||this.$element.text()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");if(this.$element.data("active",e),this.autoSelect||e){var t=this.updater(e);t||(t=""),this.$element.val(this.displayText(t)||t).text(this.displayText(t)||t).change(),this.afterSelect(t)}return this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t,n=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),a="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;if(this.shown?t=this.$menu:this.$appendTo?(t=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(t=this.$menu.insertAfter(this.$element),this.hasSameParent=!0),!this.hasSameParent){t.css("position",this.position_type);var i=this.$element.offset();n.top=i.top,n.left=i.left}var o=e(t).parent().hasClass("dropup"),s=o?"auto":n.top+n.height+a,r=e(t).hasClass("dropdown-menu-right"),l=r?"auto":n.left;return t.css({top:s,left:l}).show(),!0===this.options.fitToElement&&t.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query=void 0!==t&&null!==t?t:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var n=e.proxy(function(){e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(n,this.delay)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length||this.options.addItem?(t.length>0?this.$element.data("active",t[0]):this.$element.data("active",null),"all"!=this.options.items&&(t=t.slice(0,this.options.items)),this.options.addItem&&t.push(this.options.addItem),this.render(t).show()):this.shown?this.hide():this},matcher:function(e){return~this.displayText(e).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],a=[],i=[];t=e.shift();){var o=this.displayText(t);o.toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?a.push(t):i.push(t):n.push(t)}return n.concat(a,i)},highlighter:function(t){var n,a,i,o,s=e("<div></div>"),r=this.query,l=t.toLowerCase().indexOf(r.toLowerCase()),d=r.length;if(0===d)return s.text(t).html();for(;l>-1;)n=t.substr(0,l),a=t.substr(l,d),i=t.substr(l+d),o=e("<b></b>").text(a),s.append(document.createTextNode(n)).append(o),t=i,l=t.toLowerCase().indexOf(r.toLowerCase());return s.append(document.createTextNode(t)).html()},render:function(t){var n=this,a=this,i=!1,o=[],s=n.options.separator;return e.each(t,function(e,n){e>0&&n[s]!==t[e-1][s]&&o.push({__type:"divider"}),!n[s]||0!==e&&n[s]===t[e-1][s]||o.push({__type:"category",name:n[s]}),o.push(n)}),t=e(o).map(function(t,o){if("category"==(o.__type||!1))return e(n.options.headerHtml).text(o.name)[0];if("divider"==(o.__type||!1))return e(n.options.headerDivider)[0];var s=a.displayText(o);return t=e(n.options.item).data("value",o),t.find("a").html(n.highlighter(s,o)),s==a.$element.val()&&(t.addClass("active"),a.$element.data("active",o),i=!0),t[0]}),this.autoSelect&&!i&&(t.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",t.first().data("value"))),this.$menu.html(t),this},displayText:function(e){return void 0!==e&&void 0!==e.name?e.name:e},next:function(t){var n=this.$menu.find(".active").removeClass("active"),a=n.next();a.length||(a=e(this.$menu.find("li")[0])),a.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("propertychange input",e.proxy(this.input,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this)).on("mousedown",e.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("propertychange input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown)switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.shiftKey)return;e.preventDefault(),this.prev();break;case 40:if(e.shiftKey)return;e.preventDefault(),this.next()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},input:function(e){var t=this.$element.val()||this.$element.text();this.value!==t&&(this.value=t,this.lookup())},keyup:function(e){if(!this.destroyed)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 8:!this.$element.val()&&this.hide();break;case 9:case 13:if(!this.shown)return;this.$element.focus(),this.select();break;case 27:if(!this.shown)return;this.hide()}},focus:function(e){this.focused||(this.focused=!0,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(e){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1)},click:function(e){e.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(e){this.mouseddown=!0,this.$menu.one("mouseup",function(e){this.mouseddown=!1}.bind(this))}};var n=e.fn.typeahead;e.fn.typeahead=function(n){var a=arguments;return"string"==typeof n&&"getActive"==n?this.data("active"):this.each(function(){var i=e(this),o=i.data("typeahead"),s="object"==typeof n&&n;o||i.data("typeahead",o=new t(this,s)),"string"==typeof n&&o[n]&&(a.length>1?o[n].apply(o,Array.prototype.slice.call(a,1)):o[n]())})},t.defaults={source:[],items:10,menu:'<ul class="typeahead dropdown-menu shadow" role="listbox"></ul>',item:'<li class="dropdown-item"><a href="javascript:;" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:e.noop,addItem:!1,delay:0,position_type:"fixed",separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},DOC.on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())})}(jQuery),function(e){"use strict";function t(t,n){this.isInit=!0,this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="qdfuns-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n),this.isInit=!1}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function a(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}function i(e){return e?l.text(e).html():""}function o(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=e.value==n.text?1:n.text.length}else if(e.selectionStart||"0"==e.selectionStart){var a=e.selectionStart,i=e.selectionEnd;t=a!=i?e.value==e.value.substring(a,i)?1:e.value.length:a}return t}function s(t,n){var a=!1;return e.each(n,function(e,n){if("number"==typeof n&&t.which===n)return a=!0,!1;if(t.which===n.which){var i=!n.hasOwnProperty("altKey")||t.altKey===n.altKey,o=!n.hasOwnProperty("shiftKey")||t.shiftKey===n.shiftKey,s=!n.hasOwnProperty("ctrlKey")||t.ctrlKey===n.ctrlKey;if(i&&o&&s)return a=!0,!1}}),a}var r={tagClass:function(e){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(e){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t,n){n.addClass("animated shake"),setTimeout(function(){e.itemsArray.length>0&&e.$input.addClass("hastags").removeAttr("placeholder"),e.$input.focus().val(""),n.removeClass("shake")},1e3)},trimValue:!1,allowDuplicates:!1,triggerChange:!0};t.prototype={constructor:t,add:function(t,n,a){var o=this;if(t=t.trim(),!(o.options.maxTags&&o.itemsArray.length>=o.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&o.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!o.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(o.isSelect&&!o.multiple&&o.itemsArray.length>0&&o.remove(o.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var s=o.options.delimiterRegex?o.options.delimiterRegex:o.options.delimiter,r=t.split(s);if(r.length>1){for(var l=0;l<r.length;l++)this.add(r[l],!0);return void(n||o.pushVal(o.options.triggerChange))}}var d,c=t;/^\<(svg|img).*?\<span\>(.*?)\<\/span\>$/.test(c)?(d=c.match(/^\<(svg|img).*?\<span\>(.*?)\<\/span\>$/))&&3==d.length&&(t=d[2].toLowerCase()):c='<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#tag"></use></svg><span>'+t.toLowerCase()+"</span>";var u=o.options.itemValue(t),p=o.options.itemText(t),f=o.options.tagClass(t),h=o.options.itemTitle(t),m=e.grep(o.itemsArray,function(e){return o.options.itemValue(e).toLowerCase()===u.toLowerCase()})[0];if(!m||o.options.allowDuplicates){if(!(o.items().toString().length+t.length+1>o.options.maxInputLength)){var g=e.Event("beforeItemAdd",{item:t,cancel:!1,options:a,self:o.$input});if(o.$element.trigger(g),!g.cancel){o.itemsArray.push(t);var v=e('<span class="tag '+i(f)+(null!==h?'" title="'+h:"")+'">'+c+'<svg viewBox="0 0 1024 1024" data-role="remove"><use xlink:href="/res/svg/common.svg#tagRemove"></use></svg></span>');v.data("item",t),o.findInputWrapper().before(v),v.after(" ");var _=e('option[value="'+encodeURIComponent(u)+'"]',o.$element).length||e('option[value="'+i(u)+'"]',o.$element).length;if(o.isSelect&&!_){var b=e("<option selected>"+i(p)+"</option>");b.data("item",t),b.attr("value",u),o.$element.append(b)}n||o.pushVal(o.options.triggerChange),o.options.maxTags!==o.itemsArray.length&&o.items().toString().length!==o.options.maxInputLength||o.$container.addClass("bootstrap-tagsinput-max"),this.isInit?o.$element.trigger(e.Event("itemAddedOnInit",{item:t,options:a,self:o.$input})):o.$element.trigger(e.Event("itemAdded",{item:t,options:a,self:o.$input})),setTimeout(function(){o.itemsArray.length>0&&o.$input.addClass("hastags").removeAttr("placeholder"),o.$input.val("")},32)}}}else if(o.options.onTagExists){var y=e(".tag",o.$container).filter(function(){return e(this).data("item")===m});o.options.onTagExists(o,t,y)}}}},remove:function(t,n,a){var i=this;if(i.objectItems&&(t="object"==typeof t?e.grep(i.itemsArray,function(e){return i.options.itemValue(e)==i.options.itemValue(t)}):e.grep(i.itemsArray,function(e){return i.options.itemValue(e)==t}),t=t[t.length-1]),t){var o=e.Event("beforeItemRemove",{item:t,cancel:!1,options:a,self:i.$input});if(i.$element.trigger(o),o.cancel)return;e(".tag",i.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",i.$element).filter(function(){return e(this).data("item")===t}).remove(),-1!==e.inArray(t,i.itemsArray)&&i.itemsArray.splice(e.inArray(t,i.itemsArray),1)}n||i.pushVal(i.options.triggerChange),i.options.maxTags>i.itemsArray.length&&i.$container.removeClass("bootstrap-tagsinput-max"),i.$element.trigger(e.Event("itemRemoved",{item:t,options:a,self:i.$input})),setTimeout(function(){i.itemsArray.length<=0&&i.$input.removeClass("hastags").attr("placeholder",i.$element.attr("placeholder")),i.$input.focus().val("")},32)},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange),setTimeout(function(){t.itemsArray.length<=0&&t.$input.removeClass("hastags").attr("placeholder",t.$element.attr("placeholder")),t.$input.focus().val("")},32)},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var n=e(this),a=n.data("item"),o=t.options.itemValue(a),s=t.options.itemText(a),r=t.options.tagClass(a);if(n.attr("class",null),n.addClass("tag "+i(r)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=i(s),t.isSelect){e("option",t.$element).filter(function(){return e(this).data("item")===a}).attr("value",o)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(n,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var i=this;i.options=e.extend({},r,t),i.objectItems&&(i.options.freeInput=!1),n(i.options,"itemValue"),n(i.options,"itemText"),a(i.options,"tagClass"),i.$container.on("click",e.proxy(function(e){i.$element.attr("disabled")||i.$input.removeAttr("disabled"),i.$input.focus()},i)),i.$container.on({focusin:function(){i.$container.addClass(i.options.focusClass)},focusout:function(){i.$container.removeClass(i.options.focusClass)}}),i.$container.on("keydown","input",e.proxy(function(t){var n=e(t.target),a=i.findInputWrapper();if(i.$element.attr("disabled"))return void i.$input.attr("disabled","disabled");switch(t.which){case 8:if(0===o(n[0])){var s=a.prev();s.length&&i.remove(s.data("item"))}break;case 46:if(0===o(n[0])){var r=a.next();r.length&&i.remove(r.data("item"))}break;case 37:var l=a.prev();0===n.val().length&&l[0]&&(l.before(a),n.focus());break;case 39:var d=a.next();0===n.val().length&&d[0]&&(d.after(a),n.focus())}var c=n.val().length;Math.ceil(c/5);n.attr("size",Math.max(this.inputSize,n.val().length))},i)),i.$container.on("keypress","input",e.proxy(function(t){var n=e(t.target);if(i.$element.attr("disabled"))return void i.$input.attr("disabled","disabled");var a=n.val(),o=i.options.maxChars&&e.utils.getStrLength(a,2,1)>=i.options.maxChars;i.options.freeInput&&(s(t,i.options.confirmKeys)||o)&&(0!==a.length&&(i.add(o?a.substr_ch2en1(0,i.options.maxChars):a),n.val("")),!1===i.options.cancelConfirmKeysOnEmpty&&t.preventDefault())},i)),i.$container.on("click","[data-role=remove]",e.proxy(function(t){i.$element.attr("disabled")||i.remove(e(t.target).closest(".tag").data("item"))},i)),i.options.itemValue===r.itemValue&&("INPUT"===i.$element[0].tagName?i.add(i.$element.val()):e("option",i.$element).each(function(){i.add(e(this).attr("value"),!0)}))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(n,a,i){var o=[];return this.each(function(){var s=e(this).data("tagsinput");if(s)if(n||a){if(void 0!==s[n]){if(3===s[n].length&&void 0!==i)var r=s[n](a,null,i);else var r=s[n](a);void 0!==r&&o.push(r)}}else o.push(s);else s=new t(this,n),e(this).data("tagsinput",s),o.push(s),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof n?o.length>1?o:o[0]:o},e.fn.tagsinput.Constructor=t;var l=e("<div />")}(window.jQuery),function(e,t){"nouse strict";function n(n){return this.each(function(){var i=t(this),o=i.data("radiocheck"),s="object"==typeof n&&n;if(o||"destroy"!=n){o||i.data("radiocheck",o=new a(this,s)),"string"==typeof n&&o[n]();!0===/mobile|tablet|phone|ip(ad|od)|android|silk|webos/i.test(e.navigator.userAgent)&&i.parent().hover(function(){i.addClass("nohover")},function(){i.removeClass("nohover")})}})}var a=function(e,t){this.init("radiocheck",e,t)};a.DEFAULTS={checkboxClass:"custom-checkbox",radioClass:"custom-radio",checkboxTemplate:'<span class="icons"><svg class="icon-qdfuns-checkbox-unchecked" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#checkbox"></use></svg><svg class="icon-qdfuns-checkbox-checked" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#checkbox_checked"></use></svg></span>',
    radioTemplate:'<span class="icons"><svg class="icon-qdfuns-radio-unchecked" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#radiobox"></use></svg><svg class="icon-qdfuns-radio-checked" viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#radiobox_checked"></use></svg></span>'},a.prototype.init=function(e,n,i){this.$element=t(n),this.options=t.extend({},a.DEFAULTS,this.$element.data(),i),"checkbox"==this.$element.attr("type")?(this.$element.addClass(this.options.checkboxClass),this.$element.after(this.options.checkboxTemplate)):"radio"==this.$element.attr("type")&&(this.$element.addClass(this.options.radioClass),this.$element.after(this.options.radioTemplate))},a.prototype.check=function(){this.$element.prop("checked",!0),this.$element.trigger("change.radiocheck").trigger("checked.radiocheck")},a.prototype.uncheck=function(){this.$element.prop("checked",!1),this.$element.trigger("change.radiocheck").trigger("unchecked.radiocheck")},a.prototype.toggle=function(){this.$element.prop("checked",function(e,t){return!t}),this.$element.trigger("change.radiocheck").trigger("toggled.radiocheck")},a.prototype.indeterminate=function(){this.$element.prop("indeterminate",!0),this.$element.trigger("change.radiocheck").trigger("indeterminated.radiocheck")},a.prototype.determinate=function(){this.$element.prop("indeterminate",!1),this.$element.trigger("change.radiocheck").trigger("determinated.radiocheck")},a.prototype.disable=function(){this.$element.prop("disabled",!0),this.$element.trigger("change.radiocheck").trigger("disabled.radiocheck")},a.prototype.enable=function(){this.$element.prop("disabled",!1),this.$element.trigger("change.radiocheck").trigger("enabled.radiocheck")},a.prototype.destroy=function(){this.$element.removeData().next(".icons").remove(),this.$element.trigger("destroyed.radiocheck")};var i=t.fn.radiocheck;t.fn.radiocheck=n,t.fn.radiocheck.Constructor=a,t.fn.radiocheck.noConflict=function(){return t.fn.radiocheck=i,this}}(this,jQuery),!ISMOBILE&&window.console&&CONSOLE_EGGS&&function(){"use strict";var devtools={open:!1,orientation:null},threshold=160,emitEvent=function(e,t){window.dispatchEvent(new CustomEvent("devtoolschange",{detail:{open:e,orientation:t}}))};setInterval(function(){var e=window.outerWidth-window.innerWidth>threshold,t=window.outerHeight-window.innerHeight>threshold,n=e?"vertical":"horizontal";t&&e||!(window.Firebug&&window.Firebug.chrome&&window.Firebug.chrome.isInitialized||e||t)?(devtools.open&&emitEvent(!1,null),devtools.open=!1,devtools.orientation=null):(devtools.open&&devtools.orientation===n||emitEvent(!0,n),devtools.open=!0,devtools.orientation=n)},500),"undefined"!=typeof module&&module.exports?module.exports=devtools:window.devtools=devtools;var show_console_egg=function(){var data=localStorage.getItem("console_eggs");try{data=JSON.parse(data),data.xiaohua=data.xiaohua.replace(/\\"/g,'"'),data.tupian=data.tupian.replace(/\\"/g,'"'),data.xiaohua=eval("("+data.xiaohua+")"),data.tupian=eval("("+data.tupian+")");var item=null,font='font-family:"Helvetica Neue", Helvetica, Microsoft Yahei, Hiragino Sans GB, WenQuanYi Micro Hei, Microsoft YaHei, sans-serif;',space="";console.clear(),console.log('%c每个敬业的前端攻城狮，看到网站都有打开 "CONSOLE面板" 的冲动！',"display:block; padding:10px; height:40px; line-height:40px; font-size:16px; border-left:5px #ececec solid; "+font),console.log("%c“不会休息的人，就不会工作”                                                                —— 列宁","display:block; padding:10px; height:30px; line-height:30px; font-size:14px; font-style:italic; color:#777; border-left:5px #ececec solid; "+font),setTimeout(function(){item=data.xiaohua[$.utils.random(0,data.xiaohua.length-1)],console.log("%c《"+item.title+"》","display:block; padding:10px; height:30px; line-height:30px; font-size:16px;"+font),setTimeout(function(){console.log("%c"+item.content.replace(/\s{2}/g,"").replace(/(\<br\/>){1,4}/g,"\n  ").replace(/(\<br\/>)/g,"").replace(/\&quot\;/g,""),"display:block; padding:10px; height:20px; line-height:20px; font-size:14px;"+font),console.log("%c   以上内容来自：来福岛("+item.url+")","color:#aaa;"+font)},1e3)},2e3)}catch(e){localStorage.removeItem("console_eggs")}};$(window).on("devtoolschange",function(e){console.clear();var t=!0,n=new Date,a=localStorage.getItem("console_eggs");a&&(a=JSON.parse(a),t=a.time!=n.getFullYear()+"-"+$.utils.zeroFill(n.getMonth()+1)+"-"+$.utils.zeroFill(n.getDate())),t?$.getJSON("/misc.php?mod=console&type=eggs",function(e){localStorage.setItem("console_eggs",JSON.stringify(e)),show_console_egg()}):show_console_egg()})}();

/* COMBO: filename = plugin/mo/core.min.js, type = application/javascript, resp = 200 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.yes=t()}}(function(){var t;return function t(e,r,i){function s(o,p){if(!r[o]){if(!e[o]){var a="function"==typeof require&&require;if(!p&&a)return a(o,!0);if(n)return n(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){var r=e[o][1][t];return s(r||t)},u,u.exports,t,e,r,i)}return r[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,r){var i,s,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},p={}.hasOwnProperty;t("./shapes/bitsMap"),n=t("./transit"),s=t("./swirl"),t("./h"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.skipProps={childOptions:1},e.prototype.defaults={count:5,degree:360,opacity:1,randomAngle:0,randomRadius:0,x:100,y:100,shiftX:0,shiftY:0,easing:"Linear.None",radius:{25:75},radiusX:void 0,radiusY:void 0,angle:0,size:null,sizeGap:0,duration:600,delay:0,onStart:null,onComplete:null,onCompleteChain:null,onUpdate:null,isResetAngles:!1},e.prototype.childDefaults={radius:{7:0},radiusX:void 0,radiusY:void 0,angle:0,opacity:1,onStart:null,onComplete:null,onUpdate:null,points:3,duration:500,delay:0,repeat:0,yoyo:!1,easing:"Linear.None",type:"circle",fill:"deeppink",fillOpacity:1,isSwirl:!1,swirlSize:10,swirlFrequency:3,stroke:"transparent",strokeWidth:0,strokeOpacity:1,strokeDasharray:"",strokeDashoffset:"",strokeLinecap:null},e.prototype.optionsIntersection={radius:1,radiusX:1,radiusY:1,angle:1,opacity:1,onStart:1,onComplete:1,onUpdate:1},e.prototype.run=function(t){var e,r,i,s,n,o,p,a,h,u,l;if(null!=t&&Object.keys(t).length){for((t.count||(null!=(h=t.childOptions)?h.count:void 0))&&this.h.warn("Sorry, count can not be changed on run"),this.extendDefaults(t),n=Object.keys(t.childOptions||{}),null==(e=this.o).childOptions&&(e.childOptions={}),r=i=0,p=n.length;i<p;r=++i)s=n[r],this.o.childOptions[s]=t.childOptions[s];for(o=this.transits.length;o--;)a=this.getOption(o),null==(null!=(u=t.childOptions)?u.angle:void 0)&&null==t.angleShift?a.angle=this.transits[o].o.angle:t.isResetAngles||(a.angle=this.getBitAngle(a.angle,o)),this.transits[o].tuneNewOption(a,!0);this.timeline.recalcDuration()}if(this.props.randomAngle||this.props.randomRadius)for(o=this.transits.length;o--;)l=this.transits[o],this.props.randomAngle&&l.setProp({angleShift:this.generateRandomAngle()}),this.props.randomRadius&&l.setProp({radiusScale:this.generateRandomRadius()});return this.startTween()},e.prototype.createBit=function(){var t,e,r,i,n;for(this.transits=[],n=[],t=e=0,i=this.props.count;0<=i?e<i:e>i;t=0<=i?++e:--e)r=this.getOption(t),r.ctx=this.ctx,r.index=t,r.isDrawLess=r.isRunLess=r.isTweenLess=!0,this.props.randomAngle&&(r.angleShift=this.generateRandomAngle()),this.props.randomRadius&&(r.radiusScale=this.generateRandomRadius()),n.push(this.transits.push(new s(r)));return n},e.prototype.addBitOptions=function(){var t,e,r,i,s,n,o,p,a,h,u;for(o=this.props.count,this.degreeCnt=this.props.degree%360==0?o:o-1||1,h=this.props.degree/this.degreeCnt,p=this.transits,a=[],e=r=0,i=p.length;r<i;e=++r)u=p[e],t=u.props.angleShift||0,n=this.getSidePoint("start",e*h+t),s=this.getSidePoint("end",e*h+t),u.o.x=this.getDeltaFromPoints("x",n,s),u.o.y=this.getDeltaFromPoints("y",n,s),this.props.isResetAngles||(u.o.angle=this.getBitAngle(u.o.angle,e)),a.push(u.extendDefaults());return a},e.prototype.getBitAngle=function(t,e){var r,i,s,n,o,p,a,h,u,l,c,f;return l=this.props.count,n=this.props.degree%360==0?l:l-1||1,f=this.props.degree/n,r=e*f+90,i=this.transits[e].props.angleShift||0,t="object"!=typeof t?t+r+i:(a=Object.keys(t),c=a[0],p=t[c],s=r+i,u=parseFloat(c)+s,h=parseFloat(p)+s,o={},o[u]=h,o)},e.prototype.getSidePoint=function(t,e){var r;return r=this.getSideRadius(t),this.h.getRadialPoint({radius:r.radius,radiusX:r.radiusX,radiusY:r.radiusY,angle:e,center:{x:this.props.center,y:this.props.center}})},e.prototype.getSideRadius=function(t){return{radius:this.getRadiusByKey("radius",t),radiusX:this.getRadiusByKey("radiusX",t),radiusY:this.getRadiusByKey("radiusY",t)}},e.prototype.getRadiusByKey=function(t,e){return null!=this.deltas[t]?this.deltas[t][e]:null!=this.props[t]?this.props[t]:void 0},e.prototype.getDeltaFromPoints=function(t,e,r){var i;return i={},e[t]===r[t]?i=e[t]:(i[e[t]]=r[t],i)},e.prototype.draw=function(t){return this.drawEl()},e.prototype.isNeedsTransform=function(){return this.isPropChanged("shiftX")||this.isPropChanged("shiftY")||this.isPropChanged("angle")},e.prototype.fillTransform=function(){return"rotate("+this.props.angle+"deg) translate("+this.props.shiftX+", "+this.props.shiftY+")"},e.prototype.createTween=function(){var t,r;for(e.__super__.createTween.apply(this,arguments),t=this.transits.length,r=[];t--;)r.push(this.timeline.add(this.transits[t].tween));return r},e.prototype.calcSize=function(){var t,e,r,i,s,n,o;for(r=-1,n=this.transits,t=e=0,i=n.length;e<i;t=++e)o=n[t],o.calcSize(),r<o.props.size&&(r=o.props.size);return s=this.calcMaxRadius(),this.props.size=r+2*s,this.props.size+=2*this.props.sizeGap,this.props.center=this.props.size/2,this.addBitOptions()},e.prototype.getOption=function(t){var e,r,i,s;for(s={},r=Object.keys(this.childDefaults),i=r.length;i--;)e=r[i],s[e]=this.getPropByMod({key:e,i:t,from:this.o.childOptions}),this.optionsIntersection[e]?null==s[e]&&(s[e]=this.getPropByMod({key:e,i:t,from:this.childDefaults})):(null==s[e]&&(s[e]=this.getPropByMod({key:e,i:t,from:this.o})),null==s[e]&&(s[e]=this.getPropByMod({key:e,i:t,from:this.childDefaults})));return s},e.prototype.getPropByMod=function(t){var e,r;return e=null!=(r=t.from||this.o.childOptions)?r[t.key]:void 0,this.h.isArray(e)?e[t.i%e.length]:e},e.prototype.generateRandomAngle=function(t){var e;return e=parseFloat(this.props.randomAngle),e>1?1:e<0?0:void 0,this.h.rand(0,e?360*e:180)},e.prototype.generateRandomRadius=function(t){var e,r;return e=parseFloat(this.props.randomRadius),e>1?1:e<0?0:void 0,r=e?100*(1-e):50,this.h.rand(r,100)/100},e.prototype.then=function(t){return this.h.error('Burst\'s "then" method is under consideration, you can vote for it in github repo issues'),this},e}(n),e.exports=i},{"./h":6,"./shapes/bitsMap":12,"./swirl":22,"./transit":23}],2:[function(t,e,r){(function(r){var i,s,n,o=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};n=t("../h"),i=function(){function t(t){return this.vars(),this.generate}return t.prototype.vars=function(){return this.generate=n.bind(this.generate,this)},t.prototype.generate=function(t,e,i,s){var n,p,a,h,u,l,c,f,d,y,g,m,v,w,b,x,_,T,S,M,P,C,E,k;if(arguments.length<4)return this.error("Bezier function expects 4 arguments");for(_=T=0;T<4;_=++T)if("number"!=typeof(d=arguments[_])||isNaN(d)||!isFinite(d))return this.error("Bezier function expects 4 arguments");return t<0||t>1||i<0||i>1?this.error("Bezier x values should be > 0 and < 1"):(h=4,u=.001,c=1e-7,l=10,M=11,S=1/(M-1),w=o.call(r,"Float32Array")>=0,n=function(t,e){return 1-3*e+3*t},p=function(t,e){return 3*e-6*t},a=function(t){return 3*t},g=function(t,e,r){return((n(e,r)*t+p(e,r))*t+a(e))*t},b=function(t,e,r){return 3*n(e,r)*t*t+2*p(e,r)*t+a(e)},C=function(e,r){var s,n;for(_=0;_<h;){if(0===(s=b(r,t,i)))return r;n=g(r,t,i)-e,r-=n/s,++_}return r},m=function(){for(_=0;_<M;)P[_]=g(_*S,t,i),++_},y=function(e,r,s){var n,o;for(o=void 0,n=void 0,_=0;;)if(n=r+(s-r)/2,o=g(n,t,i)-e,o>0?s=n:r=n,!(Math.abs(o)>c&&++_<l))break;return n},x=function(e){var r,s,n,o,p,a,h;for(a=0,r=1,h=M-1;r!==h&&P[r]<=e;)a+=S,++r;return--r,s=P[r+1]-P[r],n=(e-P[r])/s,o=a+n*S,p=b(o,t,i),p>=u?C(e,o):0===p?o:y(e,a,a+S)},E=function(){if(!0,t!==e||i!==s)return m()},P=w?new Float32Array(M):new Array(M),f=!1,v=function(r){return f||E(),t===e&&i===s?r:0===r?0:1===r?1:g(x(r),e,s)},k="bezier("+[t,e,i,s]+")",v.toStr=function(){return k},v)},t.prototype.error=function(t){return n.error(t)},t}(),s=new i,e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../h":6}],3:[function(t,e,r){var i,s,n,o,p,a;n=t("./bezier-easing"),s=t("./path-easing"),a=t("./mix"),p=t("../h"),i=function(){function t(){}return t.prototype.bezier=n,t.prototype.PathEasing=s,t.prototype.path=new s("creator").create,t.prototype.inverse=function(t){return 1-t},t.prototype.linear={none:function(t){return t}},t.prototype.ease={in:n.apply(t,[.42,0,1,1]),out:n.apply(t,[0,0,.58,1]),inout:n.apply(t,[.42,0,.58,1])},t.prototype.quad={in:function(t){return t*t},out:function(t){return t*(2-t)},inout:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},t.prototype.cubic={in:function(t){return t*t*t},out:function(t){return--t*t*t+1},inout:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},t.prototype.quart={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inout:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},t.prototype.quint={in:function(t){return t*t*t*t*t},out:function(t){return--t*t*t*t*t+1},inout:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},t.prototype.sin={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inout:function(t){return.5*(1-Math.cos(Math.PI*t))}},t.prototype.expo={in:function(t){return 0===t?0:Math.pow(1024,t-1)},out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inout:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},t.prototype.circ={in:function(t){return 1-Math.sqrt(1-t*t)},out:function(t){return Math.sqrt(1- --t*t)},inout:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},t.prototype.back={in:function(t){var e;return e=1.70158,t*t*((e+1)*t-e)},out:function(t){var e;return e=1.70158,--t*t*((e+1)*t+e)+1},inout:function(t){var e;return e=2.5949095,(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},t.prototype.elastic={in:function(t){var e,r,i;return i=void 0,r=.4,0===t?0:1===t?1:(e=1,i=r/4,-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/r))},out:function(t){var e,r,i;return i=void 0,r=.4,0===t?0:1===t?1:(e=1,i=r/4,e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/r)+1)},inout:function(t){var e,r,i;return i=void 0,r=.4,0===t?0:1===t?1:(e=1,i=r/4,(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/r)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/r)*.5+1)}},t.prototype.bounce={in:function(t){return 1-o.bounce.out(1-t)},out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inout:function(t){return t<.5?.5*o.bounce.in(2*t):.5*o.bounce.out(2*t-1)+.5}},t.prototype.parseEasing=function(t){var e,r;return r=typeof t,"string"===r?"m"===t.charAt(0).toLowerCase()?this.path(t):(t=this._splitEasing(t),e=this[t[0]],e?e[t[1]]:(p.error('Easing with name "'+t[0]+'" was not found, fallback to "linear.none" instead'),this.linear.none)):p.isArray(t)?this.bezier.apply(this,t):t},t.prototype._splitEasing=function(t){var e,r,i;return"function"==typeof t?t:"string"==typeof t&&t.length?(i=t.split("."),e=i[0].toLowerCase()||"linear",r=i[1].toLowerCase()||"none",[e,r]):["linear","none"]},t}(),o=new i,o.mix=a(o),e.exports=o},{"../h":6,"./bezier-easing":2,"./mix":4,"./path-easing":5}],4:[function(t,e,r){var i,s,n,o,p,a,h=[].slice;s=null,p=function(t){return"number"==typeof t.value?t.value:s.parseEasing(t.value)},a=function(t,e){var r;return t.value=p(t),e.value=p(e),r=0,t.to<e.to&&(r=-1),t.to>e.to&&(r=1),r},n=function(t,e){var r,i,s,n,o;for(i=0,r=s=0,n=t.length;s<n&&(o=t[r],i=r,!(o.to>e));r=++s);return i},o=function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],t.length>1?t=t.sort(a):t[0].value=p(t[0]),function(e){var r,i;if(-1!==(r=n(t,e)))return i=t[r].value,r===t.length-1&&e>t[r].to?1:"function"==typeof i?i(e):i}},i=function(t){return s=t,o},e.exports=i},{}],5:[function(t,e,r){var i,s;s=t("../h"),i=function(){function t(t,e){if(this.o=null!=e?e:{},"creator"!==t){if(this.path=s.parsePath(t),null==this.path)return s.error("Error while parsing the path");this._vars(),this.path.setAttribute("d",this._normalizePath(this.path.getAttribute("d"))),this.pathLength=this.path.getTotalLength(),this.sample=s.bind(this.sample,this),this._hardSample=s.bind(this._hardSample,this),this._preSample()}}return t.prototype._vars=function(){return this._precompute=s.clamp(this.o.precompute||1450,100,1e4),this._step=1/this._precompute,this._rect=this.o.rect||100,this._approximateMax=this.o.approximateMax||5,this._eps=this.o.eps||.001,this._boundsPrevProgress=-1},t.prototype._preSample=function(){var t,e,r,i,s,n,o;for(this._samples=[],o=[],t=e=0,n=this._precompute;0<=n?e<=n:e>=n;t=0<=n?++e:--e)s=t*this._step,r=this.pathLength*s,i=this.path.getPointAtLength(r),o.push(this._samples[t]={point:i,length:r,progress:s});return o},t.prototype._findBounds=function(t,e){var r,i,s,n,o,p,a,h,u,l,c,f,d;if(e===this._boundsPrevProgress)return this._prevBounds;for(null==this._boundsStartIndex&&(this._boundsStartIndex=0),p=t.length,this._boundsPrevProgress>e?(a=0,i="reverse"):(a=p,i="forward"),"forward"===i?(f=t[0],s=t[t.length-1]):(f=t[t.length-1],s=t[0]),n=o=l=this._boundsStartIndex,c=a;l<=c?o<c:o>c;n=l<=c?++o:--o){if(d=t[n],u=d.point.x/this._rect,h=e,"reverse"===i&&(r=u,u=h,h=r),!(u<h)){s=d;break}f=d,this._boundsStartIndex=n}return this._boundsPrevProgress=e,this._prevBounds={start:f,end:s}},t.prototype.sample=function(t){var e,r;return t=s.clamp(t,0,1),e=this._findBounds(this._samples,t),r=this._checkIfBoundsCloseEnough(t,e),null!=r?r:this._findApproximate(t,e.start,e.end)},t.prototype._checkIfBoundsCloseEnough=function(t,e){var r;return void 0,r=this._checkIfPointCloseEnough(t,e.start.point),null!=r?r:this._checkIfPointCloseEnough(t,e.end.point)},t.prototype._checkIfPointCloseEnough=function(t,e){if(s.closeEnough(t,e.x/this._rect,this._eps))return this._resolveY(e)},t.prototype._approximate=function(t,e,r){var i,s;return i=e.point.x-t.point.x,s=(r-t.point.x/this._rect)/(i/this._rect),t.length+s*(e.length-t.length)},t.prototype._findApproximate=function(t,e,r,i){var n,o,p,a,h;return null==i&&(i=this._approximateMax),n=this._approximate(e,r,t),a=this.path.getPointAtLength(n),h=a.x/this._rect,s.closeEnough(t,h,this._eps)?this._resolveY(a):--i<1?this._resolveY(a):(p={point:a,length:n},o=t<h?[t,e,p,i]:[t,p,r,i],this._findApproximate.apply(this,o))},t.prototype._resolveY=function(t){return 1-t.y/this._rect},t.prototype._normalizePath=function(t){var e,r,i,s,n;return n=/[M|L|H|V|C|S|Q|T|A]/gim,i=t.split(n),i.shift(),e=t.match(n),s=0,i[s]=this._normalizeSegment(i[s]),r=i.length-1,i[r]=this._normalizeSegment(i[r],this._rect||100),this._joinNormalizedPath(e,i)},t.prototype._joinNormalizedPath=function(t,e){var r,i,s,n,o,p;for(o="",i=s=0,n=t.length;s<n;i=++s)r=t[i],p=0===i?"":" ",o+=""+p+r+e[i].trim();return o},t.prototype._normalizeSegment=function(t,e){var r,i,s,n,o,p,a,h,u;if(null==e&&(e=0),t=t.trim(),o=/(-|\+)?((\d+(\.(\d|\e(-|\+)?)+)?)|(\.?(\d|\e|(\-|\+))+))/gim,p=this._getSegmentPairs(t.match(o)),s=p[p.length-1],u=s[0],Number(u)!==e)for(t="",s[0]=e,r=i=0,n=p.length;i<n;r=++i)a=p[r],h=0===r?"":" ",t+=""+h+a[0]+","+a[1];return t},t.prototype._getSegmentPairs=function(t){var e,r,i,n,o;for(t.length%2!=0&&s.error("Failed to parse the path - segment pairs are not even.",t),n=[],e=r=0,i=t.length;r<i;e=r+=2)t[e],o=[t[e],t[e+1]],n.push(o);return n},t.prototype.create=function(e,r){var i;return i=new t(e,r),i.sample.path=i.path,i.sample},t}(),e.exports=i},{"../h":6}],6:[function(t,e,r){var i,s;i=function(){function t(){this.vars()}return t.prototype.NS="http://www.w3.org/2000/svg",t.prototype.logBadgeCss="background:#3A0839;color:#FF512F;border-radius:5px; padding: 1px 5px 2px; border: 1px solid #FF512F;",t.prototype.shortColors={transparent:"rgba(0,0,0,0)",none:"rgba(0,0,0,0)",aqua:"rgb(0,255,255)",black:"rgb(0,0,0)",blue:"rgb(0,0,255)",fuchsia:"rgb(255,0,255)",gray:"rgb(128,128,128)",green:"rgb(0,128,0)",lime:"rgb(0,255,0)",maroon:"rgb(128,0,0)",navy:"rgb(0,0,128)",olive:"rgb(128,128,0)",purple:"rgb(128,0,128)",red:"rgb(255,0,0)",silver:"rgb(192,192,192)",teal:"rgb(0,128,128)",white:"rgb(255,255,255)",yellow:"rgb(255,255,0)",orange:"rgb(255,128,0)"},t.prototype.chainOptionMap={duration:1,delay:1,repeat:1,easing:1,yoyo:1,onStart:1,onComplete:1,onCompleteChain:1,onUpdate:1,points:1},t.prototype.callbacksMap={onStart:1,onComplete:1,onCompleteChain:1,onUpdate:1},t.prototype.tweenOptionMap={duration:1,delay:1,repeat:1,easing:1,yoyo:1},t.prototype.posPropsMap={x:1,y:1,shiftX:1,shiftY:1,burstX:1,burstY:1,burstShiftX:1,burstShiftY:1},t.prototype.strokeDashPropsMap={strokeDasharray:1,strokeDashoffset:1},t.prototype.RAD_TO_DEG=180/Math.PI,t.prototype.vars=function(){var t;this.prefix=this.getPrefix(),this.getRemBase(),this.isFF="moz"===this.prefix.lowercase,this.isIE="ms"===this.prefix.lowercase,t=navigator.userAgent,this.isOldOpera=t.match(/presto/gim),this.isSafari=t.indexOf("Safari")>-1,this.isChrome=t.indexOf("Chrome")>-1,this.isOpera=t.toLowerCase().indexOf("op")>-1,this.isChrome&&this.isSafari&&(this.isSafari=!1),t.match(/PhantomJS/gim)&&(this.isSafari=!1),this.isChrome&&this.isOpera&&(this.isChrome=!1),this.is3d=this.checkIf3d(),this.uniqIDs=-1},t.prototype.cloneObj=function(t,e){var r,i,s,n;for(s=Object.keys(t),n={},r=s.length;r--;)i=s[r],null!=e?e[i]||(n[i]=t[i]):n[i]=t[i];return n},t.prototype.extend=function(t,e){var r;for(r in e)e[r],null==t[r]&&(t[r]=e[r]);return t},t.prototype.getRemBase=function(){var t,e;return t=document.querySelector("html"),e=getComputedStyle(t),this.remBase=parseFloat(e.fontSize)},t.prototype.clamp=function(t,e,r){return t<e?e:t>r?r:t},t.prototype.setPrefixedStyle=function(t,e,r,i){return e.match(/transform/gim)?(t.style[""+e]=r,t.style[""+this.prefix.css+e]=r):t.style[e]=r},t.prototype.style=function(t,e,r){var i,s,n,o;if("object"==typeof e){for(s=Object.keys(e),n=s.length,o=[];n--;)i=s[n],r=e[i],o.push(this.setPrefixedStyle(t,i,r));return o}return this.setPrefixedStyle(t,e,r)},t.prototype.prepareForLog=function(t){return t=Array.prototype.slice.apply(t),t.unshift("::"),t.unshift(this.logBadgeCss),t.unshift("%cmo·js%c"),t},t.prototype.log=function(){if(!1!==mojs.isDebug)return console.log.apply(console,this.prepareForLog(arguments))},t.prototype.warn=function(){if(!1!==mojs.isDebug)return console.warn.apply(console,this.prepareForLog(arguments))},t.prototype.error=function(){if(!1!==mojs.isDebug)return console.error.apply(console,this.prepareForLog(arguments))},t.prototype.parseUnit=function(t){var e,r,i,s,n;return"number"==typeof t?{unit:"px",isStrict:!1,value:t,string:t+"px"}:"string"==typeof t?(s=/px|%|rem|em|ex|cm|ch|mm|in|pt|pc|vh|vw|vmin/gim,n=null!=(i=t.match(s))?i[0]:void 0,r=!0,n||(n="px",r=!1),e=parseFloat(t),{unit:n,isStrict:r,value:e,string:""+e+n}):t},t.prototype.bind=function(t,e){var r,i;return i=function(){var i,s;return i=Array.prototype.slice.call(arguments),s=r.concat(i),t.apply(e,s)},r=Array.prototype.slice.call(arguments,2),i},t.prototype.getRadialPoint=function(t){var e,r,i;if(null==t&&(t={}),null!=t.radius&&null!=t.angle&&null!=t.center)return e=(t.angle-90)*(Math.PI/180),r=null!=t.radiusX?t.radiusX:t.radius,i=null!=t.radiusY?t.radiusY:t.radius,{x:t.center.x+Math.cos(e)*r,y:t.center.y+Math.sin(e)*i}},t.prototype.getPrefix=function(){var t,e,r,i;return r=window.getComputedStyle(document.documentElement,""),i=Array.prototype.slice.call(r).join("").match(/-(moz|webkit|ms)-/),e=(i||""===r.OLink&&["","o"])[1],t="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1],{dom:t,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}},t.prototype.strToArr=function(t){var e;return e=[],"number"!=typeof t||isNaN(t)?(t.trim().split(/\s+/gim).forEach(function(t){return function(r){return e.push(t.parseUnit(t.parseIfRand(r)))}}(this)),e):(e.push(this.parseUnit(t)),e)},t.prototype.calcArrDelta=function(t,e){var r,i,s,n;for(r=[],i=s=0,n=t.length;s<n;i=++s)t[i],r[i]=this.parseUnit(""+(e[i].value-t[i].value)+e[i].unit);return r},t.prototype.isArray=function(t){return t instanceof Array},t.prototype.normDashArrays=function(t,e){var r,i,s,n,o,p,a,h,u,l;if(r=t.length,i=e.length,r>i)for(a=r-i,l=e.length,n=o=0,h=a;0<=h?o<h:o>h;n=0<=h?++o:--o)s=n+l,e.push(this.parseUnit("0"+t[s].unit));else if(i>r)for(a=i-r,l=t.length,n=p=0,u=a;0<=u?p<u:p>u;n=0<=u?++p:--p)s=n+l,t.push(this.parseUnit("0"+e[s].unit));return[t,e]},t.prototype.makeColorObj=function(t){var e,r,i,s,n,o,p,a,h,u;return"#"===t[0]&&(h=/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(t),i={},h&&(o=2===h[1].length?h[1]:h[1]+h[1],s=2===h[2].length?h[2]:h[2]+h[2],r=2===h[3].length?h[3]:h[3]+h[3],i={r:parseInt(o,16),g:parseInt(s,16),b:parseInt(r,16),a:1})),"#"!==t[0]&&(n="r"===t[0]&&"g"===t[1]&&"b"===t[2],n&&(u=t),n||(u=this.shortColors[t]?this.shortColors[t]:(this.div.style.color=t,this.computedStyle(this.div).color)),p="^rgba?\\((\\d{1,3}),\\s?(\\d{1,3}),",a="\\s?(\\d{1,3}),?\\s?(\\d{1}|0?\\.\\d{1,})?\\)$",h=new RegExp(p+a,"gi").exec(u),i={},e=parseFloat(h[4]||1),h&&(i={r:parseInt(h[1],10),g:parseInt(h[2],10),b:parseInt(h[3],10),a:null==e||isNaN(e)?1:e})),i},t.prototype.computedStyle=function(t){return getComputedStyle(t)},t.prototype.capitalize=function(t){if("string"!=typeof t)throw Error("String expected - nothing to capitalize");return t.charAt(0).toUpperCase()+t.substring(1)},t.prototype.parseRand=function(t){var e,r,i;return r=t.split(/rand\(|\,|\)/),i=this.parseUnit(r[2]),e=this.rand(parseFloat(r[1]),parseFloat(r[2])),i.unit&&r[2].match(i.unit)?e+i.unit:e},t.prototype.parseStagger=function(t,e){var r,i,s,n,o,p;return p=t.split(/stagger\(|\)$/)[1].toLowerCase(),s=p.split(/(rand\(.*?\)|[^\(,\s]+)(?=\s*,|\s*$)/gim),p=s.length>3?(r=this.parseUnit(this.parseIfRand(s[1])),s[3]):(r=this.parseUnit(0),s[1]),p=this.parseIfRand(p),o=this.parseUnit(p),i=e*o.value+r.value,n=r.isStrict?r.unit:o.isStrict?o.unit:"",n?""+i+n:i},t.prototype.parseIfStagger=function(t,e){return"string"==typeof t&&t.match(/stagger/g)?this.parseStagger(t,e):t},t.prototype.parseIfRand=function(t){return"string"==typeof t&&t.match(/rand\(/)?this.parseRand(t):t},t.prototype.parseDelta=function(t,e){var r,i,s,n,o,p,a,h,u,l;if(h=Object.keys(e)[0],i=e[h],r={start:h},isNaN(parseFloat(h))&&!h.match(/rand\(/)){if("strokeLinecap"===t)return this.warn("Sorry, stroke-linecap property is not animatable yet, using the start("+h+") value instead",e),r;l=this.makeColorObj(h),n=this.makeColorObj(i),r={start:l,end:n,type:"color",delta:{r:n.r-l.r,g:n.g-l.g,b:n.b-l.b,a:n.a-l.a}}}else if("strokeDasharray"===t||"strokeDashoffset"===t){for(u=this.strToArr(h),s=this.strToArr(i),this.normDashArrays(u,s),o=p=0,a=u.length;p<a;o=++p)h=u[o],i=s[o],this.mergeUnits(h,i,t);r={start:u,end:s,delta:this.calcArrDelta(u,s),type:"array"}}else this.chainOptionMap[t]||(this.posPropsMap[t]?(i=this.parseUnit(this.parseIfRand(i)),h=this.parseUnit(this.parseIfRand(h)),this.mergeUnits(h,i,t),r={start:h,end:i,delta:i.value-h.value,type:"unit"}):(i=parseFloat(this.parseIfRand(i)),h=parseFloat(this.parseIfRand(h)),r={start:h,end:i,delta:i-h,type:"number"}));return r},t.prototype.mergeUnits=function(t,e,r){return!e.isStrict&&t.isStrict?(e.unit=t.unit,e.string=""+e.value+e.unit):e.isStrict&&!t.isStrict?(t.unit=e.unit,t.string=""+t.value+t.unit):e.isStrict&&t.isStrict&&e.unit!==t.unit?(t.unit=e.unit,t.string=""+t.value+t.unit,this.warn('Two different units were specified on "'+r+'" delta property, mo · js will fallback to end "'+e.unit+'" unit ')):void 0},t.prototype.rand=function(t,e){return Math.random()*(e-t)+t},t.prototype.isDOM=function(t){var e;return null!=t&&(e="number"==typeof t.nodeType&&"string"==typeof t.nodeName,"object"==typeof t&&e)},t.prototype.getChildElements=function(t){var e,r,i;for(e=t.childNodes,r=[],i=e.length;i--;)1===e[i].nodeType&&r.unshift(e[i]);return r},t.prototype.delta=function(t,e){var r,i,s,n,o;return n=typeof t,o=typeof e,r="string"===n||"number"===n&&!isNaN(t),i="string"===o||"number"===o&&!isNaN(e),r&&i?(s={},s[t]=e,s):void this.error("delta method expects Strings or Numbers at input but got - "+t+", "+e)},t.prototype.getUniqID=function(){return++this.uniqIDs},t.prototype.parsePath=function(t){var e;return"string"==typeof t?"m"===t.charAt(0).toLowerCase()?(e=document.createElementNS(this.NS,"path"),e.setAttributeNS(null,"d",t),e):document.querySelector(t):t.style?t:void 0},t.prototype.closeEnough=function(t,e,r){return Math.abs(t-e)<r},t.prototype.checkIf3d=function(){var t,e,r;return t=document.createElement("div"),this.style(t,"transform","translateZ(0)"),r=t.style,e=this.prefix.css+"transform",""!==(null!=r[e]?r[e]:r.transform)},t}(),s=new i,e.exports=s},{}],7:[function(e,r,i){window.mojs={revision:"0.147.4",isDebug:!0,helpers:e("./h"),Bit:e("./shapes/bit"),bitsMap:e("./shapes/bitsMap"),Circle:e("./shapes/circle"),Cross:e("./shapes/cross"),Line:e("./shapes/line"),Rect:e("./shapes/rect"),Polygon:e("./shapes/polygon"),Equal:e("./shapes/equal"),Zigzag:e("./shapes/zigzag"),Burst:e("./burst"),Transit:e("./transit"),Swirl:e("./swirl"),Stagger:e("./stagger"),Spriter:e("./spriter"),MotionPath:e("./motion-path"),Tween:e("./tween/tween"),Timeline:e("./tween/timeline"),tweener:e("./tween/tweener"),easing:e("./easing/easing")},mojs.h=mojs.helpers,mojs.delta=mojs.h.delta,"function"==typeof t&&t.amd&&t("mojs",[],function(){return mojs}),"object"==typeof r&&"object"==typeof r.exports&&(r.exports=mojs)},{"./burst":1,"./easing/easing":3,"./h":6,"./motion-path":8,"./shapes/bit":11,"./shapes/bitsMap":12,"./shapes/circle":13,"./shapes/cross":14,"./shapes/equal":15,"./shapes/line":16,"./shapes/polygon":17,"./shapes/rect":18,"./shapes/zigzag":19,"./spriter":20,"./stagger":21,"./swirl":22,"./transit":23,"./tween/timeline":24,"./tween/tween":25,"./tween/tweener":26}],8:[function(t,e,r){var i,s,n,o,p,a=function(t,e){return function(){return t.apply(e,arguments)}};o=t("./h"),p=t("./vendor/resize"),n=t("./tween/tween"),s=t("./tween/timeline"),i=function(){function t(t){this.o=null!=t?t:{},this.calcHeight=a(this.calcHeight,this),this.vars()||this.createTween()}return t.prototype.defaults={path:null,curvature:{x:"75%",y:"50%"},isCompositeLayer:!0,delay:0,duration:1e3,easing:null,repeat:0,yoyo:!1,offsetX:0,offsetY:0,angleOffset:null,pathStart:0,pathEnd:1,motionBlur:0,transformOrigin:null,isAngle:!1,isReverse:!1,isRunLess:!1,isPresetPosition:!0,onStart:null,onComplete:null,onUpdate:null},t.prototype.vars=function(){return this.getScaler=o.bind(this.getScaler,this),this.resize=p,this.props=o.cloneObj(this.defaults),this.extendOptions(this.o),this.isMotionBlurReset=o.isSafari||o.isIE,this.isMotionBlurReset&&(this.props.motionBlur=0),this.history=[o.cloneObj(this.props)],this.postVars()},t.prototype.curveToPath=function(t){var e,r,i,s,n,p,a,h,u,l,c,f,d;return l=document.createElementNS(o.NS,"path"),d=t.start,u={x:d.x+t.shift.x,y:d.x+t.shift.y},r=t.curvature,a=t.shift.x,h=t.shift.y,f=Math.sqrt(a*a+h*h),c=f/100,e=Math.atan(h/a)*(180/Math.PI)+90,t.shift.x<0&&(e+=180),i=o.parseUnit(r.x),i="%"===i.unit?i.value*c:i.value,p=o.getRadialPoint({center:{x:d.x,y:d.y},radius:i,angle:e}),s=o.parseUnit(r.y),s="%"===s.unit?s.value*c:s.value,n=o.getRadialPoint({center:{x:p.x,y:p.y},radius:s,angle:e+90}),l.setAttribute("d","M"+d.x+","+d.y+" Q"+n.x+","+n.y+" "+u.x+","+u.y),l},t.prototype.postVars=function(){return this.props.pathStart=o.clamp(this.props.pathStart,0,1),this.props.pathEnd=o.clamp(this.props.pathEnd,this.props.pathStart,1),this.angle=0,this.speedX=0,this.speedY=0,this.blurX=0,this.blurY=0,this.prevCoords={},this.blurAmount=20,this.props.motionBlur=o.clamp(this.props.motionBlur,0,1),this.onUpdate=this.props.onUpdate,this.o.el?(this.el=this.parseEl(this.props.el),this.props.motionBlur>0&&this.createFilter(),this.path=this.getPath(),this.path.getAttribute("d")?(this.len=this.path.getTotalLength(),this.slicedLen=this.len*(this.props.pathEnd-this.props.pathStart),this.startLen=this.props.pathStart*this.len,this.fill=this.props.fill,null!=this.fill&&(this.container=this.parseEl(this.props.fill.container),this.fillRule=this.props.fill.fillRule||"all",this.getScaler(),null!=this.container)?(this.removeEvent(this.container,"onresize",this.getScaler),this.addEvent(this.container,"onresize",this.getScaler)):void 0):(o.error("Path has no coordinates to work with, aborting"),!0)):(o.error('Missed "el" option. It could be a selector, DOMNode or another module.'),!0)},t.prototype.addEvent=function(t,e,r){return t.addEventListener(e,r,!1)},t.prototype.removeEvent=function(t,e,r){return t.removeEventListener(e,r,!1)},t.prototype.createFilter=function(){var t,e;return t=document.createElement("div"),this.filterID="filter-"+o.getUniqID(),t.innerHTML='<svg id="svg-'+this.filterID+'"\n    style="visibility:hidden; width:0px; height:0px">\n  <filter id="'+this.filterID+'" y="-20" x="-20" width="40" height="40">\n    <feOffset\n      id="blur-offset" in="SourceGraphic"\n      dx="0" dy="0" result="offset2"></feOffset>\n    <feGaussianblur\n      id="blur" in="offset2"\n      stdDeviation="0,0" result="blur2"></feGaussianblur>\n    <feMerge>\n      <feMergeNode in="SourceGraphic"></feMergeNode>\n      <feMergeNode in="blur2"></feMergeNode>\n    </feMerge>\n  </filter>\n</svg>',e=t.querySelector("#svg-"+this.filterID),this.filter=e.querySelector("#blur"),this.filterOffset=e.querySelector("#blur-offset"),document.body.insertBefore(e,document.body.firstChild),this.el.style.filter="url(#"+this.filterID+")",this.el.style[o.prefix.css+"filter"]="url(#"+this.filterID+")"},t.prototype.parseEl=function(t){return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:null!=t.setProp?(this.isModule=!0,t):void 0},t.prototype.getPath=function(){return o.parsePath(this.props.path)||(this.props.path.x||this.props.path.y?this.curveToPath({start:{x:0,y:0},shift:{x:this.props.path.x||0,y:this.props.path.y||0},curvature:{x:this.props.curvature.x||this.defaults.curvature.x,y:this.props.curvature.y||this.defaults.curvature.y}}):void 0)},t.prototype.getScaler=function(){var t,e,r;switch(this.cSize={width:this.container.offsetWidth||0,height:this.container.offsetHeight||0},r=this.path.getPointAtLength(0),t=this.path.getPointAtLength(this.len),e={},this.scaler={},e.width=t.x>=r.x?t.x-r.x:r.x-t.x,e.height=t.y>=r.y?t.y-r.y:r.y-t.y,this.fillRule){case"all":return this.calcWidth(e),this.calcHeight(e);case"width":return this.calcWidth(e),this.scaler.y=this.scaler.x;case"height":return this.calcHeight(e),this.scaler.x=this.scaler.y}},t.prototype.calcWidth=function(t){return this.scaler.x=this.cSize.width/t.width,!isFinite(this.scaler.x)&&(this.scaler.x=1)},t.prototype.calcHeight=function(t){return this.scaler.y=this.cSize.height/t.height,!isFinite(this.scaler.y)&&(this.scaler.y=1)},t.prototype.run=function(t){var e,r;if(t){this.history[0];for(e in t)r=t[e],o.callbacksMap[e]||o.tweenOptionMap[e]?(o.warn('the property "'+e+'" property can not be overridden on run yet'),delete t[e]):this.history[0][e]=r;this.tuneOptions(t)}return this.startTween()},t.prototype.createTween=function(){return this.tween=new n({duration:this.props.duration,delay:this.props.delay,yoyo:this.props.yoyo,repeat:this.props.repeat,easing:this.props.easing,onStart:function(t){return function(){var e;return null!=(e=t.props.onStart)?e.apply(t):void 0}}(this),onComplete:function(t){return function(){var e;return t.props.motionBlur&&t.setBlur({blur:{x:0,y:0},offset:{x:0,y:0}}),null!=(e=t.props.onComplete)?e.apply(t):void 0}}(this),onUpdate:function(t){return function(e){return t.setProgress(e)}}(this),onFirstUpdateBackward:function(t){return function(){return t.history.length>1&&t.tuneOptions(t.history[0])}
}(this)}),this.timeline=new s,this.timeline.add(this.tween),!this.props.isRunLess&&this.startTween(),this.props.isPresetPosition&&this.setProgress(0,!0)},t.prototype.startTween=function(){return setTimeout(function(t){return function(){var e;return null!=(e=t.timeline)?e.start():void 0}}(this),1)},t.prototype.setProgress=function(t,e){var r,i,s,n;return r=this.startLen+(this.props.isReverse?(1-t)*this.slicedLen:t*this.slicedLen),i=this.path.getPointAtLength(r),s=i.x+this.props.offsetX,n=i.y+this.props.offsetY,this._getCurrentAngle(i,r,t),this._setTransformOrigin(t),this._setTransform(s,n,t,e),this.props.motionBlur&&this.makeMotionBlur(s,n)},t.prototype.setElPosition=function(t,e,r){var i,s,n,p;return n=0!==this.angle?"rotate("+this.angle+"deg)":"",s=this.props.isCompositeLayer&&o.is3d,i=s?"translateZ(0)":"",p="translate("+t+"px,"+e+"px) "+n+" "+i,o.setPrefixedStyle(this.el,"transform",p)},t.prototype.setModulePosition=function(t,e){return this.el.setProp({shiftX:t+"px",shiftY:e+"px",angle:this.angle}),this.el.draw()},t.prototype._getCurrentAngle=function(t,e,r){var i,s,n,p,a;return s="function"==typeof this.props.transformOrigin,this.props.isAngle||null!=this.props.angleOffset||s?(n=this.path.getPointAtLength(e-1),p=t.y-n.y,a=t.x-n.x,i=Math.atan(p/a),!isFinite(i)&&(i=0),this.angle=i*o.RAD_TO_DEG,"function"!=typeof this.props.angleOffset?this.angle+=this.props.angleOffset||0:this.angle=this.props.angleOffset.call(this,this.angle,r)):this.angle=0},t.prototype._setTransform=function(t,e,r,i){var s;return this.scaler&&(t*=this.scaler.x,e*=this.scaler.y),s=null,i||(s="function"==typeof this.onUpdate?this.onUpdate(r,{x:t,y:e,angle:this.angle}):void 0),this.isModule?this.setModulePosition(t,e):"string"!=typeof s?this.setElPosition(t,e,r):o.setPrefixedStyle(this.el,"transform",s)},t.prototype._setTransformOrigin=function(t){var e,r;if(this.props.transformOrigin)return e="function"==typeof this.props.transformOrigin,r=e?this.props.transformOrigin(this.angle,t):this.props.transformOrigin,o.setPrefixedStyle(this.el,"transform-origin",r)},t.prototype.makeMotionBlur=function(t,e){var r,i,s,n,p,a,h;return h=0,p=1,a=1,null==this.prevCoords.x||null==this.prevCoords.y?(this.speedX=0,this.speedY=0):(s=t-this.prevCoords.x,n=e-this.prevCoords.y,s>0&&(p=-1),p<0&&(a=-1),this.speedX=Math.abs(s),this.speedY=Math.abs(n),h=Math.atan(n/s)*(180/Math.PI)+90),r=h-this.angle,i=this.angToCoords(r),this.blurX=o.clamp(this.speedX/16*this.props.motionBlur,0,1),this.blurY=o.clamp(this.speedY/16*this.props.motionBlur,0,1),this.setBlur({blur:{x:3*this.blurX*this.blurAmount*Math.abs(i.x),y:3*this.blurY*this.blurAmount*Math.abs(i.y)},offset:{x:3*p*this.blurX*i.x*this.blurAmount,y:3*a*this.blurY*i.y*this.blurAmount}}),this.prevCoords.x=t,this.prevCoords.y=e},t.prototype.setBlur=function(t){if(!this.isMotionBlurReset)return this.filter.setAttribute("stdDeviation",t.blur.x+","+t.blur.y),this.filterOffset.setAttribute("dx",t.offset.x),this.filterOffset.setAttribute("dy",t.offset.y)},t.prototype.extendDefaults=function(t){var e,r,i;r=[];for(e in t)i=t[e],r.push(this[e]=i);return r},t.prototype.extendOptions=function(t){var e,r,i;r=[];for(e in t)i=t[e],r.push(this.props[e]=i);return r},t.prototype.then=function(t){var e,r,i,s,p;s=this.history[this.history.length-1],i={};for(r in s)p=s[r],!o.callbacksMap[r]&&!o.tweenOptionMap[r]||"duration"===r?null==t[r]&&(t[r]=p):null==t[r]&&(t[r]=void 0),o.tweenOptionMap[r]&&(i[r]="duration"!==r?t[r]:null!=t[r]?t[r]:s[r]);return this.history.push(t),e=this,i.onUpdate=function(t){return function(e){return t.setProgress(e)}}(this),i.onStart=function(t){return function(){var e;return null!=(e=t.props.onStart)?e.apply(t):void 0}}(this),i.onComplete=function(t){return function(){var e;return null!=(e=t.props.onComplete)?e.apply(t):void 0}}(this),i.onFirstUpdate=function(){return e.tuneOptions(e.history[this.index])},i.isChained=!t.delay,this.timeline.append(new n(i)),this},t.prototype.tuneOptions=function(t){return this.extendOptions(t),this.postVars()},t.prototype.angToCoords=function(t){var e,r,i;return t%=360,e=(t-90)*Math.PI/180,r=Math.cos(e),i=Math.sin(e),r=r<0?Math.max(r,-.7):Math.min(r,.7),i=i<0?Math.max(i,-.7):Math.min(i,.7),{x:1.428571429*r,y:1.428571429*i}},t}(),e.exports=i},{"./h":6,"./tween/timeline":24,"./tween/tween":25,"./vendor/resize":27}],9:[function(t,e,r){!function(t){var e,r,i;if(null==t.performance&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},null==t.performance.now)e=(null!=(r=t.performance)&&null!=(i=r.timing)?i.navigationStart:void 0)?performance.timing.navigationStart:Date.now(),t.performance.now=function(){return Date.now()-e}}(window)},{}],10:[function(t,e,r){!function(){"nouse strict";var t,e,r,i,s,n,o;for(s=["webkit","moz"],e=0,o=window;e<s.length&&!o.requestAnimationFrame;)n=s[e],o.requestAnimationFrame=o[n+"RequestAnimationFrame"],t=o[n+"CancelAnimationFrame"],o.cancelAnimationFrame=t||o[n+"CancelRequestAnimationFrame"],++e;r=!o.requestAnimationFrame||!o.cancelAnimationFrame,(/iP(ad|hone|od).*OS 6/.test(o.navigator.userAgent)||r)&&(i=0,o.requestAnimationFrame=function(t){var e,r;return r=Date.now(),e=Math.max(i+16,r),setTimeout(function(){t(i=e)},e-r)},o.cancelAnimationFrame=clearTimeout)}()},{}],11:[function(t,e,r){var i,s;s=t("../h"),i=function(){function t(t){this.o=null!=t?t:{},this.init()}return t.prototype.ns="http://www.w3.org/2000/svg",t.prototype.type="line",t.prototype.ratio=1,t.prototype.defaults={radius:50,radiusX:void 0,radiusY:void 0,points:3,x:0,y:0,angle:0,stroke:"hotpink","stroke-width":2,"stroke-opacity":1,fill:"transparent","fill-opacity":1,"stroke-dasharray":"","stroke-dashoffset":"","stroke-linecap":""},t.prototype.init=function(){return this.vars(),this.render(),this},t.prototype.vars=function(){return this.o.ctx&&"svg"===this.o.ctx.tagName?this.ctx=this.o.ctx:this.o.el||s.error("You should pass a real context(ctx) to the bit"),this.state={},this.drawMapLength=this.drawMap.length,this.extendDefaults(),this.calcTransform()},t.prototype.calcTransform=function(){var t;return t="rotate("+this.props.angle+", "+this.props.x+", "+this.props.y+")",this.props.transform=""+t},t.prototype.extendDefaults=function(){var t,e,r,i;null==this.props&&(this.props={}),e=this.defaults,r=[];for(t in e)i=e[t],r.push(this.props[t]=null!=this.o[t]?this.o[t]:i);return r},t.prototype.setAttr=function(t,e){var r,i,s,n,o,p;if("object"==typeof t){for(s=Object.keys(t),n=s.length,r=e||this.el,o=[];n--;)i=s[n],p=t[i],o.push(r.setAttribute(i,p));return o}return this.el.setAttribute(t,e)},t.prototype.setProp=function(t,e){var r,i,s;if("object"==typeof t){i=[];for(r in t)s=t[r],i.push(this.props[r]=s);return i}return this.props[t]=e},t.prototype.render=function(){return this.isRendered=!0,null!=this.o.el?(this.el=this.o.el,this.isForeign=!0):(this.el=document.createElementNS(this.ns,this.type||"line"),!this.o.isDrawLess&&this.draw(),this.ctx.appendChild(this.el))},t.prototype.drawMap=["stroke","stroke-width","stroke-opacity","stroke-dasharray","fill","stroke-dashoffset","stroke-linecap","fill-opacity","transform"],t.prototype.draw=function(){var t,e;for(this.props.length=this.getLength(),t=this.drawMapLength;t--;){switch(e=this.drawMap[t]){case"stroke-dasharray":case"stroke-dashoffset":this.castStrokeDash(e)}this.setAttrsIfChanged(e,this.props[e])}return this.state.radius=this.props.radius},t.prototype.castStrokeDash=function(t){var e,r,i,n,o,p,a;if(s.isArray(this.props[t])){for(a="",p=this.props[t],i=n=0,o=p.length;n<o;i=++n)r=p[i],e="%"===r.unit?this.castPercent(r.value):r.value,a+=e+" ";return this.props[t]="0 "===a?a="":a,this.props[t]=a}if("object"==typeof this.props[t])return a="%"===this.props[t].unit?this.castPercent(this.props[t].value):this.props[t].value,this.props[t]=0===a?a="":a},t.prototype.castPercent=function(t){return t*(this.props.length/100)},t.prototype.setAttrsIfChanged=function(t,e){var r,i,s,n;if("object"==typeof t){for(i=Object.keys(t),s=i.length,n=[];s--;)r=i[s],e=t[r],n.push(this.setAttrIfChanged(r,e));return n}return null==e&&(e=this.props[t]),this.setAttrIfChanged(t,e)},t.prototype.setAttrIfChanged=function(t,e){if(this.isChanged(t,e))return this.el.setAttribute(t,e),this.state[t]=e},t.prototype.isChanged=function(t,e){return null==e&&(e=this.props[t]),this.state[t]!==e},t.prototype.getLength=function(){var t;return null!=(null!=(t=this.el)?t.getTotalLength:void 0)&&this.el.getAttribute("d")?this.el.getTotalLength():2*(null!=this.props.radiusX?this.props.radiusX:this.props.radius)},t}(),e.exports=i},{"../h":6}],12:[function(t,e,r){var i,s,n,o,p,a,h,u,l,c;i=t("./bit"),n=t("./circle"),a=t("./line"),l=t("./zigzag"),u=t("./rect"),h=t("./polygon"),o=t("./cross"),p=t("./equal"),c=t("../h"),s=function(){function t(){}return t.prototype.h=c,t.prototype.map={bit:i,circle:n,line:a,zigzag:l,rect:u,polygon:h,cross:o,equal:p},t.prototype.getBit=function(t){return this.map[t]||this.h.error('no "'+t+'" shape available yet, please choose from this list:',this.map)},t}(),e.exports=new s},{"../h":6,"./bit":11,"./circle":13,"./cross":14,"./equal":15,"./line":16,"./polygon":17,"./rect":18,"./zigzag":19}],13:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.type="ellipse",e.prototype.draw=function(){var t,r;return t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,r=null!=this.props.radiusY?this.props.radiusY:this.props.radius,this.setAttrsIfChanged({rx:t,ry:r,cx:this.props.x,cy:this.props.y}),e.__super__.draw.apply(this,arguments)},e.prototype.getLength=function(){var t,e;return t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,e=null!=this.props.radiusY?this.props.radiusY:this.props.radius,2*Math.PI*Math.sqrt((Math.pow(t,2)+Math.pow(e,2))/2)},e}(i),e.exports=s},{"./bit":11}],14:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.type="path",e.prototype.draw=function(){var t,r,i,s,n,o,p,a,h;return e.__super__.draw.apply(this,arguments),s=null!=this.props.radiusX?this.props.radiusX:this.props.radius,n=null!=this.props.radiusY?this.props.radiusY:this.props.radius,o=this.props.x-s,p=this.props.x+s,r="M"+o+","+this.props.y+" L"+p+","+this.props.y,a=this.props.y-n,h=this.props.y+n,i="M"+this.props.x+","+a+" L"+this.props.x+","+h,t=r+" "+i,this.setAttr({d:t})},e.prototype.getLength=function(){var t,e;return t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,e=null!=this.props.radiusY?this.props.radiusY:this.props.radius,2*(t+e)},e}(i),e.exports=s},{"./bit":11}],15:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.type="path",e.prototype.ratio=1.43,e.prototype.draw=function(){var t,r,i,s,n,o,p,a,h,u,l;if(e.__super__.draw.apply(this,arguments),this.props.points){for(s=null!=this.props.radiusX?this.props.radiusX:this.props.radius,n=null!=this.props.radiusY?this.props.radiusY:this.props.radius,p=this.props.x-s,a=this.props.x+s,t="",l=2*n/(this.props.points-1),u=this.props.y-n,r=i=0,o=this.props.points;0<=o?i<o:i>o;r=0<=o?++i:--i)h=""+(r*l+u),t+="M"+p+", "+h+" L"+a+", "+h+" ";return this.setAttr({d:t})}},e.prototype.getLength=function(){return 2*(null!=this.props.radiusX?this.props.radiusX:this.props.radius)},e}(i),e.exports=s},{"./bit":11}],16:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.draw=function(){var t;return t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,this.setAttrsIfChanged({x1:this.props.x-t,x2:this.props.x+t,y1:this.props.y,y2:this.props.y}),e.__super__.draw.apply(this,arguments)},e}(i),e.exports=s},{"./bit":11}],17:[function(t,e,r){var i,s,n,o=function(t,e){function r(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},p={}.hasOwnProperty;i=t("./bit"),n=t("../h"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.type="path",e.prototype.draw=function(){return this.drawShape(),e.__super__.draw.apply(this,arguments)},e.prototype.drawShape=function(){var t,e,r,i,s,o,p,a,h,u;for(u=360/this.props.points,this.radialPoints=[],r=i=0,a=this.props.points;0<=a?i<a:i>a;r=0<=a?++i:--i)this.radialPoints.push(n.getRadialPoint({radius:this.props.radius,radiusX:this.props.radiusX,radiusY:this.props.radiusY,angle:r*u,center:{x:this.props.x,y:this.props.y}}));for(e="",h=this.radialPoints,r=s=0,o=h.length;s<o;r=++s)p=h[r],t=0===r?"M":"L",e+=""+t+p.x.toFixed(4)+","+p.y.toFixed(4)+" ";return this.setAttr({d:e+="z"})},e.prototype.getLength=function(){return this.el.getTotalLength()},e}(i),e.exports=s},{"../h":6,"./bit":11}],18:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.type="rect",e.prototype.ratio=1.43,e.prototype.draw=function(){var t,r;return e.__super__.draw.apply(this,arguments),t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,r=null!=this.props.radiusY?this.props.radiusY:this.props.radius,this.setAttrsIfChanged({width:2*t,height:2*r,x:this.props.x-t,y:this.props.y-r})},e.prototype.getLength=function(){var t,e;return t=null!=this.props.radiusX?this.props.radiusX:this.props.radius,e=null!=this.props.radiusY?this.props.radiusY:this.props.radius,2*t+2*e},e}(i),e.exports=s},{"./bit":11}],19:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=t("./bit"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.type="path",e.prototype.ratio=1.43,e.prototype.draw=function(){var t,r,i,s,n,o,p,a,h,u,l,c,f,d;if(this.props.points){for(p=null!=this.props.radiusX?this.props.radiusX:this.props.radius,a=null!=this.props.radiusY?this.props.radiusY:this.props.radius,o="",u=2*p/this.props.points,l=2*a/this.props.points,c=this.props["stroke-width"],f=this.props.x-p,d=this.props.y-a,r=n=h=this.props.points;h<=0?n<0:n>0;r=h<=0?++n:--n)i=f+r*u+c,s=d+r*l+c,f+(r-1)*u+c,d+(r-1)*l+c,t=r===this.props.points?"M":"L",o+=""+t+i+","+s+" l0, -"+l+" l-"+u+", 0";return this.setAttr({d:o}),e.__super__.draw.apply(this,arguments)}},e}(i),e.exports=s},{"./bit":11}],20:[function(t,e,r){var i,s,n,o;o=t("./h"),n=t("./tween/tween"),s=t("./tween/timeline"),i=function(){function t(t){if(this.o=null!=t?t:{},null==this.o.el)return o.error('No "el" option specified, aborting');this._vars(),this._extendDefaults(),this._parseFrames(),this._frames.length<=2&&o.warn("Spriter: only "+this._frames.length+" frames found"),this._frames.length<1&&o.error("Spriter: there is no frames to animate, aborting"),this._createTween()}return t.prototype._defaults={duration:500,delay:0,easing:"linear.none",repeat:0,yoyo:!1,isRunLess:!1,isShowEnd:!1,onStart:null,onUpdate:null,onComplete:null},t.prototype._vars=function(){return this._props=o.cloneObj(this.o),this.el=this.o.el,this._frames=[]},t.prototype.run=function(t){return this._timeline.start()},t.prototype._extendDefaults=function(){return o.extend(this._props,this._defaults)},t.prototype._parseFrames=function(){var t,e,r,i,s;for(this._frames=Array.prototype.slice.call(this.el.children,0),s=this._frames,e=r=0,i=s.length;r<i;e=++r)t=s[e],t.style.opacity=0;return this._frameStep=1/this._frames.length},t.prototype._createTween=function(){return this._tween=new n({duration:this._props.duration,delay:this._props.delay,yoyo:this._props.yoyo,repeat:this._props.repeat,easing:this._props.easing,onStart:function(t){return function(){var e;return"function"==typeof(e=t._props).onStart?e.onStart():void 0}}(this),onComplete:function(t){return function(){var e;return"function"==typeof(e=t._props).onComplete?e.onComplete():void 0}}(this),onUpdate:function(t){return function(e){return t._setProgress(e)}}(this)}),this._timeline=new s,this._timeline.add(this._tween),!this._props.isRunLess&&this._startTween()},t.prototype._startTween=function(){return setTimeout(function(t){return function(){return t._timeline.start()}}(this),1)},t.prototype._setProgress=function(t){var e,r,i,s,n;return i=Math.floor(t/this._frameStep),this._prevFrame!==this._frames[i]&&(null!=(s=this._prevFrame)&&(s.style.opacity=0),r=1===t&&this._props.isShowEnd?i-1:i,null!=(n=this._frames[r])&&(n.style.opacity=1),this._prevFrame=this._frames[i]),"function"==typeof(e=this._props).onUpdate?e.onUpdate(t):void 0},t}(),e.exports=i},{"./h":6,"./tween/timeline":24,"./tween/tween":25}],21:[function(t,e,r){var i,s,n,o;o=t("./h"),n=t("./tween/timeline"),i=function(){function t(t,e){this.init(t,e)}return t.prototype._getOptionByMod=function(t,e,r){var i,s;return i=r[t],i+""=="[object NodeList]"&&(i=Array.prototype.slice.call(i,0)),i+""=="[object HTMLCollection]"&&(i=Array.prototype.slice.call(i,0)),s=o.isArray(i)?i[e%i.length]:i,o.parseIfStagger(s,e)},t.prototype._getOptionByIndex=function(t,e){var r,i;i={};for(r in e)e[r],i[r]=this._getOptionByMod(r,t,e);return i},t.prototype._getChildQuantity=function(t,e){var r,i;return"number"==typeof t?t:(i=e[t],o.isArray(i)?i.length:i+""=="[object NodeList]"?i.length:i+""=="[object HTMLCollection]"?(r=Array.prototype.slice.call(i,0),r.length):i instanceof HTMLElement?1:"string"==typeof i?1:void 0)},t.prototype._createTimeline=function(t){return null==t&&(t={}),this.timeline=new n({onStart:t.onStaggerStart,onUpdate:t.onStaggerUpdate,onComplete:t.onStaggerComplete,onReverseComplete:t.onStaggerReverseComplete,delay:t.moduleDelay})},t.prototype.init=function(t,e){var r,i,s,n,o,p;for(r=this._getChildQuantity(t.quantifier||"el",t),this._createTimeline(t),this.childModules=[],i=s=0,p=r;0<=p?s<p:s>p;i=0<=p?++s:--s)o=this._getOptionByIndex(i,t),o.isRunLess=!0,n=new e(o),this.childModules.push(n),this.timeline.add(n);return this},t.prototype.run=function(){return this.timeline.start()},t}(),s=function(){function t(t){var e;return e=t,function(t){return new i(t,e)}}return t}(),e.exports=s},{"./h":6,"./tween/timeline":24}],22:[function(t,e,r){var i,s,n=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;s=t("./transit"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.skipPropsDelta={x:1,y:1},e.prototype.vars=function(){return e.__super__.vars.apply(this,arguments),!this.o.isSwirlLess&&this.generateSwirl()},e.prototype.extendDefaults=function(){var t,r,i,s;return e.__super__.extendDefaults.apply(this,arguments),i=this.getPosValue("x"),s=this.getPosValue("y"),t=90+Math.atan(s.delta/i.delta||0)*(180/Math.PI),i.delta<0&&(t+=180),this.positionDelta={radius:Math.sqrt(i.delta*i.delta+s.delta*s.delta),angle:t,x:i,y:s},null==(r=this.o).radiusScale&&(r.radiusScale=1),this.props.angleShift=this.h.parseIfRand(this.o.angleShift||0),this.props.radiusScale=this.h.parseIfRand(this.o.radiusScale)},e.prototype.getPosValue=function(t){var e,r;return e=this.o[t],e&&"object"==typeof e?(r=this.h.parseDelta(t,e),{start:r.start.value,end:r.end.value,delta:r.delta,units:r.end.unit}):(r=parseFloat(e||this.defaults[t]),{start:r,end:r,delta:0,units:"px"})},e.prototype.setProgress=function(t){var r,i,s,n;return r=this.positionDelta.angle,this.o.isSwirl&&(r+=this.getSwirl(t)),i=this.h.getRadialPoint({angle:r,radius:this.positionDelta.radius*t*this.props.radiusScale,center:{x:this.positionDelta.x.start,y:this.positionDelta.y.start}}),s=i.x.toFixed(4),n=i.y.toFixed(4),this.props.x=this.o.ctx?s:s+this.positionDelta.x.units,this.props.y=this.o.ctx?n:n+this.positionDelta.y.units,e.__super__.setProgress.apply(this,arguments)},e.prototype.generateSwirl=function(){var t,e;return this.props.signRand=Math.round(this.h.rand(0,1))?-1:1,null==(t=this.o).swirlSize&&(t.swirlSize=10),null==(e=this.o).swirlFrequency&&(e.swirlFrequency=3),this.props.swirlSize=this.h.parseIfRand(this.o.swirlSize),this.props.swirlFrequency=this.h.parseIfRand(this.o.swirlFrequency)},e.prototype.getSwirl=function(t){return this.props.signRand*this.props.swirlSize*Math.sin(this.props.swirlFrequency*t)},e}(s),e.exports=i},{"./transit":23}],23:[function(t,e,r){var i,s,n,o,p,a=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty;p=t("./h"),o=t("./shapes/bitsMap"),n=t("./tween/tween"),i=t("./tween/timeline"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.progress=0,e.prototype.defaults={strokeWidth:2,strokeOpacity:1,strokeDasharray:0,strokeDashoffset:0,stroke:"transparent",fill:"deeppink",fillOpacity:"transparent",strokeLinecap:"",points:3,x:0,y:0,shiftX:0,shiftY:0,opacity:1,radius:{0:50},radiusX:void 0,radiusY:void 0,angle:0,size:null,sizeGap:0,onStart:null,onComplete:null,onUpdate:null,duration:500,delay:0,repeat:0,yoyo:!1,easing:"Linear.None"},e.prototype.vars=function(){var t;return null==this.h&&(this.h=p),null==this.lastSet&&(this.lastSet={}),this.index=this.o.index||0,null==this.runCount&&(this.runCount=0),this.extendDefaults(),t=this.h.cloneObj(this.o),this.h.extend(t,this.defaults),this.history=[t],this.isForeign=!!this.o.ctx,this.isForeignBit=!!this.o.bit,this.timelines=[]},e.prototype.render=function(){return this.isRendered||(this.isForeign||this.isForeignBit?(this.ctx=this.o.ctx,this.createBit(),this.calcSize()):(this.ctx=document.createElementNS(this.ns,"svg"),this.ctx.style.position="absolute",this.ctx.style.width="100%",this.ctx.style.height="100%",this.createBit(),this.calcSize(),this.el=document.createElement("div"),this.el.appendChild(this.ctx),(this.o.parent||document.body).appendChild(this.el)),this.isRendered=!0),this.setElStyles(),this.setProgress(0,!0),this.createTween(),this},e.prototype.setElStyles=function(){var t,e,r;return this.isForeign||(r=this.props.size+"px",t=-this.props.size/2+"px",this.el.style.position="absolute",this.el.style.top=this.props.y,this.el.style.left=this.props.x,this.el.style.width=r,this.el.style.height=r,this.el.style["margin-left"]=t,this.el.style["margin-top"]=t,this.el.style.marginLeft=t,this.el.style.marginTop=t),null!=(e=this.el)&&(e.style.opacity=this.props.opacity),this.o.isShowInit?this.show():this.hide()},e.prototype.show=function(){if(!this.isShown&&null!=this.el)return this.el.style.display="block",this.isShown=!0},e.prototype.hide=function(){if(!1!==this.isShown&&null!=this.el)return this.el.style.display="none",this.isShown=!1},e.prototype.draw=function(){return this.bit.setProp({x:this.origin.x,y:this.origin.y,stroke:this.props.stroke,"stroke-width":this.props.strokeWidth,"stroke-opacity":this.props.strokeOpacity,"stroke-dasharray":this.props.strokeDasharray,"stroke-dashoffset":this.props.strokeDashoffset,"stroke-linecap":this.props.strokeLinecap,fill:this.props.fill,"fill-opacity":this.props.fillOpacity,radius:this.props.radius,radiusX:this.props.radiusX,radiusY:this.props.radiusY,points:this.props.points,transform:this.calcTransform()}),this.bit.draw(),this.drawEl()},e.prototype.drawEl=function(){return null==this.el||(this.isPropChanged("opacity")&&(this.el.style.opacity=this.props.opacity),!this.isForeign&&(this.isPropChanged("x")&&(this.el.style.left=this.props.x),this.isPropChanged("y")&&(this.el.style.top=this.props.y),this.isNeedsTransform())?this.h.setPrefixedStyle(this.el,"transform",this.fillTransform()):void 0)},e.prototype.fillTransform=function(){return"translate("+this.props.shiftX+", "+this.props.shiftY+")"},e.prototype.isNeedsTransform=function(){var t,e;return t=this.isPropChanged("shiftX"),e=this.isPropChanged("shiftY"),t||e},e.prototype.isPropChanged=function(t){var e;return null==(e=this.lastSet)[t]&&(e[t]={}),this.lastSet[t].value!==this.props[t]&&(this.lastSet[t].value=this.props[t],!0)},e.prototype.calcTransform=function(){return this.props.transform="rotate("+this.props.angle+","+this.origin.x+","+this.origin.y+")"},e.prototype.calcSize=function(){var t,e,r,i;if(!this.o.size){switch(r=this.calcMaxRadius(),e=this.deltas.strokeWidth,i=null!=e?Math.max(Math.abs(e.start),Math.abs(e.end)):this.props.strokeWidth,this.props.size=2*r+2*i,"function"==typeof(t=this.props.easing).toLowerCase?t.toLowerCase():void 0){case"elastic.out":case"elastic.inout":this.props.size*=1.25;break;case"back.out":case"back.inout":this.props.size*=1.1}return this.props.size*=this.bit.ratio,this.props.size+=2*this.props.sizeGap,this.props.center=this.props.size/2}},e.prototype.calcMaxRadius=function(){var t,e,r;return t=this.getRadiusSize({key:"radius"}),e=this.getRadiusSize({key:"radiusX",fallback:t}),r=this.getRadiusSize({key:"radiusY",fallback:t}),Math.max(e,r)},e.prototype.getRadiusSize=function(t){return null!=this.deltas[t.key]?Math.max(Math.abs(this.deltas[t.key].end),Math.abs(this.deltas[t.key].start)):null!=this.props[t.key]?parseFloat(this.props[t.key]):t.fallback||0},e.prototype.createBit=function(){var t;if(t=o.getBit(this.o.type||this.type),this.bit=new t({ctx:this.ctx,el:this.o.bit,isDrawLess:!0}),this.isForeign||this.isForeignBit)return this.el=this.bit.el},e.prototype.setProgress=function(t,e){return e||(this.show(),"function"==typeof this.onUpdate&&this.onUpdate(t)),this.progress=t<0||!t?0:t>1?1:t,this.calcCurrentProps(t),this.calcOrigin(),this.draw(t),this},e.prototype.calcCurrentProps=function(t){var e,r,i,s,n,o,p,a,h,u,l,c,f,d;for(a=Object.keys(this.deltas),h=a.length,l=[];h--;)p=a[h],d=this.deltas[p],l.push(this.props[p]=function(){var p,a,h;switch(d.type){case"array":for(c=[],h=d.delta,n=p=0,a=h.length;p<a;n=++p)o=h[n],i=d.start[n].value+o.value*this.progress,c.push({value:i,unit:o.unit});return c;case"number":return d.start+d.delta*t;case"unit":return f=d.end.unit,""+(d.start.value+d.delta*t)+f;case"color":return u=parseInt(d.start.r+d.delta.r*t,10),s=parseInt(d.start.g+d.delta.g*t,10),r=parseInt(d.start.b+d.delta.b*t,10),e=parseInt(d.start.a+d.delta.a*t,10),"rgba("+u+","+s+","+r+","+e+")"}}.call(this));return l},e.prototype.calcOrigin=function(){return this.origin=this.o.ctx?{x:parseFloat(this.props.x),y:parseFloat(this.props.y)}:{x:this.props.center,y:this.props.center}},e.prototype.extendDefaults=function(t){var e,r,i,s,n,o,p,a,h,u,l,c,f,d;for(null==this.props&&(this.props={}),i=t||this.defaults,null==t&&(this.deltas={}),p=Object.keys(i),a=p.length;a--;)if(o=p[a],r=i[o],null==(c=this.skipProps)||!c[o])if(t?(this.o[o]=r,u=r,delete this.deltas[o]):u=null!=this.o[o]?this.o[o]:r,this.isDelta(u))this.isSkipDelta||this.getDelta(o,u);else if("string"==typeof u&&u.match(/stagger/)&&(u=this.h.parseStagger(u,this.index)),"string"==typeof u&&u.match(/rand/)&&(u=this.h.parseRand(u)),this.props[o]=u,"radius"===o&&(null==this.o.radiusX&&(this.props.radiusX=u),null==this.o.radiusY&&(this.props.radiusY=u)),this.h.posPropsMap[o]&&(this.props[o]=this.h.parseUnit(this.props[o]).string),this.h.strokeDashPropsMap[o]){switch(l=this.props[o],d=[],typeof l){case"number":d.push(this.h.parseUnit(l));break;case"string":for(e=this.props[o].split(" "),s=n=0,h=e.length;n<h;s=++n)f=e[s],d.push(this.h.parseUnit(f))}this.props[o]=d}return this.onUpdate=this.props.onUpdate},e.prototype.isDelta=function(t){var e;return e=null!=t&&"object"==typeof t,!(!(e=e&&!t.unit)||this.h.isArray(t)||p.isDOM(t))},e.prototype.getDelta=function(t,e){var r,i;if("x"!==t&&"y"!==t||this.o.ctx||this.h.warn("Consider to animate shiftX/shiftY properties instead of x/y, as it would be much more performant",e),null==(i=this.skipPropsDelta)||!i[t])return r=this.h.parseDelta(t,e,this.defaults[t]),null!=r.type&&(this.deltas[t]=r),this.props[t]=r.start},e.prototype.mergeThenOptions=function(t,e){var r,i,s,n,o,p,a,h,u;p={};for(n in t)u=t[n],!this.h.tweenOptionMap[n]&&!this.h.callbacksMap[n]||"duration"===n?p[n]=u:p[n]="easing"===n?"":void 0;for(o=Object.keys(e),i=o.length;i--;)n=o[i],r=e[n],s="function"==typeof r,this.h.tweenOptionMap[n]||"object"==typeof r||s?p[n]=null!=r?r:t[n]:(a=t[n],null==a&&(a=this.defaults[n]),"radiusX"!==n&&"radiusY"!==n||null!=a||(a=t.radius),"object"==typeof a&&null!=a&&(h=Object.keys(a),a=a[h[0]]),null!=r&&(p[n]={},p[n][a]=r));return p},e.prototype.then=function(t){var e,r,i,s,o,p;if(null!=t&&Object.keys(t)){for(o=this.mergeThenOptions(this.history[this.history.length-1],t),this.history.push(o),i=Object.keys(this.h.tweenOptionMap),e=i.length,p={};e--;)p[i[e]]=o[i[e]];return r=this,s=r.history.length,function(e){return function(i){return p.onUpdate=function(t){return e.setProgress(t)},p.onStart=function(){var t;return null!=(t=e.props.onStart)?t.apply(e):void 0},p.onComplete=function(){var t;return null!=(t=e.props.onComplete)?t.apply(e):void 0},p.onFirstUpdate=function(){return r.tuneOptions(r.history[this.index])},p.isChained=!t.delay,e.timeline.append(new n(p))}}(this)(s),this}},e.prototype.tuneOptions=function(t){return this.extendDefaults(t),this.calcSize(),this.setElStyles()},e.prototype.createTween=function(){return this,this.createTimeline(),this.timeline=new i({onComplete:function(t){return function(){var e;return!t.o.isShowEnd&&t.hide(),null!=(e=t.props.onComplete)?e.apply(t):void 0}}(this)}),this.timeline.add(this.tween),!this.o.isRunLess&&this.startTween()},e.prototype.createTimeline=function(){return this.tween=new n({duration:this.props.duration,delay:this.props.delay,repeat:this.props.repeat,yoyo:this.props.yoyo,easing:this.props.easing,onUpdate:function(t){return function(e){return t.setProgress(e)}}(this),onStart:function(t){return function(){var e;return t.show(),null!=(e=t.props.onStart)?e.apply(t):void 0}}(this),onFirstUpdateBackward:function(t){return function(){return t.history.length>1&&t.tuneOptions(t.history[0])}}(this),onReverseComplete:function(t){return function(){var e;return!t.o.isShowInit&&t.hide(),null!=(e=t.props.onReverseComplete)?e.apply(t):void 0}}(this)})},e.prototype.run=function(t){var e,r,i;if(this.runCount++,t&&Object.keys(t).length){if(this.history.length>1)for(r=Object.keys(t),i=r.length;i--;)e=r[i],(p.callbacksMap[e]||p.tweenOptionMap[e])&&(p.warn('the property "'+e+'" property can not be overridden on run with "then" chain yet'),delete t[e]);this.transformHistory(t),this.tuneNewOption(t),t=this.h.cloneObj(this.o),this.h.extend(t,this.defaults),this.history[0]=t,!this.o.isDrawLess&&this.setProgress(0,!0)}else this.tuneNewOption(this.history[0]);return this.startTween()},e.prototype.transformHistory=function(t){var e,r,i,s,n,o,p,a,h,u,l,c;for(n=Object.keys(t),r=-1,o=n.length,e=this.history.length,a=[];++r<o;)s=n[r],i=0,a.push(function(){var r;for(r=[];++i<e;){if("object"==typeof(p=this.history[i][s])){l=Object.keys(p),h=p[l[0]],delete this.history[i][s][l[0]],"object"==typeof t[s]?(c=Object.keys(t[s]),u=t[s][c[0]],this.history[i][s][u]=h):this.history[i][s][t[s]]=h;break}r.push(this.history[i][s]=t[s])}return r}.call(this))
;return a},e.prototype.tuneNewOption=function(t,e){if(null!=t&&null!=t.type&&t.type!==(this.o.type||this.type)&&(this.h.warn("Sorry, type can not be changed on run"),delete t.type),null!=t&&Object.keys(t).length)return this.extendDefaults(t),this.resetTimeline(),!e&&this.timeline.recalcDuration(),this.calcSize(),!e&&this.setElStyles()},e.prototype.startTween=function(){return setTimeout(function(t){return function(){var e;return null!=(e=t.timeline)?e.start():void 0}}(this),1)},e.prototype.resetTimeline=function(){var t,e,r,i,s,n;for(n={},s=Object.keys(this.h.tweenOptionMap),t=e=0,i=s.length;e<i;t=++e)r=s[t],n[r]=this.props[r];return n.onStart=this.props.onStart,n.onComplete=this.props.onComplete,this.tween.setProp(n)},e.prototype.getBitLength=function(){return this.props.bitLength=this.bit.getLength(),this.props.bitLength},e}(o.map.bit),e.exports=s},{"./h":6,"./shapes/bitsMap":12,"./tween/timeline":24,"./tween/tween":25}],24:[function(t,e,r){var i,s,n,o=[].slice;s=t("../h"),n=t("./tweener"),i=function(){function t(t){this.o=null!=t?t:{},this.vars(),this._extendDefaults()}return t.prototype.state="stop",t.prototype.defaults={repeat:0,delay:0},t.prototype.vars=function(){return this.timelines=[],this.props={time:0,repeatTime:0,shiftedRepeatTime:0},this.loop=s.bind(this.loop,this),this.onUpdate=this.o.onUpdate},t.prototype.add=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],this.pushTimelineArray(t),this},t.prototype.pushTimelineArray=function(t){var e,r,i,n,o;for(n=[],e=r=0,i=t.length;r<i;e=++r)o=t[e],s.isArray(o)?n.push(this.pushTimelineArray(o)):n.push(this.pushTimeline(o));return n},t.prototype._extendDefaults=function(){var t,e,r,i;e=this.defaults,r=[];for(t in e)i=e[t],r.push(this.props[t]=null!=this.o[t]?this.o[t]:i);return r},t.prototype.setProp=function(t){var e,r;for(e in t)r=t[e],this.props[e]=r;return this.recalcDuration()},t.prototype.pushTimeline=function(e,r){return e.timeline instanceof t&&(e=e.timeline),null!=r&&e.setProp({shiftTime:r}),this.timelines.push(e),this._recalcTimelineDuration(e)},t.prototype.remove=function(t){var e;if(-1!==(e=this.timelines.indexOf(t)))return this.timelines.splice(e,1)},t.prototype.append=function(){var t,e,r,i,n;for(i=1<=arguments.length?o.call(arguments,0):[],t=e=0,r=i.length;e<r;t=++e)n=i[t],s.isArray(n)?this._appendTimelineArray(n):this.appendTimeline(n,this.timelines.length);return this},t.prototype._appendTimelineArray=function(t){var e,r,i,s;for(e=t.length,s=this.props.repeatTime-this.props.delay,r=this.timelines.length,i=[];e--;)i.push(this.appendTimeline(t[e],r,s));return i},t.prototype.appendTimeline=function(t,e,r){var i;return i=null!=r?r:this.props.time,i+=t.props.shiftTime||0,t.index=e,this.pushTimeline(t,i)},t.prototype.recalcDuration=function(){var t,e;for(t=this.timelines.length,this.props.time=0,this.props.repeatTime=0,this.props.shiftedRepeatTime=0,e=[];t--;)e.push(this._recalcTimelineDuration(this.timelines[t]));return e},t.prototype._recalcTimelineDuration=function(t){var e;return e=t.props.repeatTime+(t.props.shiftTime||0),this.props.time=Math.max(e,this.props.time),this.props.repeatTime=(this.props.time+this.props.delay)*(this.props.repeat+1),this.props.shiftedRepeatTime=this.props.repeatTime+(this.props.shiftTime||0),this.props.shiftedRepeatTime-=this.props.delay},t.prototype.update=function(t,e){return t>this.props.endTime&&(t=this.props.endTime),!(t!==this.props.endTime||!this.isCompleted)||(this._updateTimelines(t,e),this._checkCallbacks(t))},t.prototype._updateTimelines=function(t,e){var r,i,s,n,o;if(n=this.props.startTime-this.props.delay,r=(t-n)%(this.props.delay+this.props.time),null!=(o=t===this.props.endTime?this.props.endTime:n+r>=this.props.startTime?t>=this.props.endTime?this.props.endTime:n+r:t>this.props.startTime+this.props.time?this.props.startTime+this.props.time:null))for(i=-1,s=this.timelines.length-1;i++<s;)null==e&&(e=t>(this._previousUpdateTime||0)),this.timelines[i].update(o,e);return this._previousUpdateTime=t},t.prototype._checkCallbacks=function(t){var e,r,i;if(this.prevTime!==t)return(!this.prevTime||this.isCompleted&&!this.isStarted)&&(null!=(e=this.o.onStart)&&e.apply(this),this.isStarted=!0,this.isCompleted=!1),t>=this.props.startTime&&t<this.props.endTime&&"function"==typeof this.onUpdate&&this.onUpdate((t-this.props.startTime)/this.props.repeatTime),this.prevTime>t&&t<=this.props.startTime&&null!=(r=this.o.onReverseComplete)&&r.apply(this),this.prevTime=t,t!==this.props.endTime||this.isCompleted?void 0:("function"==typeof this.onUpdate&&this.onUpdate(1),null!=(i=this.o.onComplete)&&i.apply(this),this.isCompleted=!0,this.isStarted=!1,!0)},t.prototype.start=function(t){return this.setStartTime(t),!t&&(n.add(this),this.state="play"),this},t.prototype.pause=function(){return this.removeFromTweener(),this.state="pause",this},t.prototype.stop=function(){return this.removeFromTweener(),this.setProgress(0),this.state="stop",this},t.prototype.restart=function(){return this.stop(),this.start()},t.prototype.removeFromTweener=function(){return n.remove(this),this},t.prototype.setStartTime=function(t){return this.getDimentions(t),this.startTimelines(this.props.startTime)},t.prototype.startTimelines=function(t){var e,r;for(e=this.timelines.length,null==t&&(t=this.props.startTime),r=[];e--;)r.push(this.timelines[e].start(t));return r},t.prototype.setProgress=function(t){return null==this.props.startTime&&this.setStartTime(),t=s.clamp(t,0,1),this.update(this.props.startTime+t*this.props.repeatTime)},t.prototype.getDimentions=function(t){return null==t&&(t=performance.now()),this.props.startTime=t+this.props.delay+(this.props.shiftTime||0),this.props.endTime=this.props.startTime+this.props.shiftedRepeatTime,this.props.endTime-=this.props.shiftTime||0},t}(),e.exports=i},{"../h":6,"./tweener":26}],25:[function(t,e,r){var i,s,n,o;n=t("../h"),o=t("./tweener"),s=t("../easing/easing"),i=function(){function t(t){this.o=null!=t?t:{},this.extendDefaults(),this.vars()}return t.prototype.defaults={duration:600,delay:0,repeat:0,yoyo:!1,easing:"Linear.None",onStart:null,onComplete:null,onReverseComplete:null,onFirstUpdate:null,onUpdate:null,onFirstUpdateBackward:null,isChained:!1},t.prototype.vars=function(){return this.h=n,this.progress=0,this.prevTime=0,this.calcDimentions()},t.prototype.calcDimentions=function(){return this.props.time=this.props.duration+this.props.delay,this.props.repeatTime=this.props.time*(this.props.repeat+1)},t.prototype.extendDefaults=function(){var t,e,r;this.props={},e=this.defaults;for(t in e)r=e[t],this.props[t]=null!=this.o[t]?this.o[t]:r;return this.props.easing=s.parseEasing(this.o.easing||this.defaults.easing),this.onUpdate=this.props.onUpdate},t.prototype.start=function(t){return this.isCompleted=!1,this.isStarted=!1,null==t&&(t=performance.now()),this.props.startTime=t+this.props.delay+(this.props.shiftTime||0),this.props.endTime=this.props.startTime+this.props.repeatTime-this.props.delay,this},t.prototype.update=function(t,e){var r,i,s,n,o;return t>=this.props.startTime&&t<this.props.endTime?(this.isOnReverseComplete=!1,this.isCompleted=!1,this.isFirstUpdate||(null!=(r=this.props.onFirstUpdate)&&r.apply(this),this.isFirstUpdate=!0),this.isStarted||(null!=(i=this.props.onStart)&&i.apply(this),this.isStarted=!0),this._updateInActiveArea(t),t<this.prevTime&&!this.isFirstUpdateBackward&&(null!=(s=this.props.onFirstUpdateBackward)&&s.apply(this),this.isFirstUpdateBackward=!0)):(t>=this.props.endTime&&!this.isCompleted&&this._complete(),t>this.props.endTime&&(this.isFirstUpdate=!1),t>this.props.endTime&&(this.isFirstUpdateBackward=!1)),t<this.prevTime&&t<=this.props.startTime&&(this.isFirstUpdateBackward||(null!=(n=this.props.onFirstUpdateBackward)&&n.apply(this),this.isFirstUpdateBackward=!0),e?this._complete():this.isOnReverseComplete||(this.isOnReverseComplete=!0,this.setProgress(0,!this.props.isChained),null!=(o=this.props.onReverseComplete)&&o.apply(this)),this.isFirstUpdate=!1),this.prevTime=t,this.isCompleted},t.prototype._complete=function(){var t;return this.setProgress(1),null!=(t=this.props.onComplete)&&t.apply(this),this.isCompleted=!0,this.isStarted=!1,this.isOnReverseComplete=!1},t.prototype._updateInActiveArea=function(t){var e,r,i,s,n;return n=this.props.startTime-this.props.delay,r=(t-n)%(this.props.delay+this.props.duration),e=Math.floor((t-n)/(this.props.delay+this.props.duration)),n+r>=this.props.startTime?(i=(t-this.props.startTime)%(this.props.delay+this.props.duration),s=i/this.props.duration,this.setProgress(this.props.yoyo?e%2==0?s:1-(1===s?0:s):s)):this.setProgress(this.prevTime<t?1:0)},t.prototype.setProgress=function(t,e){return null==e&&(e=!0),this.progress=t,this.easedProgress=this.props.easing(this.progress),this.props.prevEasedProgress!==this.easedProgress&&e&&"function"==typeof this.onUpdate&&this.onUpdate(this.easedProgress,this.progress),this.props.prevEasedProgress=this.easedProgress},t.prototype.setProp=function(t,e){var r,i;if("object"==typeof t)for(r in t)i=t[r],this.props[r]=i,"easing"===r&&(this.props.easing=s.parseEasing(this.props.easing));else"string"==typeof t&&("easing"===t?this.props.easing=s.parseEasing(e):this.props[t]=e);return this.calcDimentions()},t.prototype.run=function(t){return this.start(t),!t&&o.add(this),this},t.prototype.stop=function(){return this.pause(),this.setProgress(0),this},t.prototype.pause=function(){return this._removeFromTweener(),this},t.prototype._removeFromTweener=function(){return o.remove(this),this},t}(),e.exports=i},{"../easing/easing":3,"../h":6,"./tweener":26}],26:[function(t,e,r){var i,s,n,o;t("../polyfills/raf"),t("../polyfills/performance"),s=t("../h"),n=0,i=function(){function t(){this.vars()}return t.prototype.vars=function(){return this.tweens=[],this.loop=s.bind(this.loop,this)},t.prototype.loop=function(){var t;return!!this.isRunning&&(t=performance.now(),this.update(t),this.tweens.length?(requestAnimationFrame(this.loop),this):this.isRunning=!1)},t.prototype.startLoop=function(){if(!this.isRunning)return this.isRunning=!0,requestAnimationFrame(this.loop)},t.prototype.stopLoop=function(){return this.isRunning=!1},t.prototype.update=function(t){var e;for(n=this.tweens.length,e=[];n--;)!0===this.tweens[n].update(t)?e.push(this.remove(n)):e.push(void 0);return e},t.prototype.add=function(t){return this.tweens.push(t),this.startLoop()},t.prototype.removeAll=function(){return this.tweens.length=0},t.prototype.remove=function(t){var e;if(-1!==(e="number"==typeof t?t:this.tweens.indexOf(t)))return this.tweens.splice(e,1)},t}(),o=new i,e.exports=o},{"../h":6,"../polyfills/performance":9,"../polyfills/raf":10}],27:[function(e,r,i){!function(){var e;e=function(){function t(t){this.o=null!=t?t:{},window.isAnyResizeEventInited||(this.vars(),this.redefineProto())}return t.prototype.vars=function(){return window.isAnyResizeEventInited=!0,this.allowedProtos=[HTMLDivElement,HTMLFormElement,HTMLLinkElement,HTMLBodyElement,HTMLParagraphElement,HTMLFieldSetElement,HTMLLegendElement,HTMLLabelElement,HTMLButtonElement,HTMLUListElement,HTMLOListElement,HTMLLIElement,HTMLHeadingElement,HTMLQuoteElement,HTMLPreElement,HTMLBRElement,HTMLFontElement,HTMLHRElement,HTMLModElement,HTMLParamElement,HTMLMapElement,HTMLTableElement,HTMLTableCaptionElement,HTMLImageElement,HTMLTableCellElement,HTMLSelectElement,HTMLInputElement,HTMLTextAreaElement,HTMLAnchorElement,HTMLObjectElement,HTMLTableColElement,HTMLTableSectionElement,HTMLTableRowElement],this.timerElements={img:1,textarea:1,input:1,embed:1,object:1,svg:1,canvas:1,tr:1,tbody:1,thead:1,tfoot:1,a:1,select:1,option:1,optgroup:1,dl:1,dt:1,br:1,basefont:1,font:1,col:1,iframe:1}},t.prototype.redefineProto=function(){var t,e,r;return e=this,function(){var i,s,n,o;for(n=this.allowedProtos,o=[],t=i=0,s=n.length;i<s;t=++i)r=n[t],null!=r.prototype&&o.push(function(t){var r,i;return r=t.prototype.addEventListener||t.prototype.attachEvent,function(r){var i;i=function(){return this===window&&this===document||"onresize"===arguments[0]&&!this.isAnyResizeEventInited&&e.handleResize({args:arguments,that:this}),r.apply(this,arguments)},t.prototype.addEventListener?t.prototype.addEventListener=i:t.prototype.attachEvent&&(t.prototype.attachEvent=i)}(r),i=t.prototype.removeEventListener||t.prototype.detachEvent,function(e){var r;return r=function(){return this.isAnyResizeEventInited=!1,this.iframe&&this.removeChild(this.iframe),e.apply(this,arguments)},t.prototype.removeEventListener?t.prototype.removeEventListener=r:t.prototype.detachEvent?t.prototype.detachEvent=wrappedListener:void 0}(i)}(r));return o}.call(this)},t.prototype.handleResize=function(t){var e,r,i,s,n,o,p;return r=t.that,this.timerElements[r.tagName.toLowerCase()]?this.initTimer(r):(i=document.createElement("iframe"),r.appendChild(i),i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.zIndex=-999,i.style.opacity=0,i.style.top=0,i.style.left=0,e=window.getComputedStyle?getComputedStyle(r):r.currentStyle,n=""===r.style.position,o="static"===e.position&&n,s=""===e.position&&""===r.style.position,(o||s)&&(r.style.position="relative"),null!=(p=i.contentWindow)&&(p.onresize=function(t){return function(e){return t.dispatchEvent(r)}}(this)),r.iframe=i),r.isAnyResizeEventInited=!0},t.prototype.initTimer=function(t){var e,r;return r=0,e=0,this.interval=setInterval(function(i){return function(){var s,n;if(n=t.offsetWidth,s=t.offsetHeight,n!==r||s!==e)return i.dispatchEvent(t),r=n,e=s}}(this),this.o.interval||62.5)},t.prototype.dispatchEvent=function(t){var e;return document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent("onresize",!1,!1),t.dispatchEvent(e)):!!document.createEventObject&&(e=document.createEventObject(),t.fireEvent("onresize",e))},t.prototype.destroy=function(){var t,e,r,i,s,n;for(clearInterval(this.interval),this.interval=null,window.isAnyResizeEventInited=!1,this,s=this.allowedProtos,n=[],t=e=0,r=s.length;e<r;t=++e)i=s[t],null!=i.prototype&&n.push(function(t){return t.prototype.addEventListener||t.prototype.attachEvent,t.prototype.addEventListener?t.prototype.addEventListener=Element.prototype.addEventListener:t.prototype.attachEvent&&(t.prototype.attachEvent=Element.prototype.attachEvent),t.prototype.removeEventListener?t.prototype.removeEventListener=Element.prototype.removeEventListener:t.prototype.detachEvent?t.prototype.detachEvent=Element.prototype.detachEvent:void 0}(i));return n},t}(),"function"==typeof t&&t.amd?t("any-resize-event",[],function(){return new e}):"object"==typeof r&&"object"==typeof r.exports?r.exports=new e:("undefined"!=typeof window&&null!==window&&(window.AnyResizeEvent=e),"undefined"!=typeof window&&null!==window&&(window.anyResizeEvent=new e))}()},{}]},{},[7])(7)});

/* COMBO: filename = plugin/codemirror/core.min.js, type = application/javascript, resp = 200 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,r,i){var o=n(e,t,r,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function l(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function a(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function f(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Yl.length<=e;)Yl.push(g(Yl)+" ");return Yl[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&c(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||_l.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&ql.test(e)}function L(e,t,r){for(;(r<0?t>0:t<e.length)&&S(e.charAt(t));)t+=r;return t}function k(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function T(e,t,r){var o=this;this.input=r,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[l],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Ul+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),yl&&bl<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),wl||pl&&Ol||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,r.init(o)}function M(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function N(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function O(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function A(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function W(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function D(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return r+l}function H(e,t){return t>=e.first&&t<e.first+e.size}function F(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function P(e,t,r){if(void 0===r&&(r=null),!(this instanceof P))return new P(e,t,r);this.line=e,this.ch=t,this.sticky=r}function E(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==E(e,t)}function z(e){return P(e.line,e.ch)}function R(e,t){return E(e,t)<0?t:e}function B(e,t){return E(e,t)<0?e:t}function G(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return P(e.first,0);var r=e.first+e.size-1;return t.line>r?P(r,M(e,r).text.length):V(t,M(e,t.line).text.length)}function V(e,t){var r=e.ch;return null==r||r>t?P(e.line,t):r<0?P(e.line,0):e}function K(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=U(e,t[n]);return r}function j(){$l=!0}function X(){Zl=!0}function Y(e,t,r){this.marker=e,this.from=t,this.to=r}function _(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function q(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function $(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Y(l,o.from,a?null:o.to))}}return n}function Q(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Y(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function J(e,t){if(t.full)return null;var r=H(e,t.from.line)&&M(e,t.from.line).markedSpans,n=H(e,t.to.line)&&M(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==E(t.from,t.to),s=Z(r,i,l),a=Q(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=_(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=_(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=ee(s)),a&&a!=s&&(a=ee(a));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new Y(s[x].marker,null,null));for(var C=0;C<w;++C)y.push(b);y.push(a)}return y}function ee(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=h(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(E(u.to,s.from)<0||E(u.from,s.to)>0)){var c=[a,1],f=E(u.from,s.from),d=E(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function le(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=E(n.from,i.from)||ie(e)-ie(t);if(o)return-o;var l=E(n.to,i.to)||oe(e)-oe(t);return l||t.id-e.id}function se(e,t){var r,n=Zl&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||le(r,i.marker)<0)&&(r=i.marker);return r}function ae(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,t,r,n,i){var o=M(e,t),l=Zl&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=E(u.from,r)||ie(a.marker)-ie(i),f=E(u.to,n)||oe(a.marker)-oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?E(u.to,r)>=0:E(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?E(u.from,n)<=0:E(u.from,n)<0)))return!0}}}function fe(e){for(var t;t=ae(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function de(e){for(var t,r;t=ue(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function pe(e,t){var r=M(e,t),n=fe(r);return r==n?t:W(n)}function ge(e,t){if(t>e.lastLine())return t;var r,n=M(e,t);if(!ve(e,n))return t;for(;r=ue(n);)n=r.find(1,!0).line;return W(n)+1}function ve(e,t){var r=Zl&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&me(e,t,n))return!0}}function me(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return me(e,n.line,_(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&me(e,t,i))return!0}function ye(e){e=fe(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function be(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=ae(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=ue(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function we(e){var t=e.display,r=e.doc;t.maxLine=M(r,r.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=be(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function xe(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}function Ce(e,t,r){var n;Ql=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:Ql=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:Ql=i)}return null!=n?n:Ql}function Se(e,t){var r=e.order;return null==r&&(r=e.order=Jl(e.text,t)),r}function Le(e,t){return e._handlers&&e._handlers[t]||es}function ke(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Te(e,t){var r=Le(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Me(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Te(e,r||t.type,e,t),He(t)||t.codemirrorIgnore}function Ne(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==h(r,t[n])&&r.push(t[n])}function Oe(e,t){return Le(e,t).length>0}function Ae(e){e.prototype.on=function(e,t){ts(this,e,t)},e.prototype.off=function(e,t){ke(this,e,t)}}function We(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function De(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function He(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){We(e),De(e)}function Pe(e){return e.target||e.srcElement}function Ee(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Al&&e.ctrlKey&&1==t&&(t=3),t}function Ie(e){if(null==Bl){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Bl=t.offsetWidth<=1&&t.offsetHeight>2&&!(yl&&bl<8))}var i=Bl?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ze(e){if(null!=Gl)return Gl;var n=r(e,document.createTextNode("AخA")),i=Fl(n,0,1).getBoundingClientRect(),o=Fl(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Gl=o.right-i.right<3)}function Re(e){if(null!=ls)return ls;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=Fl(t,0,1).getBoundingClientRect();return ls=Math.abs(i.left-o.left)>1}function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ss[e]=t}function Ge(e,t){as[e]=t}function Ue(e){if("string"==typeof e&&as.hasOwnProperty(e))e=as[e];else if(e&&"string"==typeof e.name&&as.hasOwnProperty(e.name)){var t=as[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=Ue(t);var r=ss[t.name];if(!r)return Ve(e,"text/plain");var n=r(e,t);if(us.hasOwnProperty(t.name)){var i=us[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function Ke(e,t){c(t,us.hasOwnProperty(e)?us[e]:us[e]={})}function je(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Xe(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ye(e,t,r){return!e.startState||e.startState(t,r)}function _e(e,t,r,n){var i=[e.state.modeGen],o={};rt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=0;s<e.state.overlays.length;++s)!function(n){r.baseTokens=i;var s=e.state.overlays[n],a=1,u=0;r.state=!0,rt(e,t.text,s.mode,r,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o),r.state=l,r.baseTokens=null,r.baseTokenPos=1}(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function qe(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=$e(e,W(t)),i=t.text.length>e.options.maxHighlightLength&&je(e.doc.mode,n.state),o=_e(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function $e(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new hs(n,!0,t);var o=nt(e,t,r),l=o>n.first&&M(n,o-1).stateAfter,s=l?hs.fromSaved(n,l,o):new hs(n,Ye(n.mode),o);return n.iter(o,t,function(r){Ze(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function Ze(e,t,r,n){var i=e.doc.mode,o=new cs(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Qe(i,r.state);!o.eol();)Je(i,o,r.state),o.start=o.pos}function Qe(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Xe(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Je(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Xe(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,r,n){var i,o=e.doc,l=o.mode;t=U(o,t);var s,a=M(o,t.line),u=$e(e,t.line,r),c=new cs(a.text,e.options.tabSize,u);for(n&&(s=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Je(l,c,u.state),n&&s.push(new ds(c,i,je(o.mode,u.state)));return n?s:new ds(c,i,u.state)}function tt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function rt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new cs(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&tt(Qe(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&Ze(e,t,n,f.pos),f.pos=t.length,a=null):a=tt(Je(r,f,n.state,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)u=Math.min(f.start,u+5e3),i(u,c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function nt(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=M(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof fs?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function it(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=M(e,n).stateAfter;if(i&&(!(i instanceof fs)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}function ot(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ne(e,r);var i=n?n(e):1;i!=e.height&&A(e,i)}function lt(e){e.parent=null,re(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?ms:vs;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function at(e,t){var r=i("span",null,null,wl?"padding-right: .1px":null),n={pre:i("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(yl||wl)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=ct,ze(e.display.measure)&&(s=Se(l,e.doc.direction))&&(n.addToken=ht(n.addToken,s)),n.map=[];pt(l,n,qe(e,l,t!=e.display.externalMeasured&&W(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=a(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=a(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ie(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(wl){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Te(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=a(n.pre.className,n.textClass||"")),n}function ut(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?ft(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));yl&&bl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=a.appendChild(n("span",p(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),yl&&bl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),yl&&bl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function ft(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function ht(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&(f=t[h],!(f.to>u&&f.from<=u));h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function dt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||le(h.marker,C)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!h||h.from==p)for(var L=0;L<y.length;++L)dt(t,0,y[L]);if(h&&(h.from||0)==p){if(dt(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var k=Math.min(d,m);;){if(v){var T=p+v.length;if(!h){var M=T>k?v.slice(0,k-p):v;t.addToken(t,M,l?l+a:a,c,p+M.length==m?u:"",f,s)}if(T>=k){v=v.slice(k-p),p=k;break}p=T,c=""}v=i.slice(o,o=r[g++]),l=st(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),st(r[N+1],t.cm.options))}function gt(e,t,r){this.line=t,this.rest=de(t),this.size=this.rest?W(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function vt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new gt(e.doc,M(e.doc,o),o);n=o+l.size,i.push(l)}return i}function mt(e){ys?ys.ops.push(e):e.ownsGroup=ys={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function bt(e,t){var r=e.ownsGroup;if(r)try{yt(r)}finally{ys=null,t(r)}}function wt(e,t){var r=Le(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ys?n=ys.delayedCallbacks:bs?n=bs:(n=bs=[],setTimeout(xt,0));for(var o=0;o<r.length;++o)!function(e){n.push(function(){return r[e].apply(null,i)})}(o)}}function xt(){var e=bs;bs=null;for(var t=0;t<e.length;++t)e[t]()}function Ct(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Tt(e,t):"gutter"==o?Nt(e,t,r,n):"class"==o?Mt(e,t):"widget"==o&&Ot(e,t,n)}t.changes=null}function St(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),yl&&bl<8&&(e.node.style.zIndex=2)),e.node}function Lt(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=St(t);t.background=i.insertBefore(n("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function kt(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):at(e,t)}function Tt(e,t){var r=t.text.className,n=kt(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Mt(e,t)):r&&(t.text.className=r)}function Mt(e,t){Lt(e,t),t.line.wrapClass?St(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Nt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=St(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=St(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",F(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ot(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Wt(e,t,r)}function At(e,t,r,n){var i=kt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Mt(e,t),Nt(e,t,r,n),Wt(e,t,n),t.node}function Wt(e,t,r){if(Dt(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Dt(e,t.rest[n],t,r,!1)}function Dt(e,t,r,i,o){if(t.widgets)for(var l=St(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Ht(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),wt(u,"redraw")}}function Ht(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ft(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Pt(e,t){for(var r=Pe(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Et(e){return e.lineSpace.offsetTop}function It(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Rt(e){return Ul-e.display.nativeBarWidth}function Bt(e){return e.display.scroller.clientWidth-Rt(e)-e.display.barWidth}function Gt(e){return e.display.scroller.clientHeight-Rt(e)-e.display.barHeight}function Ut(e,t,r){var n=e.options.lineWrapping,i=n&&Bt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Vt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(W(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kt(e,t){t=fe(t);var n=W(t),i=e.display.externalMeasured=new gt(e.doc,t,n);i.lineN=n;var o=i.built=at(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function jt(e,t,r,n){return _t(e,Yt(e,t),r,n)}function Xt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Yt(e,t){var r=W(t),n=Xt(e,r);n&&!n.text?n=null:n&&n.changes&&(Ct(e,n,r,wr(e)),e.curOp.forceUpdate=!0),n||(n=Kt(e,t));var i=Vt(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function _t(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ut(e,t.view,t.rect),t.hasHeights=!0),o=Zt(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function qt(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function $t(e,t){var r=ws;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Zt(e,t,r,n){var i,o=qt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse
;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if(i=yl&&bl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():$t(Fl(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}yl&&bl<11&&(i=Qt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(yl&&bl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+br(e.display),top:h.top,bottom:h.bottom}:ws}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Qt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Re(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Jt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function er(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)Jt(e.display.view[r])}function tr(e){er(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function rr(){return Cl&&Nl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function nr(){return Cl&&Nl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ir(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ft(e.widgets[r]));return t}function or(e,t,r,n,i){if(!i){var o=ir(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ye(t);if("local"==n?l+=Et(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:nr());var a=s.left+("window"==n?0:rr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function lr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=rr(),i-=nr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function sr(e,t,r,n,i){return n||(n=M(e.doc,t.line)),or(e,n,jt(e,n,t.ch,i),r)}function ar(e,t,r,n,i,o){function l(t,l){var s=_t(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,or(e,n,s,r)}function s(e,t,r){var n=a[t],i=1==n.level;return l(r?e-1:e,i!=r)}n=n||M(e.doc,t.line),i||(i=Yt(e,n));var a=Se(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var f=Ce(a,u,c),h=Ql,d=s(u,f,"before"==c);return null!=h&&(d.other=s(u,h,"before"!=c)),d}function ur(e,t){var r=0;t=U(e.doc,t),e.options.lineWrapping||(r=br(e.display)*t.ch);var n=M(e.doc,t.line),i=ye(n)+Et(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function cr(e,t,r,n,i){var o=P(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function fr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return cr(n.first,0,null,!0,-1);var i=D(n,r),o=n.first+n.size-1;if(i>o)return cr(n.first+n.size-1,M(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=M(n,i);;){var s=gr(e,l,i,t,r),a=ue(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=W(l=u.to.line)}}function hr(e,t,r,n){n-=ir(t);var i=t.text.length,o=k(function(t){return _t(e,r,t-1).bottom<=n},i,0);return i=k(function(t){return _t(e,r,t).top>n},o,i),{begin:o,end:i}}function dr(e,t,r,n){return r||(r=Yt(e,t)),hr(e,t,r,or(e,t,_t(e,r,n),"line").top)}function pr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function gr(e,t,r,n,i){i-=ye(t);var o=Yt(e,t),l=ir(t),s=0,a=t.text.length,u=!0,c=Se(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?mr:vr)(e,t,r,o,c,n,i);u=1!=f.level,s=u?f.from:f.to-1,a=u?f.to:f.from-1}var h,d,p=null,g=null,v=k(function(t){var r=_t(e,o,t);return r.top+=l,r.bottom+=l,!!pr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",h=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":_t(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=ar(e,P(r,v,d),"line",t,o);h=w.left,m=i<w.top||i>=w.bottom}return v=L(t.text,v,1),cr(r,v,d,m,n-h)}function vr(e,t,r,n,i,o,l){var s=k(function(s){var a=i[s],u=1!=a.level;return pr(ar(e,P(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=ar(e,P(r,u?a.from:a.to,u?"after":"before"),"line",t,n);pr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function mr(e,t,r,n,i,o,l){var s=hr(e,t,n,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=a)){var p=1!=d.level,g=_t(e,n,p?Math.min(u,d.to)-1:Math.max(a,d.from)).right,v=g<o?o-g+1e9:g-o;(!c||f>v)&&(c=d,f=v)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function yr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==gs){gs=n("pre");for(var i=0;i<49;++i)gs.appendChild(document.createTextNode("x")),gs.appendChild(n("br"));gs.appendChild(document.createTextNode("x"))}r(e.measure,gs);var o=gs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function br(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function wr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:xr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function xr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cr(e){var t=yr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/br(e.display)-3);return function(i){if(ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Sr(e){var t=e.doc,r=Cr(e);t.iter(function(e){var t=r(e);t!=e.height&&A(e,t)})}function Lr(e,t,r,n){var i=e.display;if(!r&&"true"==Pe(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=fr(e,o,l);if(n&&1==u.xRel&&(a=M(e.doc,u.line).text).length==u.ch){var c=f(a,a.length,e.options.tabSize)-a.length;u=P(u.line,Math.max(0,Math.round((o-zt(e.display).left)/br(e.display))-c))}return u}function kr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Tr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Mr(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Nr(e,s.head,i),a||Ar(e,s,o)}}return n}function Nr(e,t,r){var i=ar(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Or(e,t){return e.top-t.top||e.left-t.left}function Ar(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return sr(e,P(t,r),"div",d,n)}function l(t,r,n){var i=dr(e,d,null,t),l="ltr"==r==("after"==n)?"left":"right";return o("after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),l)[l]}var a,u,d=M(s,t),p=d.text.length,g=Se(d,s.direction);return xe(g,r||0,null==n?p:n,function(e,t,s,d){var v="ltr"==s,m=o(e,v?"left":"right"),y=o(t-1,v?"right":"left"),b=null==r&&0==e,w=null==n&&t==p,x=0==d,C=!g||d==g.length-1;if(y.top-m.top<=3){var S=(h?b:w)&&x,L=(h?w:b)&&C,k=S?c:(v?m:y).left,T=L?f:(v?y:m).right;i(k,m.top,T-k,m.bottom)}else{var M,N,O,A;v?(M=h&&b&&x?c:m.left,N=h?f:l(e,s,"before"),O=h?c:l(t,s,"after"),A=h&&w&&C?f:y.right):(M=h?l(e,s,"before"):c,N=!h&&b&&x?f:m.right,O=!h&&w&&C?c:y.left,A=h?l(t,s,"after"):f),i(M,m.top,N-M,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(O,y.top,A-O,y.bottom)}(!a||Or(m,a)<0)&&(a=m),Or(y,a)<0&&(a=y),(!u||Or(m,u)<0)&&(u=m),Or(y,u)<0&&(u=y)}),{start:a,end:u}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=zt(e.display),c=u.left,f=Math.max(l.sizerWidth,Bt(e)-l.sizer.offsetLeft)-u.right,h="ltr"==s.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var g=M(s,d.line),v=M(s,p.line),m=fe(g)==fe(v),y=o(d.line,d.ch,m?g.text.length+1:null).end,b=o(p.line,m?0:null,p.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}r.appendChild(a)}function Wr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Dr(e){e.state.focused||(e.display.input.focus(),Fr(e))}function Hr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Pr(e))},100)}function Fr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Te(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),wl&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Wr(e))}function Pr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Te(e,"blur",e,t),e.state.focused=!1,Il(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Er(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(yl&&bl<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-r,r=l}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var a=i.line.height-o;if(o<2&&(o=yr(t)),(a>.005||a<-.005)&&(A(i.line,o),Ir(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Ir(i.rest[u])}}}function Ir(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function zr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Et(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=D(t,n),l=D(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=D(t,ye(M(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=D(t,ye(M(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Rr(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=xr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Br(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=F(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Dn(e),!0}return!1}function Gr(e,t){if(!Me(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Tl){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Et(e.display))+"px;\n                         height: "+(t.bottom-t.top+Rt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Ur(e,t,r,n){null==n&&(n=0);var i;e.options.lineWrapping||t!=r||(t=t.ch?P(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,r="before"==t.sticky?P(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=ar(e,t),a=r&&r!=t?ar(e,r):s;i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n};var u=Kr(e,i),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(Zr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Jr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(l=!0)),!l)break}return i}function Vr(e,t){var r=Kr(e,t);null!=r.scrollTop&&Zr(e,r.scrollTop),null!=r.scrollLeft&&Jr(e,r.scrollLeft)}function Kr(e,t){var r=e.display,n=yr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Gt(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+It(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=Bt(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?l.scrollLeft=0:t.left<f?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(l.scrollLeft=t.right+(d?0:10)-h),l}function jr(e,t){null!=t&&(qr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Xr(e){qr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Yr(e,t,r){null==t&&null==r||qr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function _r(e,t){qr(e),e.curOp.scrollToPos=t}function qr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;$r(e,ur(e,t.from),ur(e,t.to),t.margin)}}function $r(e,t,r,n){var i=Kr(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Yr(e,i.scrollLeft,i.scrollTop)}function Zr(e,t){Math.abs(e.doc.scrollTop-t)<2||(pl||An(e,{top:t}),Qr(e,t,!0),pl&&An(e),Sn(e,100))}function Qr(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Jr(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Rr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function en(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+It(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Rt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function tn(e,t){t||(t=en(e));var r=e.display.barWidth,n=e.display.barHeight;rn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Er(e),rn(e,en(e)),r=e.display.barWidth,n=e.display.barHeight}function rn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function nn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Il(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ss[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ts(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Jr(e,t):Zr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function on(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ls},mt(e.curOp)}function ln(e){bt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;sn(e)})}function sn(e){for(var t=e.ops,r=0;r<t.length;r++)an(t[r]);for(var n=0;n<t.length;n++)un(t[n]);for(var i=0;i<t.length;i++)cn(t[i]);for(var o=0;o<t.length;o++)fn(t[o]);for(var l=0;l<t.length;l++)hn(t[l])}function an(e){var t=e.cm,r=t.display;kn(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ks(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function un(e){e.updatedDisplay=e.mustUpdate&&Nn(e.cm,e.update)}function cn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Er(t),e.barMeasure=en(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=jt(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Rt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Bt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function fn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Jr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==l();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&tn(t,e.barMeasure),e.updatedDisplay&&Hn(t,e.barMeasure),e.selectionChanged&&Wr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Dr(e.cm)}function hn(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&On(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Qr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Jr(t,e.scrollLeft,!0,!0),e.scrollToPos){Gr(t,Ur(t,U(n,e.scrollToPos.from),U(n,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||Te(i[l],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Te(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Te(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function dn(e,t){if(e.curOp)return t();on(e);try{return t()}finally{ln(e)}}function pn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);on(e);try{return t.apply(e,arguments)}finally{ln(e)}}}function gn(e){return function(){if(this.curOp)return e.apply(this,arguments);on(this);try{return e.apply(this,arguments)}finally{ln(this)}}}function vn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);on(t);try{return e.apply(this,arguments)}finally{ln(t)}}}function mn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Zl&&pe(e.doc,t)<i.viewTo&&bn(e);else if(r<=i.viewFrom)Zl&&ge(e.doc,r+n)>i.viewFrom?bn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)bn(e);else if(t<=i.viewFrom){var o=wn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):bn(e)}else if(r>=i.viewTo){var l=wn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):bn(e)}else{var s=wn(e,t,t,-1),a=wn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(vt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):bn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function yn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[kr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==h(l,r)&&l.push(r)}}}function bn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wn(e,t,r,n){var i,o=kr(e,t),l=e.display.view;if(!Zl||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;pe(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function xn(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=vt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=vt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(kr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(vt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,kr(e,r)))),n.viewTo=r}function Cn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Sn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Ln,e))}function Ln(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$e(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?je(t.mode,n.state):null,a=_e(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ze(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Sn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&dn(e,function(){for(var t=0;t<i.length;t++)yn(e,i[t],"text")})}}function kn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Rt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Rt(e)+"px",t.scrollbarsClipped=!0)}function Tn(e){if(e.hasFocus())return null;var t=l();if(!t||!o(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Mn(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Nn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return bn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Cn(e))return!1;Br(e)&&(bn(e),r.dims=wr(e));var o=i.first+i.size,l=Math.max(r.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,r.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),Zl&&(l=pe(e.doc,l),s=ge(e.doc,s));var a=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;xn(e,l,s),n.viewOffset=ye(M(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=Cn(e);if(!a&&0==u&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Tn(e);return u>4&&(n.lineDiv.style.display="none"),Wn(e,n.updateLineNumbers,r.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Mn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,Sn(e,400)),n.updateLineNumbers=null,!0}function On(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Bt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+It(e.display)-Gt(e),r.top)}),t.visible=zr(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Nn(e,t);n=!1){Er(e);var i=en(e);Tr(e),tn(e,i),Hn(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function An(e,t){var r=new ks(e,t);if(Nn(e,r)){Er(e),On(e,r);var n=en(e);Tr(e),tn(e,n),Hn(e,n),r.finish()}}function Wn(e,r,n){function i(t){var r=t.nextSibling;return wl&&Al&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),Ct(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(F(e.options,c)))),a=d.node.nextSibling}else{var g=At(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Dn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Hn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Rt(e)+"px"}function Fn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Dn(e)}function Pn(e){var t=h(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function En(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function In(e){var t=En(e);return t.x*=Ms,t.y*=Ms,t}function zn(e,t){var r=En(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Al&&wl)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!pl&&!Sl&&null!=Ms)return i&&a&&Zr(e,Math.max(0,l.scrollTop+i*Ms)),Jr(e,Math.max(0,l.scrollLeft+n*Ms)),(!i||i&&a)&&We(t),void(o.wheelStartX=null);if(i&&null!=Ms){var h=i*Ms,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),An(e,{top:d,bottom:p})}Ts<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Ms=(Ms*Ts+r)/(Ts+1),++Ts)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function Rn(e,t){var r=e[t];e.sort(function(e,t){return E(e.from(),t.from())}),t=h(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(E(o.to(),i.from())>=0){var l=B(o.from(),i.from()),s=R(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new Os(a?s:l,a?l:s))}}return new Ns(e,t)}function Bn(e,t){return new Ns([new Os(e,t||e)],0)}function Gn(e){return e.text?P(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Un(e,t){if(E(e,t.from)<0)return e;if(E(e,t.to)<=0)return Gn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Gn(t).ch-t.to.ch),P(r,n)}function Vn(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Os(Un(i.anchor,t),Un(i.head,t)))}return Rn(r,e.sel.primIndex)}function Kn(e,t,r){return e.line==t.line?P(r.line,e.ch-t.ch+r.ch):P(r.line+(e.line-t.line),e.ch)}function jn(e,t,r){for(var n=[],i=P(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Kn(s.from,i,o),u=Kn(Gn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=E(c.head,c.anchor)<0;n[l]=new Os(f?u:a,f?a:u)}else n[l]=new Os(a,a)}return new Ns(n,e.sel.primIndex)}function Xn(e){e.doc.mode=Ve(e.options,e.doc.modeOption),Yn(e)}function Yn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Sn(e,100),
    e.state.modeGen++,e.curOp&&mn(e)}function _n(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function qn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ot(e,r,i,n),wt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new ps(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=M(e,s.line),f=M(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(_n(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new ps(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}wt(e,"change",e,t)}function $n(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Zn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sr(e),Xn(e),Qn(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,mn(e)}function Qn(e){("rtl"==e.doc.direction?s:Il)(e.display.lineDiv,"CodeMirror-rtl")}function Jn(e){dn(e,function(){Qn(e),mn(e)})}function ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ti(e,t){var r={from:z(t.from),to:Gn(t),text:N(e,t.from,t.to)};return ai(e,r,t.from.line,t.to.line+1),$n(e,function(e){return ai(e,r,t.from.line,t.to.line+1)},!0),r}function ri(e){for(;e.length;){if(!g(e).ranges)break;e.pop()}}function ni(e,t){return t?(ri(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function ii(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ni(i,i.lastOp==n)))l=g(o.changes),0==E(t.from,t.to)&&0==E(t.from,l.to)?l.to=Gn(t):o.changes.push(ti(e,t));else{var a=g(i.done);for(a&&a.ranges||si(e.sel,i.done),o={changes:[ti(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Te(e,"historyAdded")}function oi(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function li(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oi(e,o,g(i.done),t))?i.done[i.done.length-1]=t:si(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ri(i.undone)}function si(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ai(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ui(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ci(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ui(r[i]));return n}function fi(e,t){var r=ci(e,t),n=J(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function hi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?Ns.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function di(e,t,r,n){if(n){var i=e.anchor;if(r){var o=E(t,i)<0;o!=E(r,i)<0?(i=t,t=r):o!=E(t,r)<0&&(t=r)}return new Os(i,t)}return new Os(r||t,t)}function pi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),wi(e,new Ns([di(e.sel.primary(),t,r,i)],0),n)}function gi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=di(e.sel.ranges[o],t[o],null,i);wi(e,Rn(n,e.sel.primIndex),r)}function vi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,wi(e,Rn(i,e.sel.primIndex),n)}function mi(e,t,r,n){wi(e,Bn(t,r),n)}function yi(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Os(U(e,t[n].anchor),U(e,t[n].head))},origin:r&&r.origin};return Te(e,"beforeSelectionChange",e,n),e.cm&&Te(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Rn(n.ranges,n.ranges.length-1):t}function bi(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,xi(e,t,r)):wi(e,t,r)}function wi(e,t,r){xi(e,t,r),li(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function xi(e,t,r){(Oe(e,"beforeSelectionChange")||e.cm&&Oe(e.cm,"beforeSelectionChange"))&&(t=yi(e,t,r)),Ci(e,Li(e,t,r&&r.bias||(E(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||Xr(e.cm)}function Ci(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ne(e.cm)),wt(e,"cursorActivity",e))}function Si(e){Ci(e,Li(e,e.sel,null,!1))}function Li(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=Ti(e,l.anchor,s&&s.anchor,r,n),u=Ti(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Os(a,u))}return i?Rn(i,t.primIndex):t}function ki(e,t,r,n,i){var o=M(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Te(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=Mi(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=E(u,r))&&(n<0?c<0:c>0))return ki(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=Mi(e,f,n,f.line==t.line?o:null)),f?ki(e,f,t,n,i):null}}return t}function Ti(e,t,r,n,i){var o=n||1,l=ki(e,t,r,o,i)||!i&&ki(e,t,r,o,!0)||ki(e,t,r,-o,i)||!i&&ki(e,t,r,-o,!0);return l||(e.cantEdit=!0,P(e.first,0))}function Mi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?U(e,P(t.line-1)):null:r>0&&t.ch==(n||M(e,t.line)).text.length?t.line<e.first+e.size-1?P(t.line+1,0):null:new P(t.line,t.ch+r)}function Ni(e){e.setSelection(P(e.firstLine(),0),P(e.lastLine()),Kl)}function Oi(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=U(e,t)),r&&(n.to=U(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Te(e,"beforeChange",e,n),e.cm&&Te(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ai(e,t,r){if(e.cm){if(!e.cm.curOp)return pn(e.cm,Ai)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"))||(t=Oi(e,t,!0))){var n=$l&&!r&&te(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Wi(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Wi(e,t)}}function Wi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=E(t.from,t.to)){var r=Vn(e,t);ii(e,t,r,e.cm?e.cm.curOp.id:NaN),Fi(e,t,r,J(e,t));var n=[];$n(e,function(e,r){r||-1!=h(n,e.history)||(Ri(e.history,t),n.push(e.history)),Fi(e,t,null,J(e,t))})}}function Di(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,l=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(n)return void s.push(i);break}if(si(i,a),r&&!i.equals(e.sel))return void wi(e,i,{clearRedo:!1});l=i}var c=[];si(l,a),a.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"),d=i.changes.length-1;d>=0;--d){var p=function(r){var n=i.changes[r];if(n.origin=t,f&&!Oi(e,n,!1))return s.length=0,{};c.push(ti(e,n));var o=r?Vn(e,n):g(s);Fi(e,n,o,fi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Gn(n)});var l=[];$n(e,function(e,t){t||-1!=h(l,e.history)||(Ri(e.history,n),l.push(e.history)),Fi(e,n,null,fi(e,n))})}(d);if(p)return p.v}}}}function Hi(e,t){if(0!=t&&(e.first+=t,e.sel=new Ns(v(e.sel.ranges,function(e){return new Os(P(e.anchor.line+t,e.anchor.ch),P(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)yn(e.cm,n,"gutter")}}function Fi(e,t,r,n){if(e.cm&&!e.cm.curOp)return pn(e.cm,Fi)(e,t,r,n);if(t.to.line<e.first)return void Hi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Hi(e,i),t={from:P(e.first,0),to:P(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:P(o,M(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=N(e,t.from,t.to),r||(r=Vn(e,t)),e.cm?Pi(e.cm,t,n):qn(e,t,n),xi(e,r,Kl)}}function Pi(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=W(fe(M(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ne(e),qn(n,t,r,Cr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=be(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),it(n,o.line),Sn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?mn(e):o.line!=l.line||1!=t.text.length||_n(e.doc,t)?mn(e,o.line,l.line+1,u):yn(e,o.line,"text");var c=Oe(e,"changes"),f=Oe(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&wt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Ei(e,t,r,n,i){if(n||(n=r),E(n,r)<0){var o;o=[n,r],r=o[0],n=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Ai(e,{from:r,to:n,text:t,origin:i})}function Ii(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function zi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ii(o.ranges[s].anchor,t,r,n),Ii(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=P(u.from.line+n,u.from.ch),u.to=P(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Ri(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;zi(e.done,r,n,i),zi(e.undone,r,n,i)}function Bi(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=M(e,G(e,t)):i=W(t),null==i?null:(n(o,i)&&e.cm&&yn(e.cm,i,r),o)}function Gi(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Ui(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Vi(e,t,r){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&jr(e,r)}function Ki(e,t,r,n){var i=new As(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Bi(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ve(e,t)){var n=ye(t)<e.scrollTop;A(t,t.height+Ft(i)),n&&jr(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&wt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:W(t)),i}function ji(e,t,r,n,o){if(n&&n.shared)return Xi(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return pn(e.cm,ji)(e,t,r,n,o);var l=new Ds(e,o),s=E(t,r);if(n&&c(n,l,!1),s>0||0==s&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=i("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ce(e,t.line,t,r,l)||t.line!=r.line&&ce(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}l.addToHistory&&ii(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,f=e.cm;if(e.iter(u,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&fe(e)==f.display.maxLine&&(a=!0),l.collapsed&&u!=t.line&&A(e,0),$(e,new Y(l,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),l.collapsed&&e.iter(t.line,r.line+1,function(t){ve(e,t)&&A(t,0)}),l.clearOnEnter&&ts(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(j(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ws,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)mn(f,t.line,r.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var h=t.line;h<=r.line;h++)yn(f,h,"text");l.atomic&&Si(f.doc),wt(f,"markerAdded",f,l)}return l}function Xi(e,t,r,n,i){n=c(n),n.shared=!1;var o=[ji(e,t,r,n,i)],l=o[0],s=n.widgetNode;return $n(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(ji(e,U(e,t),U(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new Hs(o,l)}function Yi(e){return e.findMarks(P(e.first,0),e.clipPos(P(e.lastLine())),function(e){return e.parent})}function _i(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(E(o,l)){var s=ji(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function qi(e){for(var t=0;t<e.length;t++)!function(t){var r=e[t],n=[r.primary.doc];$n(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==h(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}(t)}function $i(e){var t=this;if(Ji(t),!Me(t,e)&&!Pt(t.display,e)){We(e),yl&&(Es=+new Date);var r=Lr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=0;s<i;++s)!function(e,n){if(!t.options.allowDropFileTypes||-1!=h(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=pn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=U(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ai(t.doc,a),bi(t.doc,Bn(r,Gn(a)))}}),s.readAsText(e)}}(n[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),xi(t.doc,Bn(r,r)),u)for(var c=0;c<u.length;++c)Ei(t.doc,"",u[c].anchor,u[c].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Zi(e,t){if(yl&&(!e.state.draggingText||+new Date-Es<100))return void Fe(t);if(!Me(e,t)&&!Pt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ll)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Sl&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),Sl&&r.parentNode.removeChild(r)}}function Qi(e,t){var i=Lr(e,t);if(i){var o=document.createDocumentFragment();Nr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function Ji(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function to(){Is||(ro(),Is=!0)}function ro(){var e;ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(no)},100))}),ts(window,"blur",function(){return eo(Pr)})}function no(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function io(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function oo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),io),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function lo(e,t,r,n){t=co(t);var i=t.call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return lo(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=lo(e,t.fallthrough[o],r,n);if(l)return l}}}function so(e){var t="string"==typeof e?e:zs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function ao(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Pl?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Pl?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function uo(e,t){if(Sl&&34==e.keyCode&&e.char)return!1;var r=zs[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),ao(r,e,t))}function co(e){return"string"==typeof e?Us[e]:e}function fo(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&E(o.from,g(n).to)<=0;){var l=n.pop();if(E(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}dn(e,function(){for(var t=n.length-1;t>=0;t--)Ei(e.doc,"",n[t].from,n[t].to,"+delete");Xr(e)})}function ho(e,t,r){var n=L(e.text,t+r,r);return n<0||n>e.text.length?null:n}function po(e,t,r){var n=ho(e,t.ch,r);return null==n?null:new P(t.line,n,r<0?"after":"before")}function go(e,t,r,n,i){if(e){var o=Se(r,t.doc.direction);if(o){var l,s=i<0?g(o):o[0],a=i<0==(1==s.level),u=a?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Yt(t,r);l=i<0?r.text.length-1:0;var f=_t(t,c,l).top;l=k(function(e){return _t(t,c,e).top==f},i<0==(1==s.level)?s.from:s.to-1,l),"before"==u&&(l=ho(r,l,1))}else l=i<0?s.to:s.from;return new P(n,l,u)}}return new P(n,i<0?r.text.length:0,i<0?"before":"after")}function vo(e,t,r,n){var i=Se(t,e.doc.direction);if(!i)return po(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Ce(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return po(t,r,n);var s,a=function(e,r){return ho(t,e instanceof P?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Yt(e,t),dr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var f=1==l.level==n<0,h=a(r,f?1:-1);if(null!=h&&(f?h<=l.to&&h<=c.end:h>=l.from&&h>=c.begin)){var d=f?"before":"after";return new P(r.line,h,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new P(r.line,a(e,1),"before"):new P(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}function mo(e,t){var r=M(e.doc,t),n=fe(r);return n!=r&&(t=W(n)),go(!0,e,n,t,1)}function yo(e,t){var r=M(e.doc,t),n=he(r);return n!=r&&(t=W(n)),go(!0,e,r,t,-1)}function bo(e,t){var r=mo(e,t.line),n=M(e.doc,r.line),i=Se(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return P(r.line,l?0:o,r.sticky)}return r}function wo(e,t,r){if("string"==typeof t&&!(t=Vs[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Vl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function xo(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=lo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&lo(t,e.options.extraKeys,r,e)||lo(t,e.options.keyMap,r,e)}function Co(e,t,r,n){var i=e.state.keySeq;if(i){if(so(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Ks.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),So(e,i+" "+t,r,n))return!0}return So(e,t,r,n)}function So(e,t,r,n){var i=xo(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&wt(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(We(r),Wr(e)),!!i}function Lo(e,t){var r=uo(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Co(e,"Shift-"+r,t,function(t){return wo(e,t,!0)})||Co(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return wo(e,t)}):Co(e,r,t,function(t){return wo(e,t)}))}function ko(e,t,r){return Co(e,"'"+r+"'",t,function(t){return wo(e,t,!0)})}function To(e){var t=this;if(t.curOp.focus=l(),!Me(t,e)){yl&&bl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Lo(t,e);Sl&&(js=n?r:null,!n&&88==r&&!os&&(Al?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Mo(t)}}function Mo(e){function t(e){18!=e.keyCode&&e.altKey||(Il(r,"CodeMirror-crosshair"),ke(document,"keyup",t),ke(document,"mouseover",t))}var r=e.display.lineDiv;s(r,"CodeMirror-crosshair"),ts(document,"keyup",t),ts(document,"mouseover",t)}function No(e){16==e.keyCode&&(this.doc.sel.shift=!1),Me(this,e)}function Oo(e){var t=this;if(!(Pt(t.display,e)||Me(t,e)||e.ctrlKey&&!e.altKey||Al&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(Sl&&r==js)return js=null,void We(e);if(!Sl||e.which&&!(e.which<10)||!Lo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(ko(t,e,i)||t.display.input.onKeyPress(e))}}}function Ao(e,t){var r=+new Date;return _s&&_s.compare(r,e,t)?(Ys=_s=null,"triple"):Ys&&Ys.compare(r,e,t)?(_s=new Xs(r,e,t),Ys=null,"double"):(Ys=new Xs(r,e,t),_s=null,"single")}function Wo(e){var t=this,r=t.display;if(!(Me(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Pt(r,e))return void(wl||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!Bo(t,e)){var n=Lr(t,e),i=Ee(e),o=n?Ao(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&Do(t,i,n,o,e)||(1==i?n?Fo(t,n,o,e):Pe(e)==r.scroller&&We(e):2==i?(n&&pi(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(El?Go(t,e):Hr(t)))}}}function Do(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,Co(e,ao(o,i),i,function(t){if("string"==typeof t&&(t=Vs[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=Vl}finally{e.state.suppressEdits=!1}return n})}function Ho(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=Wl?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=Al?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Al?r.altKey:r.ctrlKey)),i}function Fo(e,t,r,n){yl?setTimeout(u(Dr,e),0):e.curOp.focus=l();var i,o=Ho(e,r,n),s=e.doc.sel;e.options.dragDrop&&rs&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(E((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(E(i.to(),t)>0||t.xRel<0)?Po(e,n,t,o):Io(e,n,t,o)}function Po(e,t,r,n){var i=e.display,o=!1,l=pn(e,function(t){wl&&(i.scroller.draggable=!1),e.state.draggingText=!1,ke(document,"mouseup",l),ke(document,"mousemove",s),ke(i.scroller,"dragstart",a),ke(i.scroller,"drop",l),o||(We(t),n.addNew||pi(e.doc,r,null,null,n.extend),wl||yl&&9==bl?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},a=function(){return o=!0};wl&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ts(document,"mouseup",l),ts(document,"mousemove",s),ts(i.scroller,"dragstart",a),ts(i.scroller,"drop",l),Hr(e),setTimeout(function(){return i.input.focus()},20)}function Eo(e,t,r){if("char"==r)return new Os(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Os(P(t.line,0),U(e.doc,P(t.line+1,0)));var n=r(e,t);return new Os(n.from,n.to)}function Io(e,t,r,n){function i(t){if(0!=E(m,t))if(m=t,"rectangle"==n.unit){for(var i=[],o=e.options.tabSize,l=f(M(u,r.line).text,r.ch,o),s=f(M(u,t.line).text,t.ch,o),a=Math.min(l,s),g=Math.max(l,s),v=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=y;v++){var b=M(u,v).text,w=d(b,a,o);a==g?i.push(new Os(P(v,w),P(v,w))):b.length>w&&i.push(new Os(P(v,w),P(v,d(b,g,o))))}i.length||i.push(new Os(r,r)),wi(u,Rn(p.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,S=Eo(e,t,n.unit),L=C.anchor;E(S.anchor,L)>0?(x=S.head,L=B(C.from(),S.anchor)):(x=S.anchor,L=R(C.to(),S.head));var k=p.ranges.slice(0);k[h]=zo(e,new Os(U(u,L),x)),wi(u,Rn(k,h),jl)}}function o(t){var r=++b,s=Lr(e,t,!0,"rectangle"==n.unit);if(s)if(0!=E(s,m)){e.curOp.focus=l(),i(s);var c=zr(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(pn(e,function(){b==r&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(pn(e,function(){b==r&&(a.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,We(t),a.input.focus(),ke(document,"mousemove",w),ke(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;We(t);var c,h,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(h=u.sel.contains(r),c=h>-1?g[h]:new Os(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Os(r,r)),r=Lr(e,t,!0,!0),h=-1;else{var v=Eo(e,r,n.unit);c=n.extend?di(c,v.anchor,v.head,n.extend):v}n.addNew?-1==h?(h=g.length,wi(u,Rn(g.concat([c]),h),{scroll:!1,origin:"*mouse"})):g.length>1&&g[h].empty()&&"char"==n.unit&&!n.extend?(wi(u,Rn(g.slice(0,h).concat(g.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):vi(u,h,c,jl):(h=0,wi(u,new Ns([c],0),jl),p=u.sel);var m=r,y=a.wrapper.getBoundingClientRect(),b=0,w=pn(e,function(e){Ee(e)?o(e):s(e)}),x=pn(e,s);e.state.selectingText=x,ts(document,"mousemove",w),ts(document,"mouseup",x)}function zo(e,t){var r=t.anchor,n=t.head,i=M(e.doc,r.line);if(0==E(r,n)&&r.sticky==n.sticky)return t;var o=Se(i);if(!o)return t;var l=Ce(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==a||a==o.length)return t;var u;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ce(o,n.ch,n.sticky),f=c-l||(n.ch-r.ch)*(1==s.level?-1:1);u=c==a-1||c==a?f<0:f>0}var h=o[a+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new Os(new P(r.line,p,g),n)}function Ro(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&We(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Oe(e,r))return He(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){return Te(e,r,e,D(e.doc,o),e.options.gutters[a],t),He(t)}}}function Bo(e,t){return Ro(e,t,"gutterClick",!0)}function Go(e,t){Pt(e.display,t)||Uo(e,t)||Me(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Uo(e,t){return!!Oe(e,"gutterContextMenu")&&Ro(e,t,"gutterContextMenu",!1)}function Vo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tr(e)}function Ko(e){Fn(e),mn(e),Rr(e)}function jo(e,t,r){if(!t!=!(r&&r!=qs)){var n=e.display.dragFunctions,i=t?ts:ke;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Xo(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Il(e.display.wrapper,"CodeMirror-wrap"),we(e)),Sr(e),mn(e),tr(e),setTimeout(function(){return tn(e)},100)}function Yo(e,t){var r=this;if(!(this instanceof Yo))return new Yo(e,t);this.options=t=t?c(t):{},c($s,t,!1),Pn(t);var n=t.value;"string"==typeof n&&(n=new Ps(n,t.mode,null,t.lineSeparator,t.direction)),this.doc=n;var i=new Yo.inputStyles[t.inputStyle](this),o=this.display=new T(e,n,i);o.wrapper.CodeMirror=this,Fn(this),Vo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),nn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Rl,keySeq:null,specialChars:null},t.autofocus&&!Ol&&o.input.focus(),yl&&bl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),_o(this),to(),on(this),this.curOp.forceUpdate=!0,Zn(this,n),t.autofocus&&!Ol||this.hasFocus()?setTimeout(u(Fr,this),20):Pr(this);for(var l in Zs)Zs.hasOwnProperty(l)&&Zs[l](r,t[l],qs);Br(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Qs.length;++s)Qs[s](r);ln(this),wl&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function _o(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;ts(i.scroller,"mousedown",pn(e,Wo)),yl&&bl<11?ts(i.scroller,"dblclick",pn(e,function(t){if(!Me(e,t)){var r=Lr(e,t);if(r&&!Bo(e,t)&&!Pt(e.display,t)){We(t);var n=e.findWordAt(r);pi(e.doc,n.anchor,n.head)}}})):ts(i.scroller,"dblclick",function(t){return Me(e,t)||We(t)}),El||ts(i.scroller,"contextmenu",function(t){return Go(e,t)});var o,l={end:0};ts(i.scroller,"touchstart",function(t){if(!Me(e,t)&&!r(t)&&!Bo(e,t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),
    ts(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ts(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Pt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Os(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Os(P(s.line,0),U(e.doc,P(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),We(r)}t()}),ts(i.scroller,"touchcancel",t),ts(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zr(e,i.scroller.scrollTop),Jr(e,i.scroller.scrollLeft,!0),Te(e,"scroll",e))}),ts(i.scroller,"mousewheel",function(t){return zn(e,t)}),ts(i.scroller,"DOMMouseScroll",function(t){return zn(e,t)}),ts(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Me(e,t)||Fe(t)},over:function(t){Me(e,t)||(Qi(e,t),Fe(t))},start:function(t){return Zi(e,t)},drop:pn(e,$i),leave:function(t){Me(e,t)||Ji(e)}};var s=i.input.getField();ts(s,"keyup",function(t){return No.call(e,t)}),ts(s,"keydown",pn(e,To)),ts(s,"keypress",pn(e,Oo)),ts(s,"focus",function(t){return Fr(e,t)}),ts(s,"blur",function(t){return Pr(e,t)})}function qo(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=$e(e,t).state:r="prev");var l=e.options.tabSize,s=M(o,t),a=f(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Vl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?f(M(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=c)return Ei(o,h,P(t,0),P(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=P(t,c.length);vi(o,v,new Os(y,y));break}}}function $o(e){Js=e}function Zo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=ns(t),a=null;if(l&&n.ranges.length>1)if(Js&&Js.text.join("\n")==t){if(n.ranges.length%Js.text.length==0){a=[];for(var u=0;u<Js.text.length;u++)a.push(o.splitLines(Js.text[u]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(a=v(s,function(e){return[e]}));for(var c,f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],d=h.from(),p=h.to();h.empty()&&(r&&r>0?d=P(d.line,d.ch-r):e.state.overwrite&&!l?p=P(p.line,Math.min(M(o,p.line).text.length,p.ch+g(s).length)):Js&&Js.lineWise&&Js.text.join("\n")==t&&(d=p=P(d.line,0))),c=e.curOp.updateInput;var m={from:d,to:p,text:a?a[f%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};Ai(e.doc,m),wt(e,"inputRead",e,m)}t&&!l&&Jo(e,t),Xr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Qo(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||dn(t,function(){return Zo(t,r,0,null,"paste")}),!0}function Jo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=qo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(M(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=qo(e,i.head.line,"smart"));l&&wt(e,"electricInput",e,i.head.line)}}}function el(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:P(i,0),head:P(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function tl(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function rl(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wl?e.style.width="1000px":e.setAttribute("wrap","off"),Ml&&(e.style.border="1px solid black"),tl(e),t}function nl(e,t,r,n,i){function o(){var n=t.line+r;return!(n<e.first||n>=e.first+e.size)&&(t=new P(n,t.ch,t.sticky),u=M(e,n))}function l(n){var l;if(null==(l=i?vo(e.cm,u,t,r):po(u,t,r))){if(n||!o())return!1;t=go(i,e.cm,u,t.line,r)}else t=l;return!0}var s=t,a=r,u=M(e,t.line);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||l(!d);d=!1){var p=u.text.charAt(t.ch)||"\n",g=x(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||g||(g="s"),c&&c!=g){r<0&&(r=1,l(),t.sticky="after");break}if(g&&(c=g),r>0&&!l(!d))break}var v=Ti(e,t,s,a,!0);return I(s,v)&&(v.hitSide=!0),v}function il(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*yr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;u=fr(e,l,i),u.outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function ol(e,t){var r=Xt(e,t.line);if(!r||r.hidden)return null;var n=M(e.doc,t.line),i=Vt(r,n,t.line),o=Se(n,e.doc.direction),l="left";if(o){l=Ce(o,t.ch)%2?"right":"left"}var s=qt(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function ll(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sl(e,t){return t&&(e.bad=!0),e}function al(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(){c&&(u+=f,c=!1)}function s(e){e&&(l(),u+=e)}function a(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void s(r||t.textContent.replace(/\u200b/g,""));var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(P(n,0),P(i+1,0),o(+h));return void(d.length&&(u=d[0].find(0))&&s(N(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&l();for(var g=0;g<t.childNodes.length;g++)a(t.childNodes[g]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,f=e.doc.lineSeparator();a(t),t!=r;)t=t.nextSibling;return u}function ul(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return sl(e.clipPos(P(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return cl(o,t,r)}}function cl(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=W(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),P(a,u)}}}var i=e.text.firstChild,l=!1;if(!t||!o(i,t))return sl(P(W(e.line),0),!0);if(t==i&&(l=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return sl(P(W(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return sl(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return sl(P(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return sl(P(h.line,h.ch+m),l);m+=v.textContent.length}}function fl(e,t){function r(){e.value=a.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=l();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(ts(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ke(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=Yo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a}var hl=navigator.userAgent,dl=navigator.platform,pl=/gecko\/\d/i.test(hl),gl=/MSIE \d/.test(hl),vl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hl),ml=/Edge\/(\d+)/.exec(hl),yl=gl||vl||ml,bl=yl&&(gl?document.documentMode||6:+(ml||vl)[1]),wl=!ml&&/WebKit\//.test(hl),xl=wl&&/Qt\/\d+\.\d+/.test(hl),Cl=!ml&&/Chrome\//.test(hl),Sl=/Opera\//.test(hl),Ll=/Apple Computer/.test(navigator.vendor),kl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(hl),Tl=/PhantomJS/.test(hl),Ml=!ml&&/AppleWebKit/.test(hl)&&/Mobile\/\w+/.test(hl),Nl=/Android/.test(hl),Ol=Ml||Nl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(hl),Al=Ml||/Mac/.test(dl),Wl=/\bCrOS\b/.test(hl),Dl=/win/i.test(dl),Hl=Sl&&hl.match(/Version\/(\d*\.\d*)/);Hl&&(Hl=Number(Hl[1])),Hl&&Hl>=15&&(Sl=!1,wl=!0);var Fl,Pl=Al&&(xl||Sl&&(null==Hl||Hl<12.11)),El=pl||yl&&bl>=9,Il=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};Fl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var zl=function(e){e.select()};Ml?zl=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:yl&&(zl=function(e){try{e.select()}catch(e){}});var Rl=function(){this.id=null};Rl.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Bl,Gl,Ul=30,Vl={toString:function(){return"CodeMirror.Pass"}},Kl={scroll:!1},jl={origin:"*mouse"},Xl={origin:"+move"},Yl=[""],_l=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ql=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,$l=!1,Zl=!1,Ql=null,Jl=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(r,n){var u="ltr"==n?"L":"R";if(0==r.length||"ltr"==n&&!i.test(r))return!1;for(var c=r.length,f=[],h=0;h<c;++h)f.push(e(r.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":l.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var w=1,x=f[0];w<c-1;++w){var C=f[w];"+"==C&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=C||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=C}for(var S=0;S<c;++S){var L=f[S];if(","==L)f[S]="N";else if("%"==L){var k=void 0;for(k=S+1;k<c&&"%"==f[k];++k);for(var T=S&&"!"==f[S-1]||k<c&&"1"==f[k]?"1":"N",M=S;M<k;++M)f[M]=T;S=k-1}}for(var N=0,O=u;N<c;++N){var A=f[N];"L"==O&&"1"==A?f[N]="L":l.test(A)&&(O=A)}for(var W=0;W<c;++W)if(o.test(f[W])){var D=void 0;for(D=W+1;D<c&&o.test(f[D]);++D);for(var H="L"==(W?f[W-1]:u),F="L"==(D<c?f[D]:u),P=H==F?H?"L":"R":u,E=W;E<D;++E)f[E]=P;W=D-1}for(var I,z=[],R=0;R<c;)if(s.test(f[R])){var B=R;for(++R;R<c&&s.test(f[R]);++R);z.push(new t(0,B,R))}else{var G=R,U=z.length;for(++R;R<c&&"L"!=f[R];++R);for(var V=G;V<R;)if(a.test(f[V])){G<V&&z.splice(U,0,new t(1,G,V));var K=V;for(++V;V<R&&a.test(f[V]);++V);z.splice(U,0,new t(2,K,V)),G=V}else++V;G<R&&z.splice(U,0,new t(1,G,R))}return"ltr"==n&&(1==z[0].level&&(I=r.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==g(z).level&&(I=r.match(/\s+$/))&&(g(z).to-=I[0].length,z.push(new t(0,c-I[0].length,c)))),"rtl"==n?z.reverse():z}}(),es=[],ts=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||es).concat(r)}},rs=function(){if(yl&&bl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),ns=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ls=null,ss={},as={},us={},cs=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};cs.prototype.eol=function(){return this.pos>=this.string.length},cs.prototype.sol=function(){return this.pos==this.lineStart},cs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cs.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},cs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},cs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},cs.prototype.skipToEnd=function(){this.pos=this.string.length},cs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},cs.prototype.backUp=function(e){this.pos-=e},cs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},cs.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},cs.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},cs.prototype.current=function(){return this.string.slice(this.start,this.pos)},cs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},cs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},cs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var fs=function(e,t){this.state=e,this.lookAhead=t},hs=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};hs.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},hs.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},hs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},hs.fromSaved=function(e,t,r){return t instanceof fs?new hs(e,je(e.mode,t.state),r,t.lookAhead):new hs(e,je(e.mode,t),r)},hs.prototype.save=function(e){var t=!1!==e?je(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fs(t,this.maxLookAhead):t};var ds=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},ps=function(e,t,r){this.text=e,ne(this,t),this.height=r?r(this):1};ps.prototype.lineNo=function(){return W(this)},Ae(ps);var gs,vs={},ms={},ys=null,bs=null,ws={left:0,right:0,top:0,bottom:0},xs=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),ts(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ts(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,yl&&bl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xs.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},xs.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xs.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xs.prototype.zeroWidthHack=function(){var e=Al&&!kl?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Rl,this.disableVert=new Rl},xs.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},xs.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Cs=function(){};Cs.prototype.update=function(){return{bottom:0,right:0}},Cs.prototype.setScrollLeft=function(){},Cs.prototype.setScrollTop=function(){},Cs.prototype.clear=function(){};var Ss={native:xs,null:Cs},Ls=0,ks=function(e,t,r){var n=e.display;this.viewport=t,this.visible=zr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Bt(e),this.force=r,this.dims=wr(e),this.events=[]};ks.prototype.signal=function(e,t){Oe(e,t)&&this.events.push(arguments)},ks.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Te.apply(null,e.events[t])};var Ts=0,Ms=null;yl?Ms=-.53:pl?Ms=15:Cl?Ms=-.7:Ll&&(Ms=-1/3);var Ns=function(e,t){this.ranges=e,this.primIndex=t};Ns.prototype.primary=function(){return this.ranges[this.primIndex]},Ns.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(!I(n.anchor,i.anchor)||!I(n.head,i.head))return!1}return!0},Ns.prototype.deepCopy=function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Os(z(e.ranges[r].anchor),z(e.ranges[r].head));return new Ns(t,this.primIndex)},Ns.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ns.prototype.contains=function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(E(t,i.from())>=0&&E(e,i.to())<=0)return n}return-1};var Os=function(e,t){this.anchor=e,this.head=t};Os.prototype.from=function(){return B(this.anchor,this.head)},Os.prototype.to=function(){return R(this.anchor,this.head)},Os.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Gi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,lt(o),wt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Ui.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Gi))){var a=[];this.collapse(a),this.children=[new Gi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Gi(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Ui(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=h(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Ui(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}};var As=function(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t};As.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=W(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Ft(this);A(n,Math.max(0,n.height-l)),t&&(dn(t,function(){Vi(t,n,-l),yn(t,i,"widget")}),wt(t,"lineWidgetCleared",t,this,i))}},As.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Ft(this)-t;i&&(A(n,n.height+i),r&&dn(r,function(){r.curOp.forceUpdate=!0,Vi(r,n,i),wt(r,"lineWidgetChanged",r,e,W(n))}))},Ae(As);var Ws=0,Ds=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ws};Ds.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&on(t),Oe(this,"clear")){var n=this.find();n&&wt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=_(s.markedSpans,e);t&&!e.collapsed?yn(t,W(s),"text"):t&&(null!=a.to&&(o=W(s)),null!=a.from&&(i=W(s))),s.markedSpans=q(s.markedSpans,a),null==a.from&&e.collapsed&&!ve(e.doc,s)&&t&&A(s,yr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=fe(e.lines[u]),f=be(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&mn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Si(t.doc)),t&&wt(t,"markerCleared",t,this,i,o),r&&ln(t),this.parent&&this.parent.clear()}},Ds.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=_(l.markedSpans,r);if(null!=s.from&&(n=P(t?l:W(l),s.from),-1==e))return n;if(null!=s.to&&(i=P(t?l:W(l),s.to),1==e))return i}return n&&{from:n,to:i}},Ds.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&dn(n,function(){var i=t.line,o=W(t.line),l=Xt(n,o);if(l&&(Jt(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ve(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=Ft(r)-s;a&&A(i,i.height+a)}wt(n,"markerChanged",n,e)})},Ds.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=h(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ds.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ae(Ds);var Hs=function(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r};Hs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();wt(this,"clear")}},Hs.prototype.find=function(e,t){return this.primary.find(e,t)},Ae(Hs);var Fs=0,Ps=function(e,t,r,n,i){if(!(this instanceof Ps))return new Ps(e,t,r,n,i);null==r&&(r=0),Ui.call(this,[new Gi([new ps("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=P(r,0);this.sel=Bn(o),this.history=new ei(null),this.id=++Fs,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),qn(this,{from:o,to:o,text:e}),wi(this,Bn(o),Kl)};Ps.prototype=b(Ui.prototype,{constructor:Ps,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:vn(function(e){var t=P(this.first,0),r=this.first+this.size-1;Ai(this,{from:t,to:P(r,M(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Yr(this.cm,0,0),wi(this,Bn(t),Kl)}),replaceRange:function(e,t,r,n){t=U(this,t),r=r?U(this,r):t,Ei(this,e,t,r,n)},getRange:function(e,t,r){var n=N(this,U(this,e),U(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(H(this,e))return M(this,e)},getLineNumber:function(e){return W(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=M(this,e)),fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vn(function(e,t,r){mi(this,U(this,"number"==typeof e?P(e,t||0):e),null,r)}),setSelection:vn(function(e,t,r){mi(this,U(this,e),U(this,t||e),r)}),extendSelection:vn(function(e,t,r){pi(this,U(this,e),t&&U(this,t),r)}),extendSelections:vn(function(e,t){gi(this,K(this,e),t)}),extendSelectionsBy:vn(function(e,t){gi(this,K(this,v(this.sel.ranges,e)),t)}),setSelections:vn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Os(U(n,e[o].anchor),U(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),wi(this,Rn(i,t),r)}}),addSelection:vn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Os(U(this,e),U(this,t||e))),wi(this,Rn(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=N(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=N(t,n[i].from(),n[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:vn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&jn(this,i,t),u=i.length-1;u>=0;u--)Ai(n,i[u]);a?bi(this,a):this.cm&&Xr(this.cm)}),undo:vn(function(){Di(this,"undo")}),redo:vn(function(){Di(this,"redo")}),undoSelection:vn(function(){Di(this,"undo",!0)}),redoSelection:vn(function(){Di(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},
    clearHistory:function(){this.history=new ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hi(this.history.done),undone:hi(this.history.undone)}},setHistory:function(e){var t=this.history=new ei(this.history.maxGeneration);t.done=hi(e.done.slice(0),null,!0),t.undone=hi(e.undone.slice(0),null,!0)},setGutterMarker:vn(function(e,t,r){return Bi(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:vn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Bi(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!H(this,e))return null;if(t=e,!(e=M(this,e)))return null}else if(null==(t=W(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:vn(function(t,r,n){return Bi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:vn(function(t,r,n){return Bi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:vn(function(e,t,r){return Ki(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ji(this,U(this,e),U(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),ji(this,e,e,r,"bookmark")},findMarksAt:function(e){e=U(this,e);var t=[],r=M(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=U(this,e),t=U(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),U(this,P(r,t))},indexFromPos:function(e){e=U(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new Ps(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ps(O(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],_i(n,Yi(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof Yo&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=t.linked[r];if(n.doc==e){t.linked.splice(r,1),e.unlinkDoc(t),qi(Yi(t));break}}if(e.history==this.history){var i=[e.id];$n(e,function(e){return i.push(e.id)},!0),e.history=new ei(null),e.history.done=hi(this.history.done,i),e.history.undone=hi(this.history.undone,i)}},iterLinkedDocs:function(e){$n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ns(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:vn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Jn(this.cm))})}),Ps.prototype.eachLine=Ps.prototype.iter;for(var Es=0,Is=!1,zs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Rs=0;Rs<10;Rs++)zs[Rs+48]=zs[Rs+96]=String(Rs);for(var Bs=65;Bs<=90;Bs++)zs[Bs]=String.fromCharCode(Bs);for(var Gs=1;Gs<=12;Gs++)zs[Gs+111]=zs[Gs+63235]="F"+Gs;var Us={};Us.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Us.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Us.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Us.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Us.default=Al?Us.macDefault:Us.pcDefault;var Vs={selectAll:Ni,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Kl)},killLine:function(e){return fo(e,function(t){if(t.empty()){var r=M(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:P(t.head.line+1,0)}:{from:t.head,to:P(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return fo(e,function(t){return{from:P(t.from().line,0),to:U(e.doc,P(t.to().line+1,0))}})},delLineLeft:function(e){return fo(e,function(e){return{from:P(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return fo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return fo(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(P(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(P(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return mo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Xl)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Xl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?bo(e,t.head):n},Xl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=f(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return dn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=M(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new P(i.line,i.ch-1)),i.ch>0)i=new P(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),P(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=M(e.doc,i.line-1).text;l&&(i=new P(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),P(i.line-1,l.length-1),i,"+transpose"))}r.push(new Os(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return dn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Xr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Ks=new Rl,js=null,Xs=function(e,t,r){this.time=e,this.pos=t,this.button=r};Xs.prototype.compare=function(e,t,r){return this.time+400>e&&0==E(t,this.pos)&&r==this.button};var Ys,_s,qs={toString:function(){return"CodeMirror.Init"}},$s={},Zs={};Yo.defaults=$s,Yo.optionHandlers=Zs;var Qs=[];Yo.defineInitHook=function(e){return Qs.push(e)};var Js=null,ea=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Rl,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ea.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())$o({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=el(i);$o({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Kl),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=Js.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=rl(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=Js.text.join("\n");var a=document.activeElement;zl(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;tl(o,i.options.spellcheck),ts(o,"paste",function(e){Me(i,e)||Qo(e,i)||bl<=11&&setTimeout(pn(i,function(){return r.updateFromDOM()}),20)}),ts(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),ts(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),ts(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),ts(o,"touchstart",function(){return n.forceCompositionEnd()}),ts(o,"input",function(){r.composing||r.readFromDOMSoon()}),ts(o,"copy",t),ts(o,"cut",t)},ea.prototype.prepareSelection=function(){var e=Mr(this.cm,!1);return e.focus=this.cm.state.focused,e},ea.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ea.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=ul(t,e.anchorNode,e.anchorOffset),l=ul(t,e.focusNode,e.focusOffset);if(!o||o.bad||!l||l.bad||0!=E(B(o,l),n)||0!=E(R(o,l),i)){var s=t.display.view,a=n.line>=t.display.viewFrom&&ol(t,n)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&ol(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!a||!u)return void e.removeAllRanges();var h,d=e.rangeCount&&e.getRangeAt(0);try{h=Fl(a.node,a.offset,u.offset,u.node)}catch(e){}h&&(!pl&&t.state.focused?(e.collapse(a.node,a.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),d&&null==e.anchorNode?e.addRange(d):pl&&this.startGracePeriod()),this.rememberSelection()}},ea.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ea.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},ea.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ea.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},ea.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ea.prototype.blur=function(){this.div.blur()},ea.prototype.getField=function(){return this.div},ea.prototype.supportsTouch=function(){return!0},ea.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():dn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},ea.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ea.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Nl&&Cl&&this.cm.options.gutters.length&&ll(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=ul(t,e.anchorNode,e.anchorOffset),n=ul(t,e.focusNode,e.focusOffset);r&&n&&dn(t,function(){wi(t.doc,Bn(r,n),Kl),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},ea.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=P(n.line-1,M(e.doc,n.line-1).length)),i.ch==M(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=P(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=kr(e,n.line))?(l=W(t.view[0].line),s=t.view[0].node):(l=W(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=kr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=W(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(al(e,s,u,l,a)),h=N(e.doc,P(l,0),P(a,M(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==h.length&&l==n.line)for(;d&&d>n.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=P(l,d),S=P(a,h.length?g(h).length-p:0);return f.length>1||f[0]||E(C,S)?(Ei(e.doc,f,C,S,"+input"),!0):void 0},ea.prototype.ensurePolled=function(){this.forceCompositionEnd()},ea.prototype.reset=function(){this.forceCompositionEnd()},ea.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ea.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},ea.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||dn(this.cm,function(){return mn(e.cm)})},ea.prototype.setUneditable=function(e){e.contentEditable="false"},ea.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pn(this.cm,Zo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ea.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},ea.prototype.onContextMenu=function(){},ea.prototype.resetPosition=function(){},ea.prototype.needsContentAttribute=!0;var ta=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Rl,this.hasSelection=!1,this.composing=null};ta.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())$o({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=el(i);$o({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Kl):(n.prevInput="",l.value=t.text.join("\n"),zl(l))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var r=this,n=this,i=this.cm,o=this.wrapper=rl(),l=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Ml&&(l.style.width="0px"),ts(l,"input",function(){yl&&bl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),ts(l,"paste",function(e){Me(i,e)||Qo(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),ts(l,"cut",t),ts(l,"copy",t),ts(e.scroller,"paste",function(t){Pt(e,t)||Me(i,t)||(i.state.pasteIncoming=!0,n.focus())}),ts(e.lineSpace,"selectstart",function(t){Pt(e,t)||We(t)}),ts(l,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ts(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ta.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Mr(e);if(e.options.moveInputWithCursor){var i=ar(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},ta.prototype.showSelection=function(e){var t=this.cm,n=t.display;r(n.cursorDiv,e.cursors),r(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ta.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&zl(this.textarea),yl&&bl>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",yl&&bl>=9&&(this.hasSelection=null))}},ta.prototype.getField=function(){return this.textarea},ta.prototype.supportsTouch=function(){return!1},ta.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ol||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},ta.prototype.blur=function(){this.textarea.blur()},ta.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ta.prototype.receivedFocus=function(){this.slowPoll()},ta.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ta.prototype.fastPoll=function(){function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},ta.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||is(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(yl&&bl>=9&&this.hasSelection===i||Al&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return dn(t,function(){Zo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ta.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ta.prototype.onKeyPress=function(){yl&&bl>=9&&(this.hasSelection=null),this.fastPoll()},ta.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=c,l.style.cssText=u,yl&&bl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!yl||yl&&bl<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?pn(i,Ni)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Lr(i,e),a=o.scroller.scrollTop;if(s&&!Sl){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&pn(i,wi)(i.doc,Bn(s),Kl);var u=l.style.cssText,c=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(yl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(wl&&(h=window.scrollY),o.input.focus(),wl&&window.scrollTo(null,h),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),yl&&bl>=9&&t(),El){Fe(e);var d=function(){ke(window,"mouseup",d),setTimeout(r,20)};ts(window,"mouseup",d)}else setTimeout(r,50)}},ta.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ta.prototype.setUneditable=function(){},ta.prototype.needsContentAttribute=!1,function(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=qs&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=qs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Xn(e)},!0),t("indentUnit",2,Xn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Yn(e),tr(e),mn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(P(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ei(e.doc,t,r[i],P(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=qs&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Ol?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Dl),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Vo(e),Ko(e)},!0),t("keyMap","default",function(e,t,r){var n=co(t),i=r!=qs&&co(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Xo,!0),t("gutters",[],function(e){Pn(e.options),Ko(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?xr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return tn(e)},!0),t("scrollbarStyle","native",function(e){nn(e),tn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Pn(e.options),Ko(e)},!0),t("firstLineNumber",1,Ko,!0),t("lineNumberFormatter",function(e){return e},Ko,!0),t("showCursorWhenSelecting",!1,Tr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Pr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,jo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Tr,!0),t("singleCursorHeightPerLine",!0,Tr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Yn,!0),t("addModeClass",!1,Yn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Yn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(Yo),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&pn(this,t[e])(this,r,i),Te(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](co(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:gn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,mn(this)}),removeOverlay:gn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void mn(t)}}),indentLine:gn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),H(this.doc,e)&&qo(this,e,t,r)}),indentSelection:gn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(qo(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&Xr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)qo(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&vi(t.doc,i,new Os(l,c[i].to()),Kl)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,P(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,r=qe(this,M(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&-1==h(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=G(r,null==e?r.first+r.size-1:e),$e(this,e+1,t).state},
    cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?U(this.doc,e):e?n.from():n.to(),ar(this,r,t||"page")},charCoords:function(e,t){return sr(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=lr(this,e,t||"page"),fr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=lr(this,{top:e,left:0},t||"page").top,D(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=M(this.doc,e)}else n=e;return or(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-ye(n):0)},defaultTextHeight:function(){return yr(this.display)},defaultCharWidth:function(){return br(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=ar(this,U(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Vr(this,{left:s,top:l,right:s+t.offsetWidth,bottom:l+t.offsetHeight})},triggerOnKeyDown:gn(To),triggerOnKeyPress:gn(Oo),triggerOnKeyUp:No,triggerOnMouseDown:gn(Wo),execCommand:function(e){if(Vs.hasOwnProperty(e))return Vs[e].call(null,this)},triggerElectric:gn(function(e){Jo(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=U(this.doc,e),s=0;s<t&&(l=nl(i.doc,l,o,r,n),!l.hitSide);++s);return l},moveH:gn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?nl(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Xl)}),deleteH:gn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):fo(this,function(r){var i=nl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),a=0;a<t;++a){var u=ar(i,s,"div");if(null==l?l=u.left:u.left=l,s=il(i,u,o,r),s.hitSide)break}return s},moveV:gn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=ar(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=il(r,s,e,t);return"page"==t&&l==n.sel.primary()&&jr(r,sr(r,a,"div").top-s.top),a},Xl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=M(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=r.length||!n?++i:--n;for(var l=r.charAt(n),s=x(l,o)?function(e){return x(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new Os(P(e.line,n),P(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Il(this.display.cursorDiv,"CodeMirror-overwrite"),Te(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gn(function(e,t){Yr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Rt(this)-this.display.barHeight,width:e.scrollWidth-Rt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Bt(this)}},scrollIntoView:gn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:P(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?_r(this,e):$r(this,e.from,e.to,e.margin)}),setSize:gn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&er(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Te(this,"refresh",this)}),operation:function(e){return dn(this,e)},startOperation:function(){return on(this)},endOperation:function(){return ln(this)},refresh:gn(function(){var e=this.display.cachedTextHeight;mn(this),this.curOp.forceUpdate=!0,tr(this),Yr(this,this.doc.scrollLeft,this.doc.scrollTop),Dn(this),(null==e||Math.abs(e-yr(this.display))>.5)&&Sr(this),Te(this,"refresh",this)}),swapDoc:gn(function(e){var t=this.doc;return t.cm=null,Zn(this,e),tr(this),this.display.input.reset(),Yr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ae(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(Yo);var ra="iter insert remove copy getEditor constructor".split(" ");for(var na in Ps.prototype)Ps.prototype.hasOwnProperty(na)&&h(ra,na)<0&&(Yo.prototype[na]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ps.prototype[na]));return Ae(Ps),Yo.inputStyles={textarea:ta,contenteditable:ea},Yo.defineMode=function(e){Yo.defaults.mode||"null"==e||(Yo.defaults.mode=e),Be.apply(this,arguments)},Yo.defineMIME=Ge,Yo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Yo.defineMIME("text/plain","null"),Yo.defineExtension=function(e,t){Yo.prototype[e]=t},Yo.defineDocExtension=function(e,t){Ps.prototype[e]=t},Yo.fromTextArea=fl,function(e){e.off=ke,e.on=ts,e.wheelEventPixels=In,e.Doc=Ps,e.splitLines=ns,e.countColumn=f,e.findColumn=d,e.isWordChar=w,e.Pass=Vl,e.signal=Te,e.Line=ps,e.changeEnd=Gn,e.scrollbarModel=Ss,e.Pos=P,e.cmpPos=E,e.modes=ss,e.mimeModes=as,e.resolveMode=Ue,e.getMode=Ve,e.modeExtensions=us,e.extendMode=Ke,e.copyState=je,e.startState=Ye,e.innerMode=Xe,e.commands=Vs,e.keyMap=Us,e.keyName=uo,e.isModifierKey=so,e.lookupKey=lo,e.normalizeKeyMap=oo,e.StringStream=cs,e.SharedTextMarker=Hs,e.TextMarker=Ds,e.LineWidget=As,e.e_preventDefault=We,e.e_stopPropagation=De,e.e_stop=Fe,e.addClass=s,e.contains=o,e.rmClass=Il,e.keyNames=zs}(Yo),Yo.version="5.35.0",Yo}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],"wrap",o),e.removeLineClass(e.state.activeLines[t],"background",l),e.removeLineClass(e.state.activeLines[t],"gutter",s)}function r(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function n(e,n){for(var i=[],a=0;a<n.length;a++){var u=n[a],c=e.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?u.anchor.line==u.head.line:u.empty()){var f=e.getLineHandleVisualStart(u.head.line);i[i.length-1]!=f&&i.push(f)}}r(e.state.activeLines,i)||e.operation(function(){t(e);for(var r=0;r<i.length;r++)e.addLineClass(i[r],"wrap",o),e.addLineClass(i[r],"background",l),e.addLineClass(i[r],"gutter",s);e.state.activeLines=i})}function i(e,t){n(e,t.ranges)}var o="CodeMirror-activeline",l="CodeMirror-activeline-background",s="CodeMirror-activeline-gutter";e.defineOption("styleActiveLine",!1,function(r,n,o){var l=o!=e.Init&&o;n!=l&&(l&&(r.off("beforeSelectionChange",i),t(r),delete r.state.activeLines),n&&(r.state.activeLines=[],r.on("beforeSelectionChange",i),r.on("blur",function(){t(r)})))})});

/* COMBO: filename = plugin/highlight/core.min.js, type = application/javascript, resp = 200 */
/*! highlight.js v9.12.0 | BSD3 License | git.io/hljslicense */
!function(e){var n="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):n&&(n.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return n.hljs}))}(function(e){function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0===t.index}function a(e){return k.test(e)}function i(e){var n,t,r,i,o=e.className+" ";if(o+=e.parentNode?e.parentNode.className:"",t=B.exec(o))return w(t[1])?t[1]:"no-highlight";for(o=o.split(/\s+/),n=0,r=o.length;r>n;n++)if(i=o[n],a(i)||w(i))return i}function o(e){var n,t={},r=Array.prototype.slice.call(arguments,1);for(n in e)t[n]=e[n];return r.forEach(function(e){for(n in e)t[n]=e[n]}),t}function u(e){var n=[];return function r(e,a){for(var i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?a+=i.nodeValue.length:1===i.nodeType&&(n.push({event:"start",offset:a,node:i}),a=r(i,a),t(i).match(/br|hr|img|input/)||n.push({event:"stop",offset:a,node:i}));return a}(e,0),n}function c(e,r,a){function i(){return e.length&&r.length?e[0].offset!==r[0].offset?e[0].offset<r[0].offset?e:r:"start"===r[0].event?e:r:e.length?e:r}function o(e){function r(e){return" "+e.nodeName+'="'+n(e.value).replace('"',"&quot;")+'"'}s+="<"+t(e)+E.map.call(e.attributes,r).join("")+">"}function u(e){s+="</"+t(e)+">"}function c(e){("start"===e.event?o:u)(e.node)}for(var l=0,s="",f=[];e.length||r.length;){var g=i();if(s+=n(a.substring(l,g[0].offset)),l=g[0].offset,g===e){f.reverse().forEach(u);do c(g.splice(0,1)[0]),g=i();while(g===e&&g.length&&g[0].offset===l);f.reverse().forEach(o)}else"start"===g[0].event?f.push(g[0].node):f.pop(),c(g.splice(0,1)[0])}return s+n(a.substr(l))}function l(e){return e.v&&!e.cached_variants&&(e.cached_variants=e.v.map(function(n){return o(e,{v:null},n)})),e.cached_variants||e.eW&&[o(e)]||[e]}function s(e){function n(e){return e&&e.source||e}function t(t,r){return new RegExp(n(t),"m"+(e.cI?"i":"")+(r?"g":""))}function r(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var o={},u=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");o[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof a.k?u("keyword",a.k):x(a.k).forEach(function(e){u(e,a.k[e])}),a.k=o}a.lR=t(a.l||/\w+/,!0),i&&(a.bK&&(a.b="\\b("+a.bK.split(" ").join("|")+")\\b"),a.b||(a.b=/\B|\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\B|\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||"",a.eW&&i.tE&&(a.tE+=(a.e?"|":"")+i.tE)),a.i&&(a.iR=t(a.i)),null==a.r&&(a.r=1),a.c||(a.c=[]),a.c=Array.prototype.concat.apply([],a.c.map(function(e){return l("self"===e?a:e)})),a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,i);var c=a.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=c.length?t(c.join("|"),!0):{exec:function(){return null}}}}r(e)}function f(e,t,a,i){function o(e,n){var t,a;for(t=0,a=n.c.length;a>t;t++)if(r(n.c[t].bR,e))return n.c[t]}function u(e,n){if(r(e.eR,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?u(e.parent,n):void 0}function c(e,n){return!a&&r(n.iR,e)}function l(e,n){var t=N.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function p(e,n,t,r){var a=r?"":I.classPrefix,i='<span class="'+a,o=t?"":C;return i+=e+'">',i+n+o}function h(){var e,t,r,a;if(!E.k)return n(k);for(a="",t=0,E.lR.lastIndex=0,r=E.lR.exec(k);r;)a+=n(k.substring(t,r.index)),e=l(E,r),e?(B+=e[1],a+=p(e[0],n(r[0]))):a+=n(r[0]),t=E.lR.lastIndex,r=E.lR.exec(k);return a+n(k.substr(t))}function d(){var e="string"==typeof E.sL;if(e&&!y[E.sL])return n(k);var t=e?f(E.sL,k,!0,x[E.sL]):g(k,E.sL.length?E.sL:void 0);return E.r>0&&(B+=t.r),e&&(x[E.sL]=t.top),p(t.language,t.value,!1,!0)}function b(){L+=null!=E.sL?d():h(),k=""}function v(e){L+=e.cN?p(e.cN,"",!0):"",E=Object.create(e,{parent:{value:E}})}function m(e,n){if(k+=e,null==n)return b(),0;var t=o(n,E);if(t)return t.skip?k+=n:(t.eB&&(k+=n),b(),t.rB||t.eB||(k=n)),v(t,n),t.rB?0:n.length;var r=u(E,n);if(r){var a=E;a.skip?k+=n:(a.rE||a.eE||(k+=n),b(),a.eE&&(k=n));do E.cN&&(L+=C),E.skip||(B+=E.r),E=E.parent;while(E!==r.parent);return r.starts&&v(r.starts,""),a.rE?0:n.length}if(c(n,E))throw new Error('Illegal lexeme "'+n+'" for mode "'+(E.cN||"<unnamed>")+'"');return k+=n,n.length||1}var N=w(e);if(!N)throw new Error('Unknown language: "'+e+'"');s(N);var R,E=i||N,x={},L="";for(R=E;R!==N;R=R.parent)R.cN&&(L=p(R.cN,"",!0)+L);var k="",B=0;try{for(var M,j,O=0;;){if(E.t.lastIndex=O,M=E.t.exec(t),!M)break;j=m(t.substring(O,M.index),M[0]),O=M.index+j}for(m(t.substr(O)),R=E;R.parent;R=R.parent)R.cN&&(L+=C);return{r:B,value:L,language:e,top:E}}catch(T){if(T.message&&-1!==T.message.indexOf("Illegal"))return{r:0,value:n(t)};throw T}}function g(e,t){t=t||I.languages||x(y);var r={r:0,value:n(e)},a=r;return t.filter(w).forEach(function(n){var t=f(n,e,!1);t.language=n,t.r>a.r&&(a=t),t.r>r.r&&(a=r,r=t)}),a.language&&(r.second_best=a),r}function p(e){return I.tabReplace||I.useBR?e.replace(M,function(e,n){return I.useBR&&"\n"===e?"<br>":I.tabReplace?n.replace(/\t/g,I.tabReplace):""}):e}function h(e,n,t){var r=n?L[n]:t,a=[e.trim()];return e.match(/\bhljs\b/)||a.push("hljs"),-1===e.indexOf(r)&&a.push(r),a.join(" ").trim()}function d(e){var n,t,r,o,l,s=i(e);a(s)||(I.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e,l=n.textContent,r=s?f(s,l,!0):g(l),t=u(n),t.length&&(o=document.createElementNS("http://www.w3.org/1999/xhtml","div"),o.innerHTML=r.value,r.value=c(t,u(o),l)),r.value=p(r.value),e.innerHTML=r.value,e.className=h(e.className,s,r.language),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function b(e){I=o(I,e)}function v(){if(!v.called){v.called=!0;var e=document.querySelectorAll("pre code");E.forEach.call(e,d)}}function m(){addEventListener("DOMContentLoaded",v,!1),addEventListener("load",v,!1)}function N(n,t){var r=y[n]=t(e);r.aliases&&r.aliases.forEach(function(e){L[e]=n})}function R(){return x(y)}function w(e){return e=(e||"").toLowerCase(),y[e]||y[L[e]]}var E=[],x=Object.keys,y={},L={},k=/^(no-?highlight|plain|text)$/i,B=/\blang(?:uage)?-([\w-]+)\b/i,M=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,C="</span>",I={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};return e.highlight=f,e.highlightAuto=g,e.fixMarkup=p,e.highlightBlock=d,e.configure=b,e.initHighlighting=v,e.initHighlightingOnLoad=m,e.registerLanguage=N,e.listLanguages=R,e.getLanguage=w,e.inherit=o,e.IR="[a-zA-Z]\\w*",e.UIR="[a-zA-Z_]\\w*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.C=function(n,t,r){var a=e.inherit({cN:"comment",b:n,e:t,c:[]},r||{});return a.c.push(e.PWM),a.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),a},e.CLCM=e.C("//","$"),e.CBCM=e.C("/\\*","\\*/"),e.HCM=e.C("#","$"),e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e.METHOD_GUARD={b:"\\.\\s*"+e.UIR,r:0},e});hljs.registerLanguage("json",function(e){var i={literal:"true false null"},n=[e.QSM,e.CNM],r={e:",",eW:!0,eE:!0,c:n,k:i},t={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(r,{b:/:/})],i:"\\S"},c={b:"\\[",e:"\\]",c:[e.inherit(r)],i:"\\S"};return n.splice(n.length,0,t,c),{c:n,k:i,i:"\\S"}});hljs.registerLanguage("javascript",function(e){var r="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:t,c:[]},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:t,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\s*/,r:0,c:[{b:r+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:r,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+r+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:r},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:s}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor",e:/\{/,eE:!0}],i:/#(?!!)/}});hljs.registerLanguage("stylus",function(e){var t={cN:"variable",b:"\\$"+e.IR},o={cN:"number",b:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},i=["charset","css","debug","extend","font-face","for","import","include","media","mixin","page","warn","while"],r=["after","before","first-letter","first-line","active","first-child","focus","hover","lang","link","visited"],n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],a="[\\.\\s\\n\\[\\:,]",l=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-ligatures","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"],d=["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"];return{aliases:["styl"],cI:!1,k:"if else for in",i:"("+d.join("|")+")",c:[e.QSM,e.ASM,e.CLCM,e.CBCM,o,{b:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+a,rB:!0,c:[{cN:"selector-class",b:"\\.[a-zA-Z][a-zA-Z0-9_-]*"}]},{b:"\\#[a-zA-Z][a-zA-Z0-9_-]*"+a,rB:!0,c:[{cN:"selector-id",b:"\\#[a-zA-Z][a-zA-Z0-9_-]*"}]},{b:"\\b("+n.join("|")+")"+a,rB:!0,c:[{cN:"selector-tag",b:"\\b[a-zA-Z][a-zA-Z0-9_-]*"}]},{b:"&?:?:\\b("+r.join("|")+")"+a},{b:"@("+i.join("|")+")\\b"},t,e.CSSNM,e.NM,{cN:"function",b:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",i:"[\\n]",rB:!0,c:[{cN:"title",b:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{cN:"params",b:/\(/,e:/\)/,c:[o,t,e.ASM,e.CSSNM,e.NM,e.QSM]}]},{cN:"attribute",b:"\\b("+l.reverse().join("|")+")\\b",starts:{e:/;|$/,c:[o,t,e.ASM,e.QSM,e.CSSNM,e.NM,e.CBCM],i:/\./,r:0}}]}});hljs.registerLanguage("less",function(e){var r="[\\w-]+",t="("+r+"|@{"+r+"})",a=[],c=[],s=function(e){return{cN:"string",b:"~?"+e+".*?"+e}},b=function(e,r,t){return{cN:e,b:r,r:t}},n={b:"\\(",e:"\\)",c:c,r:0};c.push(e.CLCM,e.CBCM,s("'"),s('"'),e.CSSNM,{b:"(url|data-uri)\\(",starts:{cN:"string",e:"[\\)\\n]",eE:!0}},b("number","#[0-9A-Fa-f]+\\b"),n,b("variable","@@?"+r,10),b("variable","@{"+r+"}"),b("built_in","~?`[^`]*?`"),{cN:"attribute",b:r+"\\s*:",e:":",rB:!0,eE:!0},{cN:"meta",b:"!important"});var i=c.concat({b:"{",e:"}",c:a}),o={bK:"when",eW:!0,c:[{bK:"and not"}].concat(c)},u={b:t+"\\s*:",rB:!0,e:"[;}]",r:0,c:[{cN:"attribute",b:t,e:":",eE:!0,starts:{eW:!0,i:"[<=$]",r:0,c:c}}]},l={cN:"keyword",b:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{e:"[;{}]",rE:!0,c:c,r:0}},C={cN:"variable",v:[{b:"@"+r+"\\s*:",r:15},{b:"@"+r}],starts:{e:"[;}]",rE:!0,c:i}},p={v:[{b:"[\\.#:&\\[>]",e:"[;{}]"},{b:t,e:"{"}],rB:!0,rE:!0,i:"[<='$\"]",r:0,c:[e.CLCM,e.CBCM,o,b("keyword","all\\b"),b("variable","@{"+r+"}"),b("selector-tag",t+"%?",0),b("selector-id","#"+t),b("selector-class","\\."+t,0),b("selector-tag","&",0),{cN:"selector-attr",b:"\\[",e:"\\]"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"\\(",e:"\\)",c:i},{b:"!important"}]};return a.push(e.CLCM,e.CBCM,l,C,u,p),{cI:!0,i:"[=>'/<($\"]",c:a}});hljs.registerLanguage("xml",function(s){var e="[A-Za-z0-9\\._:-]+",t={eW:!0,i:/</,r:0,c:[{cN:"attr",b:e,r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},s.C("<!--","-->",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0}]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[t],starts:{e:"</script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"meta",v:[{b:/<\?xml/,e:/\?>/,r:10},{b:/<\?\w+/,e:/\?>/}]},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},t]}]}});hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}});hljs.registerLanguage("scss",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",i={cN:"variable",b:"(\\$"+t+")\\b"},r={cN:"number",b:"#[0-9A-Fa-f]+"};({cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{eW:!0,eE:!0,c:[r,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"meta",b:"!important"}]}});return{cI:!0,i:"[=/|']",c:[e.CLCM,e.CBCM,{cN:"selector-id",b:"\\#[A-Za-z0-9_-]+",r:0},{cN:"selector-class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"selector-attr",b:"\\[",e:"\\]",i:"$"},{cN:"selector-tag",b:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",r:0},{b:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{b:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},i,{cN:"attribute",b:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",i:"[^\\s]"},{b:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{b:":",e:";",c:[i,r,e.CSSNM,e.QSM,e.ASM,{cN:"meta",b:"!important"}]},{b:"@",e:"[{;]",k:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",c:[i,e.QSM,e.ASM,r,e.CSSNM,{b:"\\s[A-Za-z0-9_.-]+",r:0}]}]}});hljs.registerLanguage("css",function(e){var c="[a-zA-Z-][a-zA-Z0-9_-]*",t={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:c,r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}});hljs.registerLanguage("ruby",function(e){var b="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},c={cN:"doctag",b:"@[A-Za-z]+"},a={b:"#<",e:">"},s=[e.C("#","$",{c:[c]}),e.C("^\\=begin","^\\=end",{c:[c],r:10}),e.C("^__END__","\\n$")],n={cN:"subst",b:"#\\{",e:"}",k:r},t={cN:"string",c:[e.BE,n],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<(-?)\w+$/,e:/^\s*\w+$/}]},i={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:r},d=[t,a,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(s)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:b}),i].concat(s)},{b:e.IR+"::"},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":(?!\\s)",c:[t,{b:b}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:r},{b:"("+e.RSR+"|unless)\\s*",k:"unless",c:[a,{cN:"regexp",c:[e.BE,n],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(s),r:0}].concat(s);n.c=d,i.c=d;var l="[>?]>",o="[\\w#]+\\(\\w+\\):\\d+:\\d+>",u="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",w=[{b:/^\s*=>/,starts:{e:"$",c:d}},{cN:"meta",b:"^("+l+"|"+o+"|"+u+")",starts:{e:"$",c:d}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,i:/\/\*/,c:s.concat(w).concat(d)}});hljs.registerLanguage("haml",function(s){return{cI:!0,c:[{cN:"meta",b:"^!!!( (5|1\\.1|Strict|Frameset|Basic|Mobile|RDFa|XML\\b.*))?$",r:10},s.C("^\\s*(!=#|=#|-#|/).*$",!1,{r:0}),{b:"^\\s*(-|=|!=)(?!#)",starts:{e:"\\n",sL:"ruby"}},{cN:"tag",b:"^\\s*%",c:[{cN:"selector-tag",b:"\\w+"},{cN:"selector-id",b:"#[\\w-]+"},{cN:"selector-class",b:"\\.[\\w-]+"},{b:"{\\s*",e:"\\s*}",c:[{b:":\\w+\\s*=>",e:",\\s+",rB:!0,eW:!0,c:[{cN:"attr",b:":\\w+"},s.ASM,s.QSM,{b:"\\w+",r:0}]}]},{b:"\\(\\s*",e:"\\s*\\)",eE:!0,c:[{b:"\\w+\\s*=",e:"\\s+",rB:!0,eW:!0,c:[{cN:"attr",b:"\\w+",r:0},s.ASM,s.QSM,{b:"\\w+",r:0}]}]}]},{b:"^\\s*[=~]\\s*"},{b:"#{",starts:{e:"}",sL:"ruby"}}]}});
/* COMBO: filename = plugin/raphael/core.min.js, type = application/javascript, resp = 200 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Raphael",[],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var i,n;i=[r(1),r(3),r(4)],void 0!==(n=function(t){return t}.apply(e,i))&&(t.exports=n)},function(t,e,r){var i,n;i=[r(2)],void 0!==(n=function(t){function e(r){if(e.is(r,"function"))return m?r():t.on("raphael.DOMload",r);if(e.is(r,G))return e._engine.create[A](e,r.splice(0,3+e.is(r[0],W))).add(r);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var n=i.pop();return m?n.call(e._engine.create[A](e,i)):t.on("raphael.DOMload",function(){n.call(e._engine.create[A](e,i))})}return e._engine.create[A](e,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[B](i)&&(e[i]=r(t[i]));return e}function i(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function n(t,e,r){function n(){var a=Array.prototype.slice.call(arguments,0),s=a.join("␀"),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[B](s)?(i(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[A](e,a),r?r(o[s]):o[s])}return n}function a(){return this.hex}function s(t,e){for(var r=[],i=0,n=t.length;n-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?n-4==i?a[3]={x:+t[0],y:+t[1]}:n-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[n-2],y:+t[n-1]}:n-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function o(t,e,r,i,n){return t*(t*(-3*e+9*r-9*i+3*n)+6*e-12*r+6*i)-3*e+3*r}function l(t,e,r,i,n,a,s,l,h){null==h&&(h=1),h=h>1?1:h<0?0:h;for(var u=h/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var g=u*c[d]+u,x=o(g,t,r,n,s),v=o(g,e,i,a,l),y=x*x+v*v;p+=f[d]*j.sqrt(y)}return u*p}function h(t,e,r,i,n,a,s,o,h){if(!(h<0||l(t,e,r,i,n,a,s,o)<h)){var u,c=.5,f=1-c;for(u=l(t,e,r,i,n,a,s,o,f);V(u-h)>.01;)c/=2,f+=(u<h?1:-1)*c,u=l(t,e,r,i,n,a,s,o,f);return f}}function u(t,e,r,i,n,a,s,o){if(!(q(t,r)<D(n,s)||D(t,r)>q(n,s)||q(e,i)<D(a,o)||D(e,i)>q(a,o))){var l=(t*i-e*r)*(n-s)-(t-r)*(n*o-a*s),h=(t*i-e*r)*(a-o)-(e-i)*(n*o-a*s),u=(t-r)*(a-o)-(e-i)*(n-s);if(u){var c=l/u,f=h/u,p=+c.toFixed(2),d=+f.toFixed(2);if(!(p<+D(t,r).toFixed(2)||p>+q(t,r).toFixed(2)||p<+D(n,s).toFixed(2)||p>+q(n,s).toFixed(2)||d<+D(e,i).toFixed(2)||d>+q(e,i).toFixed(2)||d<+D(a,o).toFixed(2)||d>+q(a,o).toFixed(2)))return{x:c,y:f}}}}function c(t,r,i){var n=e.bezierBBox(t),a=e.bezierBBox(r);if(!e.isBBoxIntersect(n,a))return i?0:[];for(var s=l.apply(0,t),o=l.apply(0,r),h=q(~~(s/5),1),c=q(~~(o/5),1),f=[],p=[],d={},g=i?0:[],x=0;x<h+1;x++){var v=e.findDotsAtSegment.apply(e,t.concat(x/h));f.push({x:v.x,y:v.y,t:x/h})}for(x=0;x<c+1;x++)v=e.findDotsAtSegment.apply(e,r.concat(x/c)),p.push({x:v.x,y:v.y,t:x/c});for(x=0;x<h;x++)for(var y=0;y<c;y++){var m=f[x],b=f[x+1],_=p[y],w=p[y+1],k=V(b.x-m.x)<.001?"y":"x",B=V(w.x-_.x)<.001?"y":"x",C=u(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=m.t+V((C[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),T=_.t+V((C[B]-_[B])/(w[B]-_[B]))*(w.t-_.t);S>=0&&S<=1.001&&T>=0&&T<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:D(S,1),t2:D(T,1)}))}}return g}function f(t,r,i){t=e._path2curve(t),r=e._path2curve(r);for(var n,a,s,o,l,h,u,f,p,d,g=i?0:[],x=0,v=t.length;x<v;x++){var y=t[x];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(p=[n,a].concat(y.slice(1)),n=p[6],a=p[7]):(p=[n,a,n,a,l,h,l,h],n=l,a=h);for(var m=0,b=r.length;m<b;m++){var _=r[m];if("M"==_[0])s=u=_[1],o=f=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,u,f,u,f],s=u,o=f);var w=c(p,d,i);if(i)g+=w;else{for(var k=0,B=w.length;k<B;k++)w[k].segment1=x,w[k].segment2=m,w[k].bez1=p,w[k].bez2=d;g=g.concat(w)}}}}}return g}function p(t,e,r,i,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+L+this.y+L+this.width+" × "+this.height}function g(t,e,r,i,n,a){function s(t){return((u*t+h)*t+l)*t}function o(t,e){var r,i,n,a,o,c;for(n=t,c=0;c<8;c++){if(a=s(n)-t,V(a)<e)return n;if(o=(3*u*n+2*h)*n+l,V(o)<1e-6)break;n-=a/o}if(r=0,i=1,(n=t)<r)return r;if(n>i)return i;for(;r<i;){if(a=s(n),V(a-t)<e)return n;t>a?r=n:i=n,n=(i-r)/2+r}return n}var l=3*e,h=3*(i-e)-l,u=1-l-h,c=3*r,f=3*(n-r)-c,p=1-c-f;return function(t,e){var r=o(t,e);return((p*r+f)*r+c)*r}(t,1/(200*a))}function x(t,e){var r=[],i={};if(this.ms=e,this.times=1,t){for(var n in t)t[B](n)&&(i[Q(n)]=t[n],r.push(Q(n)));r.sort(ht)}this.anim=i,this.top=r[r.length-1],this.percents=r}function v(r,i,n,a,s,o){n=Q(n);var l,h,u,c,f,d,x=r.ms,v={},y={},m={};if(a)for(w=0,k=ne.length;w<k;w++){var b=ne[w];if(b.el.id==i.id&&b.anim==r){b.percent!=n?(ne.splice(w,1),u=1):h=b,i.attr(b.totalOrigin);break}}else a=+y;for(var w=0,k=r.percents.length;w<k;w++){if(r.percents[w]==n||r.percents[w]>a*r.top){n=r.percents[w],f=r.percents[w-1]||0,x=x/r.top*(n-f),c=r.percents[w+1],l=r.anim[n];break}a&&i.attr(r.anim[r.percents[w]])}if(l){if(h)h.initstatus=a,h.start=new Date-h.ms*a;else{for(var C in l)if(l[B](C)&&(et[B](C)||i.paper.customAttributes[B](C)))switch(v[C]=i.attr(C),null==v[C]&&(v[C]=tt[C]),y[C]=l[C],et[C]){case W:m[C]=(y[C]-v[C])/x;break;case"colour":v[C]=e.getRGB(v[C]);var S=e.getRGB(y[C]);m[C]={r:(S.r-v[C].r)/x,g:(S.g-v[C].g)/x,b:(S.b-v[C].b)/x};break;case"path":var T=zt(v[C],y[C]),A=T[1];for(v[C]=T[0],m[C]=[],w=0,k=v[C].length;w<k;w++){m[C][w]=[0];for(var N=1,M=v[C][w].length;N<M;N++)m[C][w][N]=(A[w][N]-v[C][w][N])/x}break;case"transform":var L=i._,F=jt(L[C],y[C]);if(F)for(v[C]=F.from,y[C]=F.to,m[C]=[],m[C].real=!0,w=0,k=v[C].length;w<k;w++)for(m[C][w]=[v[C][w][0]],N=1,M=v[C][w].length;N<M;N++)m[C][w][N]=(y[C][w][N]-v[C][w][N])/x;else{var R=i.matrix||new p,I={_:{transform:L.transform},getBBox:function(){return i.getBBox(1)}};v[C]=[R.a,R.b,R.c,R.d,R.e,R.f],Rt(I,y[C]),y[C]=I._.transform,m[C]=[(I.matrix.a-R.a)/x,(I.matrix.b-R.b)/x,(I.matrix.c-R.c)/x,(I.matrix.d-R.d)/x,(I.matrix.e-R.e)/x,(I.matrix.f-R.f)/x]}break;case"csv":var j=z(l[C])[P](_),q=z(v[C])[P](_);if("clip-rect"==C)for(v[C]=q,m[C]=[],w=q.length;w--;)m[C][w]=(j[w]-v[C][w])/x;y[C]=j;break;default:for(j=[][E](l[C]),q=[][E](v[C]),m[C]=[],w=i.paper.customAttributes[C].length;w--;)m[C][w]=((j[w]||0)-(q[w]||0))/x}var D=l.easing,V=e.easing_formulas[D];if(!V)if((V=z(D).match($))&&5==V.length){var O=V;V=function(t){return g(t,+O[1],+O[2],+O[3],+O[4],x)}}else V=ut;if(d=l.start||r.start||+new Date,b={anim:r,percent:n,timestamp:d,start:d+(r.del||0),status:0,initstatus:a||0,stop:!1,ms:x,easing:V,from:v,diff:m,to:y,el:i,callback:l.callback,prev:f,next:c,repeat:o||r.times,origin:i.attr(),totalOrigin:s},ne.push(b),a&&!h&&!u&&(b.stop=!0,b.start=new Date-x*a,1==ne.length))return se();u&&(b.start=new Date-b.ms*a),1==ne.length&&ae(se)}t("raphael.anim.start."+i.id,i,r)}}function y(t){for(var e=0;e<ne.length;e++)ne[e].el.paper==t&&ne.splice(e--,1)}e.version="@@VERSION",e.eve=t;var m,b,_=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,B="hasOwnProperty",C={doc:document,win:window},S={was:Object.prototype[B].call(C.win,"Raphael"),is:C.win.Raphael},T=function(){this.ca=this.customAttributes={}},A="apply",E="concat",N="ontouchstart"in C.win||C.win.DocumentTouch&&C.doc instanceof DocumentTouch,M="",L=" ",z=String,P="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[P](L),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},I=z.prototype.toLowerCase,j=Math,q=j.max,D=j.min,V=j.abs,O=j.pow,Y=j.PI,W="number",G="array",H=Object.prototype.toString,X=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),U={NaN:1,Infinity:1,"-Infinity":1},$=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=j.round,Q=parseFloat,J=parseInt,K=z.prototype.toUpperCase,tt=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},et=e._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},nt=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ht=function(t,e){return Q(t)-Q(e)},ut=function(t){return t},ct=e._rectPath=function(t,e,r,i,n){return n?[["M",t+n,e],["l",r-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-r,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-i],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",r,0],["l",0,i],["l",-r,0],["z"]]},ft=function(t,e,r,i){return null==i&&(i=r),[["M",t,e],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]]},pt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ft(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ft(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)}},dt=e.mapPath=function(t,e){if(!e)return t;var r,i,n,a,s,o,l;for(t=zt(t),n=0,s=t.length;n<s;n++)for(l=t[n],a=1,o=l.length;a<o;a+=2)r=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=r,l[a+1]=i;return t};if(e._g=C,e.type=C.win.SVGAngle||C.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var gt,xt=C.doc.createElement("div");if(xt.innerHTML='<v:shape adj="1"/>',gt=xt.firstChild,gt.style.behavior="url(#default#VML)",!gt||"object"!=typeof gt.adj)return e.type=M;xt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=T,e.fn=b=T.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return e=I.call(e),"finite"==e?!U[B](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||H.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,r,i,n,a,s){if(null==a){var o=t-i,l=r-n;return o||l?(180+180*j.atan2(-l,-o)/Y+360)%360:0}return e.angle(t,r,a,s)-e.angle(i,n,a,s)},e.rad=function(t){return t%360*Y/180},e.deg=function(t){return Math.round(180*t/Y%360*1e3)/1e3},e.snapTo=function(t,r,i){if(i=e.is(i,"finite")?i:10,e.is(t,G)){for(var n=t.length;n--;)if(V(t[n]-r)<=i)return t[n]}else{t=+t;var a=r%t;if(a<i)return r-a;if(a>t-i)return r-a+t}return r};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*j.random()|0;return("x"==t?e:3&e|8).toString(16)});e.setWindow=function(r){t("raphael.setWindow",e,C.win,r),C.win=r,C.doc=C.win.document,e._engine.initWin&&e._engine.initWin(C.win)};var vt=function(t){if(e.vml){var r,i=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),r=a.body}catch(t){r=createPopup().document.body}var s=r.createTextRange();vt=n(function(t){try{r.style.color=z(t).replace(i,M);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=C.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",C.doc.body.appendChild(o),vt=n(function(t){return o.style.color=t,C.doc.defaultView.getComputedStyle(o,M).getPropertyValue("color")})}return vt(t)},yt=function(){return"hsb("+[this.h,this.s,this.b]+")"},mt=function(){return"hsl("+[this.h,this.s,this.l]+")"},bt=function(){return this.hex},_t=function(t,r,i){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,r=t.g,t=t.r),null==r&&e.is(t,"string")){var n=e.getRGB(t);t=n.r,r=n.g,i=n.b}return(t>1||r>1||i>1)&&(t/=255,r/=255,i/=255),[t,r,i]},wt=function(t,r,i,n){t*=255,r*=255,i*=255;var a={r:t,g:r,b:i,hex:e.rgb(t,r,i),toString:bt};return e.is(n,"finite")&&(a.opacity=n),a};e.color=function(t){var r;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(r=e.hsb2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(r=e.hsl2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(r=e.rgb2hsl(t),t.h=r.h,t.s=r.s,t.l=r.l,r=e.rgb2hsb(t),t.v=r.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=bt,t},e.hsb2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,i=t.o,t=t.h),t*=360;var n,a,s,o,l;return t=t%360/60,l=r*e,o=l*(1-V(t%2-1)),n=a=s=r-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],wt(n,a,s,i)},e.hsl2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(r<.5?r:1-r),o=l*(1-V(t%2-1)),n=a=s=r-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],wt(n,a,s,i)},e.rgb2hsb=function(t,e,r){r=_t(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s;return a=q(t,e,r),s=a-D(t,e,r),i=0==s?null:a==t?(e-r)/s:a==e?(r-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,n=0==s?0:s/a,{h:i,s:n,b:a,toString:yt}},e.rgb2hsl=function(t,e,r){r=_t(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s,o,l;return s=q(t,e,r),o=D(t,e,r),l=s-o,i=0==l?null:s==t?(e-r)/l:s==e?(r-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,a=(s+o)/2,n=0==l?0:a<.5?l/(2*a):l/(2-2*a),{h:i,s:n,l:a,toString:mt}},e._path2string=function(){return this.join(",").replace(nt,"$1")};e._preload=function(t,e){var r=C.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,C.doc.body.removeChild(this)},r.onerror=function(){C.doc.body.removeChild(this)},C.doc.body.appendChild(r),r.src=t};e.getRGB=n(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(it[B](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=vt(t));var r,i,n,s,o,l,h=t.match(X);return h?(h[2]&&(n=J(h[2].substring(5),16),i=J(h[2].substring(3,5),16),r=J(h[2].substring(1,3),16)),h[3]&&(n=J((o=h[3].charAt(3))+o,16),i=J((o=h[3].charAt(2))+o,16),r=J((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][P](rt),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=Q(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=Q(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][P](rt),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=Q(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=Q(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(r,i,n,s)):h[6]?(l=h[6][P](rt),r=Q(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=Q(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=Q(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=Q(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(r,i,n,s)):(h={r:r,g:i,b:n,toString:a},h.hex="#"+(16777216|n|i<<8|r<<16).toString(16).slice(1),e.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(t,r,i){return e.hsb2rgb(t,r,i).hex}),e.hsl=n(function(t,r,i){return e.hsl2rgb(t,r,i).hex}),e.rgb=n(function(t,e,r){function i(t){return t+.5|0}return"#"+(16777216|i(r)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var r=kt(t);if(r.arr)return Ct(r.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,G)&&e.is(t[0],G)&&(n=Ct(t)),n.length||z(t).replace(at,function(t,e,r){var a=[],s=e.toLowerCase();if(r.replace(ot,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][E](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][E](a));else for(;a.length>=i[s]&&(n.push([e][E](a.splice(0,i[s]))),i[s]););}),n.toString=e._path2string,r.arr=Ct(n),n},e.parseTransformString=n(function(t){if(!t)return null;var r=[];return e.is(t,G)&&e.is(t[0],G)&&(r=Ct(t)),r.length||z(t).replace(st,function(t,e,i){var n=[];I.call(e);i.replace(ot,function(t,e){e&&n.push(+e)}),r.push([e][E](n))}),r.toString=e._path2string,r});var kt=function(t){var e=kt.ps=kt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var r in e)e[B](r)&&r!=t&&!--e[r].sleep&&delete e[r]}),e[t]};e.findDotsAtSegment=function(t,e,r,i,n,a,s,o,l){var h=1-l,u=O(h,3),c=O(h,2),f=l*l,p=f*l,d=u*t+3*c*l*r+3*h*l*l*n+p*s,g=u*e+3*c*l*i+3*h*l*l*a+p*o,x=t+2*l*(r-t)+f*(n-2*r+t),v=e+2*l*(i-e)+f*(a-2*i+e),y=r+2*l*(n-r)+f*(s-2*n+r),m=i+2*l*(a-i)+f*(o-2*a+i),b=h*t+l*r,_=h*e+l*i,w=h*n+l*s,k=h*a+l*o,B=90-180*j.atan2(x-y,v-m)/Y;return(x>y||v<m)&&(B+=180),{x:d,y:g,m:{x:x,y:v},n:{x:y,y:m},start:{x:b,y:_},end:{x:w,y:k},alpha:B}},e.bezierBBox=function(t,r,i,n,a,s,o,l){e.is(t,"array")||(t=[t,r,i,n,a,s,o,l]);var h=Lt.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},e.isBBoxIntersect=function(t,r){var i=e.isPointInsideBBox;return i(r,t.x,t.y)||i(r,t.x2,t.y)||i(r,t.x,t.y2)||i(r,t.x2,t.y2)||i(t,r.x,r.y)||i(t,r.x2,r.y)||i(t,r.x,r.y2)||i(t,r.x2,r.y2)||(t.x<r.x2&&t.x>r.x||r.x<t.x2&&r.x>t.x)&&(t.y<r.y2&&t.y>r.y||r.y<t.y2&&r.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,r,i){var n=e.pathBBox(t);return e.isPointInsideBBox(n,r,i)&&f(t,[["M",r,i],["H",n.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Bt=e.pathBBox=function(t){var e=kt(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=zt(t);for(var i,n=0,a=0,s=[],o=[],l=0,h=t.length;l<h;l++)if(i=t[l],"M"==i[0])n=i[1],a=i[2],s.push(n),o.push(a);else{var u=Lt(n,a,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[E](u.min.x,u.max.x),o=o[E](u.min.y,u.max.y),n=i[5],a=i[6]}var c=D[A](0,s),f=D[A](0,o),p=q[A](0,s),d=q[A](0,o),g=p-c,x=d-f,v={x:c,y:f,x2:p,y2:d,width:g,height:x,cx:c+g/2,cy:f+x/2};return e.bbox=r(v),v},Ct=function(t){var i=r(t);return i.toString=e._path2string,i},St=e._pathToRelative=function(t){var r=kt(t);if(r.rel)return Ct(r.rel);e.is(t,G)&&e.is(t&&t[0],G)||(t=e.parsePathString(t));var i=[],n=0,a=0,s=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],a=t[0][2],s=n,o=a,l++,i.push(["M",n,a]));for(var h=l,u=t.length;h<u;h++){var c=i[h]=[],f=t[h];if(f[0]!=I.call(f[0]))switch(c[0]=I.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-n).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(var p=1,d=f.length;p<d;p++)c[p]=+(f[p]-(p%2?n:a)).toFixed(3)}else{c=i[h]=[],"m"==f[0]&&(s=f[1]+n,o=f[2]+a);for(var g=0,x=f.length;g<x;g++)i[h][g]=f[g]}var v=i[h].length;switch(i[h][0]){case"z":n=s,a=o;break;case"h":n+=+i[h][v-1];break;case"v":a+=+i[h][v-1];break;default:n+=+i[h][v-2],a+=+i[h][v-1]}}return i.toString=e._path2string,r.rel=Ct(i),i},Tt=e._pathToAbsolute=function(t){var r=kt(t);if(r.abs)return Ct(r.abs);if(e.is(t,G)&&e.is(t&&t[0],G)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,a=0,o=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],o=n,l=a,h++,i[0]=["M",n,a]);for(var u,c,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,d=t.length;p<d;p++){if(i.push(u=[]),c=t[p],c[0]!=K.call(c[0]))switch(u[0]=K.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+n),u[7]=+(c[7]+a);break;case"V":u[1]=+c[1]+a;break;case"H":u[1]=+c[1]+n;break;case"R":for(var g=[n,a][E](c.slice(1)),x=2,v=g.length;x<v;x++)g[x]=+g[x]+n,g[++x]=+g[x]+a;i.pop(),i=i[E](s(g,f));break;case"M":o=+c[1]+n,l=+c[2]+a;default:for(x=1,v=c.length;x<v;x++)u[x]=+c[x]+(x%2?n:a)}else if("R"==c[0])g=[n,a][E](c.slice(1)),i.pop(),i=i[E](s(g,f)),u=["R"][E](c.slice(-2));else for(var y=0,m=c.length;y<m;y++)u[y]=c[y];switch(u[0]){case"Z":n=o,a=l;break;case"H":n=u[1];break;case"V":a=u[1];break;case"M":o=u[u.length-2],l=u[u.length-1];default:n=u[u.length-2],a=u[u.length-1]}}return i.toString=e._path2string,r.abs=Ct(i),i},At=function(t,e,r,i){return[t,e,r,i,r,i]},Et=function(t,e,r,i,n,a){return[1/3*t+2/3*r,1/3*e+2/3*i,1/3*n+2/3*r,1/3*a+2/3*i,n,a]},Nt=function(t,e,r,i,a,s,o,l,h,u){var c,f=120*Y/180,p=Y/180*(+a||0),d=[],g=n(function(t,e,r){return{x:t*j.cos(r)-e*j.sin(r),y:t*j.sin(r)+e*j.cos(r)}});if(u)B=u[0],C=u[1],w=u[2],k=u[3];else{c=g(t,e,-p),t=c.x,e=c.y,c=g(l,h,-p),l=c.x,h=c.y;var x=(j.cos(Y/180*a),j.sin(Y/180*a),(t-l)/2),v=(e-h)/2,y=x*x/(r*r)+v*v/(i*i);y>1&&(y=j.sqrt(y),r*=y,i*=y);var m=r*r,b=i*i,_=(s==o?-1:1)*j.sqrt(V((m*b-m*v*v-b*x*x)/(m*v*v+b*x*x))),w=_*r*v/i+(t+l)/2,k=_*-i*x/r+(e+h)/2,B=j.asin(((e-k)/i).toFixed(9)),C=j.asin(((h-k)/i).toFixed(9));B=t<w?Y-B:B,C=l<w?Y-C:C,B<0&&(B=2*Y+B),C<0&&(C=2*Y+C),o&&B>C&&(B-=2*Y),!o&&C>B&&(C-=2*Y)}var S=C-B;if(V(S)>f){var T=C,A=l,N=h;C=B+f*(o&&C>B?1:-1),l=w+r*j.cos(C),h=k+i*j.sin(C),d=Nt(l,h,r,i,a,0,o,A,N,[C,T,w,k])}S=C-B;var M=j.cos(B),L=j.sin(B),z=j.cos(C),F=j.sin(C),R=j.tan(S/4),I=4/3*r*R,q=4/3*i*R,D=[t,e],O=[t+I*L,e-q*M],W=[l+I*F,h-q*z],G=[l,h];if(O[0]=2*D[0]-O[0],O[1]=2*D[1]-O[1],u)return[O,W,G][E](d);d=[O,W,G][E](d).join()[P](",");for(var H=[],X=0,U=d.length;X<U;X++)H[X]=X%2?g(d[X-1],d[X],p).y:g(d[X],d[X+1],p).x;return H},Mt=function(t,e,r,i,n,a,s,o,l){var h=1-l;return{x:O(h,3)*t+3*O(h,2)*l*r+3*h*l*l*n+O(l,3)*s,y:O(h,3)*e+3*O(h,2)*l*i+3*h*l*l*a+O(l,3)*o}},Lt=n(function(t,e,r,i,n,a,s,o){var l,h=n-2*r+t-(s-2*n+r),u=2*(r-t)-2*(n-r),c=t-r,f=(-u+j.sqrt(u*u-4*h*c))/2/h,p=(-u-j.sqrt(u*u-4*h*c))/2/h,d=[e,o],g=[t,s];return V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=Mt(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&p<1&&(l=Mt(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),h=a-2*i+e-(o-2*a+i),u=2*(i-e)-2*(a-i),c=e-i,f=(-u+j.sqrt(u*u-4*h*c))/2/h,p=(-u-j.sqrt(u*u-4*h*c))/2/h,V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=Mt(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&p<1&&(l=Mt(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),{min:{x:D[A](0,g),y:D[A](0,d)},max:{x:q[A](0,g),y:q[A](0,d)}}}),zt=e._path2curve=n(function(t,e){var r=!e&&kt(t);if(!e&&r.curve)return Ct(r.curve);for(var i=Tt(t),n=e&&Tt(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,r){var i,n,a={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in a)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][E](Nt[A](0,[e.x,e.y][E](t.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*e.x-e.bx,n=2*e.y-e.by):(i=e.x,n=e.y),t=["C",i,n][E](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][E](Et(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][E](Et(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][E](At(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][E](At(e.x,e.y,t[1],e.y));break;case"V":t=["C"][E](At(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][E](At(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)u[e]="A",n&&(c[e]="A"),t.splice(e++,0,["C"][E](r.splice(0,6)));t.splice(e,1),g=q(i.length,n&&n.length||0)}},h=function(t,e,r,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],g=q(i.length,n&&n.length||0))},u=[],c=[],f="",p="",d=0,g=q(i.length,n&&n.length||0);d<g;d++){i[d]&&(f=i[d][0]),"C"!=f&&(u[d]=f,d&&(p=u[d-1])),i[d]=o(i[d],a,p),"A"!=u[d]&&"C"==f&&(u[d]="C"),l(i,d),n&&(n[d]&&(f=n[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),n[d]=o(n[d],s,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(n,d)),h(i,n,a,s,d),h(n,i,s,a,d);var x=i[d],v=n&&n[d],y=x.length,m=n&&v.length;a.x=x[y-2],a.y=x[y-1],a.bx=Q(x[y-4])||a.x,a.by=Q(x[y-3])||a.y,s.bx=n&&(Q(v[m-4])||s.x),s.by=n&&(Q(v[m-3])||s.y),s.x=n&&v[m-2],s.y=n&&v[m-1]}return n||(r.curve=Ct(i)),n?[i,n]:i},null,Ct),Pt=(e._parseDots=n(function(t){for(var r=[],i=0,n=t.length;i<n;i++){var a={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(a.color=e.getRGB(s[1]),a.color.error)return null;a.opacity=a.color.opacity,a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),r.push(a)}for(i=1,n=r.length-1;i<n;i++)if(!r[i].offset){for(var o=Q(r[i-1].offset||0),l=0,h=i+1;h<n;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=n),l=Q(l);for(var u=(l-o)/(h-i+1);i<h;i++)o+=u,r[i].offset=o+"%"}return r}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Ft=(e._tofront=function(t,e){e.top!==t&&(Pt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Pt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,r){Pt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,r){Pt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var r=Bt(t),i={_:{transform:M},getBBox:function(){return r}};return Rt(i,e),i.matrix}),Rt=(e.transformPath=function(t,e){return dt(t,Ft(t,e))},e._extractTransform=function(t,r){if(null==r)return t._.transform;r=z(r).replace(/\.{3}|\u2026/g,t._.transform||M);var i=e.parseTransformString(r),n=0,a=0,s=0,o=1,l=1,h=t._,u=new p;if(h.transform=i||[],i)for(var c=0,f=i.length;c<f;c++){var d,g,x,v,y,m=i[c],b=m.length,_=z(m[0]).toLowerCase(),w=m[0]!=_,k=w?u.invert():0;"t"==_&&3==b?w?(d=k.x(0,0),g=k.y(0,0),x=k.x(m[1],m[2]),v=k.y(m[1],m[2]),u.translate(x-d,v-g)):u.translate(m[1],m[2]):"r"==_?2==b?(y=y||t.getBBox(1),u.rotate(m[1],y.x+y.width/2,y.y+y.height/2),n+=m[1]):4==b&&(w?(x=k.x(m[2],m[3]),v=k.y(m[2],m[3]),u.rotate(m[1],x,v)):u.rotate(m[1],m[2],m[3]),n+=m[1]):"s"==_?2==b||3==b?(y=y||t.getBBox(1),u.scale(m[1],m[b-1],y.x+y.width/2,y.y+y.height/2),o*=m[1],l*=m[b-1]):5==b&&(w?(x=k.x(m[3],m[4]),v=k.y(m[3],m[4]),u.scale(m[1],m[2],x,v)):u.scale(m[1],m[2],m[3],m[4]),o*=m[1],l*=m[2]):"m"==_&&7==b&&u.add(m[1],m[2],m[3],m[4],m[5],m[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1}),It=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},jt=e._equaliseTransform=function(t,r){r=z(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];for(var i,n,a,s,o=q(t.length,r.length),l=[],h=[],u=0;u<o;u++){if(a=t[u]||It(r[u]),s=r[u]||It(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(l[u]=[],h[u]=[],i=0,n=q(a.length,s.length);i<n;i++)i in a&&(l[u][i]=a[i]),i in s&&(h[u][i]=s[i])}return{from:l,to:h}};e._getContainer=function(t,r,i,n){var a;if(null!=(a=null!=n||e.is(t,"object")?t:C.doc.getElementById(t)))return a.tagName?null==r?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:r,height:i}:{container:1,x:t,y:r,width:i,height:n}},e.pathToRelative=St,e._engine={},e.path2curve=zt,e.matrix=function(t,e,r,i,n,a){return new p(t,e,r,i,n,a)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=j.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,i,n,a){var s,o,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,r,n],[e,i,a],[0,0,1]];for(t&&t instanceof p&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(o=0;o<3;o++){for(h=0,l=0;l<3;l++)h+=c[s][l]*f[l][o];u[s][o]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,i){null==e&&(e=t),(r||i)&&this.add(1,0,0,1,r,i),this.add(t,0,0,e,0,0),(r||i)&&this.add(1,0,0,1,-r,-i)},t.rotate=function(t,r,i){t=e.rad(t),r=r||0,i=i||0;var n=+j.cos(t).toFixed(9),a=+j.sin(t).toFixed(9);this.add(n,a,-a,n,r,i),this.add(1,0,0,1,-r,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){
    return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=j.sqrt(r(n[0])),i(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=j.sqrt(r(n[1])),i(n[1]),t.shear/=t.scaley;var a=-n[0][1],s=n[1][1];return s<0?(t.rotate=e.deg(j.acos(s)),a<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(j.asin(a)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[P]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:M)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:M)+(e.rotate?"r"+[e.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var qt=function(){this.returnValue=!1},Dt=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},Ot=function(){return this.originalEvent.stopPropagation()},Yt=function(t){var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,r=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;return{x:t.clientX+r,y:t.clientY+e}},Wt=function(){return C.doc.addEventListener?function(t,e,r,i){var n=function(t){var e=Yt(t);return r.call(i,t,e.x,e.y)};if(t.addEventListener(e,n,!1),N&&R[e]){var a=function(e){for(var n=Yt(e),a=e,s=0,o=e.targetTouches&&e.targetTouches.length;s<o;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=a,e.preventDefault=Dt,e.stopPropagation=Ot;break}return r.call(i,e,n.x,n.y)};t.addEventListener(R[e],a,!1)}return function(){return t.removeEventListener(e,n,!1),N&&R[e]&&t.removeEventListener(R[e],a,!1),!0}}:C.doc.attachEvent?function(t,e,r,i){var n=function(t){t=t||C.win.event;var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,n=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||qt,t.stopPropagation=t.stopPropagation||Vt,r.call(i,t,a,s)};return t.attachEvent("on"+e,n),function(){return t.detachEvent("on"+e,n),!0}}:void 0}(),Gt=[],Ht=function(e){for(var r,i=e.clientX,n=e.clientY,a=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,s=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,o=Gt.length;o--;){if(r=Gt[o],N&&e.touches){for(var l,h=e.touches.length;h--;)if(l=e.touches[h],l.identifier==r.el._drag.id){i=l.clientX,n=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u,c=r.el.node,f=c.nextSibling,p=c.parentNode,d=c.style.display;C.win.opera&&p.removeChild(c),c.style.display="none",u=r.el.paper.getElementByPoint(i,n),c.style.display=d,C.win.opera&&(f?p.insertBefore(c,f):p.appendChild(c)),u&&t("raphael.drag.over."+r.el.id,r.el,u),i+=s,n+=a,t("raphael.drag.move."+r.el.id,r.move_scope||r.el,i-r.el._drag.x,n-r.el._drag.y,i,n,e)}},Xt=function(r){e.unmousemove(Ht).unmouseup(Xt);for(var i,n=Gt.length;n--;)i=Gt[n],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,r);Gt=[]},Ut=e.el={},$t=F.length;$t--;)!function(t){e[t]=Ut[t]=function(r,i){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:Wt(this.shape||this.node||C.doc,t,r,i||this)})),this},e["un"+t]=Ut["un"+t]=function(r){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!e.is(r,"undefined")&&i[n].f!=r||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}}(F[$t]);Ut.data=function(r,i){var n=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(e.is(r,"object")){for(var a in r)r[B](a)&&this.data(a,r[a]);return this}return t("raphael.data.get."+this.id,this,n[r],r),n[r]}return n[r]=i,t("raphael.data.set."+this.id,this,i,r),this},Ut.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Ut.getData=function(){return r(lt[this.id]||{})},Ut.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},Ut.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Zt=[];Ut.drag=function(r,i,n,a,s,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,u=l.clientY,c=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,f=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;if(this._drag.id=l.identifier,N&&l.touches)for(var p,d=l.touches.length;d--;)if(p=l.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,u=p.clientY;break}this._drag.x=h+f,this._drag.y=u+c,!Gt.length&&e.mousemove(Ht).mouseup(Xt),Gt.push({el:this,move_scope:a,start_scope:s,end_scope:o}),i&&t.on("raphael.drag.start."+this.id,i),r&&t.on("raphael.drag.move."+this.id,r),n&&t.on("raphael.drag.end."+this.id,n),t("raphael.drag.start."+this.id,s||a||this,l.clientX+f,l.clientY+c,l)}return this._drag={},Zt.push({el:this,start:l}),this.mousedown(l),this},Ut.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Ut.undrag=function(){for(var r=Zt.length;r--;)Zt[r].el==this&&(this.unmousedown(Zt[r].start),Zt.splice(r,1),t.unbind("raphael.drag.*."+this.id));!Zt.length&&e.unmousemove(Ht).unmouseup(Xt),Gt=[]},b.circle=function(t,r,i){var n=e._engine.circle(this,t||0,r||0,i||0);return this.__set__&&this.__set__.push(n),n},b.rect=function(t,r,i,n,a){var s=e._engine.rect(this,t||0,r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(t,r,i,n){var a=e._engine.ellipse(this,t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},b.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],G)&&(t+=M);var r=e._engine.path(e.format[A](e,arguments),this);return this.__set__&&this.__set__.push(r),r},b.image=function(t,r,i,n,a){var s=e._engine.image(this,t||"about:blank",r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.text=function(t,r,i){var n=e._engine.text(this,t||0,r||0,z(i));return this.__set__&&this.__set__.push(n),n},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var r=new le(t);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,r){return e._engine.setSize.call(this,t,r)},b.setViewBox=function(t,r,i,n,a){return e._engine.setViewBox.call(this,t,r,i,n,a)},b.top=b.bottom=null,b.raphael=e;var Qt=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,i=r.body,n=r.documentElement,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0;return{y:e.top+(C.win.pageYOffset||n.scrollTop||i.scrollTop)-a,x:e.left+(C.win.pageXOffset||n.scrollLeft||i.scrollLeft)-s}};b.getElementByPoint=function(t,e){var r=this,i=r.canvas,n=C.doc.elementFromPoint(t,e);if(C.win.opera&&"svg"==n.tagName){var a=Qt(i),s=i.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=i.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=i.parentNode&&!n.raphael;)n=n.parentNode;return n==r.canvas.parentNode&&(n=i),n=n&&n.raphael?r.getById(n.raphaelid):null},b.getElementsByBBox=function(t){var r=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&r.push(i)}),r},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var r=this.bottom;r;){if(!1===t.call(e,r))return this;r=r.next}return this},b.getElementsByPoint=function(t,e){var r=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&r.push(i)}),r},Ut.isPointInside=function(t,r){var i=this.realPath=pt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,r)},Ut.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=pt[this.type](this),e.bboxwt=Bt(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=pt[this.type](this)),e.bbox=Bt(dt(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Ut.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Ut.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,i=this.paper,n=i.set(),a=this.realPath||pt[this.type](this);a=this.matrix?dt(a,this.matrix):a;for(var s=1;s<r+1;s++)n.push(i.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,r,i,n,a,s,o,u,c){return null==c?l(t,r,i,n,a,s,o,u):e.findDotsAtSegment(t,r,i,n,a,s,o,u,h(t,r,i,n,a,s,o,u,c))},Kt=function(t,r){return function(i,n,a){i=zt(i);for(var s,o,l,h,u,c="",f={},p=0,d=0,g=i.length;d<g;d++){if(l=i[d],"M"==l[0])s=+l[1],o=+l[2];else{if(h=Jt(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(r&&!f.start){if(u=Jt(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],a)return c;f.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!t&&!r)return u=Jt(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=h,s=+l[5],o=+l[6]}c+=l.shift()+l}return f.end=c,u=t?p:r?f:e.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},te=Kt(1),ee=Kt(),re=Kt(0,1);e.getTotalLength=te,e.getPointAtLength=ee,e.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return re(t,e).end;var i=re(t,r,1);return e?re(i,e).end:i},Ut.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():te(t)},Ut.getPointAtLength=function(t){var e=this.getPath();if(e)return ee(e,t)},Ut.getPath=function(){var t,r=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return r&&(t=r(this)),t},Ut.getSubpath=function(t,r){var i=this.getPath();if(i)return e.getSubpath(i,t,r)};var ie=e.easing_formulas={linear:function(t){return t},"<":function(t){return O(t,1.7)},">":function(t){return O(t,.48)},"<>":function(t){var e=.48-t/1.04,r=j.sqrt(.1734+e*e),i=r-e,n=O(V(i),1/3)*(i<0?-1:1),a=-r-e,s=O(V(a),1/3)*(a<0?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:O(2,-10*t)*j.sin(2*Y*(t-.075)/.3)+1},bounce:function(t){var e,r=7.5625,i=2.75;return t<1/i?e=r*t*t:t<2/i?(t-=1.5/i,e=r*t*t+.75):t<2.5/i?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};ie.easeIn=ie["ease-in"]=ie["<"],ie.easeOut=ie["ease-out"]=ie[">"],ie.easeInOut=ie["ease-in-out"]=ie["<>"],ie["back-in"]=ie.backIn,ie["back-out"]=ie.backOut;var ne=[],ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},se=function(){for(var r=+new Date,i=0;i<ne.length;i++){var n=ne[i];if(!n.el.removed&&!n.paused){var a,s,o=r-n.start,l=n.ms,h=n.easing,u=n.from,c=n.diff,f=n.to,p=(n.t,n.el),d={},g={};if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*l,n.status=n.initstatus,delete n.initstatus,n.stop&&ne.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/l))/n.anim.top,!(o<0))if(o<l){var x=h(o/l);for(var y in u)if(u[B](y)){switch(et[y]){case W:a=+u[y]+x*l*c[y];break;case"colour":a="rgb("+[oe(Z(u[y].r+x*l*c[y].r)),oe(Z(u[y].g+x*l*c[y].g)),oe(Z(u[y].b+x*l*c[y].b))].join(",")+")";break;case"path":a=[];for(var m=0,b=u[y].length;m<b;m++){a[m]=[u[y][m][0]];for(var _=1,w=u[y][m].length;_<w;_++)a[m][_]=+u[y][m][_]+x*l*c[y][m][_];a[m]=a[m].join(L)}a=a.join(L);break;case"transform":if(c[y].real)for(a=[],m=0,b=u[y].length;m<b;m++)for(a[m]=[u[y][m][0]],_=1,w=u[y][m].length;_<w;_++)a[m][_]=u[y][m][_]+x*l*c[y][m][_];else{var k=function(t){return+u[y][t]+x*l*c[y][t]};a=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==y)for(a=[],m=4;m--;)a[m]=+u[y][m]+x*l*c[y][m];break;default:var C=[][E](u[y]);for(a=[],m=p.paper.customAttributes[y].length;m--;)a[m]=+C[m]+x*l*c[y][m]}d[y]=a}p.attr(d),function(e,r,i){setTimeout(function(){t("raphael.anim.frame."+e,r,i)})}(p.id,p,n.anim)}else{if(function(r,i,n){setTimeout(function(){t("raphael.anim.frame."+i.id,i,n),t("raphael.anim.finish."+i.id,i,n),e.is(r,"function")&&r.call(i)})}(n.callback,p,n.anim),p.attr(f),ne.splice(i--,1),n.repeat>1&&!n.next){for(s in f)f[B](s)&&(g[s]=n.totalOrigin[s]);n.el.attr(g),v(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&v(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}ne.length&&ae(se)},oe=function(t){return t>255?255:t<0?0:t};Ut.animateWith=function(t,r,i,n,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=i instanceof x?i:e.animation(i,n,a,s);v(l,o,l.percents[0],null,o.attr());for(var h=0,u=ne.length;h<u;h++)if(ne[h].anim==r&&ne[h].el==t){ne[u-1].start=ne[h].start;break}return o},Ut.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},x.prototype.delay=function(t){var e=new x(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},x.prototype.repeat=function(t){var e=new x(this.anim,this.ms);return e.del=this.del,e.times=j.floor(q(t,0))||1,e},e.animation=function(t,r,i,n){if(t instanceof x)return t;!e.is(i,"function")&&i||(n=n||i||null,i=null),t=Object(t),r=+r||0;var a,s,o={};for(s in t)t[B](s)&&Q(s)!=s&&Q(s)+"%"!=s&&(a=!0,o[s]=t[s]);if(a)return i&&(o.easing=i),n&&(o.callback=n),new x({100:o},r);if(n){var l=0;for(var h in t){var u=J(h);t[B](h)&&u>l&&(l=u)}l+="%",!t[l].callback&&(t[l].callback=n)}return new x(t,r)},Ut.animate=function(t,r,i,n){var a=this;if(a.removed)return n&&n.call(a),a;var s=t instanceof x?t:e.animation(t,r,i,n);return v(s,a,s.percents[0],null,a.attr()),a},Ut.setTime=function(t,e){return t&&null!=e&&this.status(t,D(e,t.ms)/t.ms),this},Ut.status=function(t,e){var r,i,n=[],a=0;if(null!=e)return v(t,this,-1,D(e,1)),this;for(r=ne.length;a<r;a++)if(i=ne[a],i.el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;n.push({anim:i.anim,status:i.status})}return t?0:n},Ut.pause=function(e){for(var r=0;r<ne.length;r++)ne[r].el.id!=this.id||e&&ne[r].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,ne[r].anim)&&(ne[r].paused=!0);return this},Ut.resume=function(e){for(var r=0;r<ne.length;r++)if(ne[r].el.id==this.id&&(!e||ne[r].anim==e)){var i=ne[r];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Ut.stop=function(e){for(var r=0;r<ne.length;r++)ne[r].el.id!=this.id||e&&ne[r].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,ne[r].anim)&&ne.splice(r--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Ut.toString=function(){return"Raphaël’s object"};var le=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;e<r;e++)!t[e]||t[e].constructor!=Ut.constructor&&t[e].constructor!=le||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},he=le.prototype;he.push=function(){for(var t,e,r=0,i=arguments.length;r<i;r++)!(t=arguments[r])||t.constructor!=Ut.constructor&&t.constructor!=le||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},he.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},he.forEach=function(t,e){for(var r=0,i=this.items.length;r<i;r++)if(!1===t.call(e,this.items[r],r))return this;return this};for(var ue in Ut)Ut[B](ue)&&(he[ue]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t][A](r,e)})}}(ue));return he.attr=function(t,r){if(t&&e.is(t,G)&&e.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var a=0,s=this.items.length;a<s;a++)this.items[a].attr(t,r);return this},he.clear=function(){for(;this.length;)this.pop()},he.splice=function(t,e,r){t=t<0?q(this.length+t,0):t,e=q(0,D(this.length-t,e));var i,n=[],a=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)a.push(this[t+i]);for(;i<this.length-t;i++)n.push(this[t+i]);var o=s.length;for(i=0;i<o+n.length;i++)this.items[t+i]=this[t+i]=i<o?s[i]:n[i-o];for(i=this.items.length=this.length-=e-o;this[i];)delete this[i++];return new le(a)},he.exclude=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return this.splice(e,1),!0},he.animate=function(t,r,i,n){(e.is(i,"function")||!i)&&(n=i||null);var a,s,o=this.items.length,l=o,h=this;if(!o)return this;n&&(s=function(){!--o&&n.call(h)}),i=e.is(i,"string")?i:s;var u=e.animation(t,r,i,s);for(a=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,u,u),this.items[l]&&!this.items[l].removed||o--;return this},he.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},he.getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items.length;n--;)if(!this.items[n].removed){var a=this.items[n].getBBox();t.push(a.x),e.push(a.y),r.push(a.x+a.width),i.push(a.y+a.height)}return t=D[A](0,t),e=D[A](0,e),r=q[A](0,r),i=q[A](0,i),{x:t,y:e,x2:r,y2:i,width:r-t,height:i-e}},he.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;e<r;e++)t.push(this.items[e].clone());return t},he.toString=function(){return"Raphaël‘s set"},he.glow=function(t){var e=this.paper.set();return this.forEach(function(r,i){var n=r.glow(t);null!=n&&n.forEach(function(t,r){e.push(t)})}),e},he.isPointInside=function(t,e){var r=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return r=!0,!1}),r},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[B](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[B](n)){var a=t.glyphs[n];if(e.glyphs[n]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[B](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},b.getFont=function(t,r,i,n){if(n=n||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var a=e.fonts[t];if(!a){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var o in e.fonts)if(e.fonts[B](o)&&s.test(o)){a=e.fonts[o];break}}var l;if(a)for(var h=0,u=a.length;h<u&&(l=a[h],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},b.print=function(t,r,i,n,a,s,o,l){s=s||"middle",o=q(D(o||0,1),-1),l=q(D(l||1,3),1);var h,u=z(i)[P](M),c=0,f=0,p=M;if(e.is(n,"string")&&(n=this.getFont(n)),n){h=(a||16)/n.face["units-per-em"];for(var d=n.face.bbox[P](_),g=+d[0],x=d[3]-d[1],v=0,y=+d[1]+("baseline"==s?x+ +n.face.descent:x/2),m=0,b=u.length;m<b;m++){if("\n"==u[m])c=0,k=0,f=0,v+=x*l;else{var w=f&&n.glyphs[u[m-1]]||{},k=n.glyphs[u[m]];c+=f?(w.w||n.w)+(w.k&&w.k[u[m]]||0)+n.w*o:0,f=1}k&&k.d&&(p+=e.transformPath(k.d,["t",c*h,v*h,"s",h,h,g,y,"t",(t-g)/h,(r-y)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var r,i=this.set(),n=0,a=t.length;n<a;n++)r=t[n]||{},w[B](r.type)&&i.push(this[r.type]().attr(r));return i},e.format=function(t,r){var i=e.is(r,G)?[0][E](r):arguments;return t&&e.is(t,"string")&&i.length-1&&(t=t.replace(k,function(t,e){return null==i[++e]?M:i[e]})),t||M},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,i){var n=i;return r.replace(e,function(t,e,r,i,a){e=e||i,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return String(e).replace(t,function(t,e){return r(t,e,i)})}}(),e.ninja=function(){if(S.was)C.win.Raphael=S.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=he,t.on("raphael.DOMload",function(){m=!0}),function(t,r,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener("DOMContentLoaded",i=function(){t.removeEventListener("DOMContentLoaded",i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document),e}.apply(e,i))&&(t.exports=n)},function(t,e,r){var i,n;!function(r){var a,s,o="hasOwnProperty",l=/[\.\/]/,h=function(){},u=function(t,e){return t-e},c={n:{}},f=function(t,e){t=String(t);var r,i=s,n=Array.prototype.slice.call(arguments,2),o=f.listeners(t),l=0,h=[],c={},p=[],d=a;a=t,s=0;for(var g=0,x=o.length;g<x;g++)"zIndex"in o[g]&&(h.push(o[g].zIndex),o[g].zIndex<0&&(c[o[g].zIndex]=o[g]));for(h.sort(u);h[l]<0;)if(r=c[h[l++]],p.push(r.apply(e,n)),s)return s=i,p;for(g=0;g<x;g++)if("zIndex"in(r=o[g]))if(r.zIndex==h[l]){if(p.push(r.apply(e,n)),s)break;do{if(l++,r=c[h[l]],r&&p.push(r.apply(e,n)),s)break}while(r)}else c[r.zIndex]=r;else if(p.push(r.apply(e,n)),s)break;return s=i,a=d,p.length?p:null};f._events=c,f.listeners=function(t){var e,r,i,n,a,s,o,h,u=t.split(l),f=c,p=[f],d=[];for(n=0,a=u.length;n<a;n++){for(h=[],s=0,o=p.length;s<o;s++)for(f=p[s].n,r=[f[u[n]],f["*"]],i=2;i--;)(e=r[i])&&(h.push(e),d=d.concat(e.f||[]));p=h}return d},f.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var r=t.split(l),i=c,n=0,a=r.length;n<a;n++)i=i.n,i=i.hasOwnProperty(r[n])&&i[r[n]]||(i[r[n]]={n:{}});for(i.f=i.f||[],n=0,a=i.f.length;n<a;n++)if(i.f[n]==e)return h;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},f.f=function(t){var e=[].slice.call(arguments,1);return function(){f.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},f.stop=function(){s=1},f.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(a):a},f.nts=function(){return a.split(l)},f.off=f.unbind=function(t,e){if(!t)return void(f._events=c={n:{}});var r,i,n,a,s,h,u,p=t.split(l),d=[c];for(a=0,s=p.length;a<s;a++)for(h=0;h<d.length;h+=n.length-2){if(n=[h,1],r=d[h].n,"*"!=p[a])r[p[a]]&&n.push(r[p[a]]);else for(i in r)r[o](i)&&n.push(r[i]);d.splice.apply(d,n)}for(a=0,s=d.length;a<s;a++)for(r=d[a];r.n;){if(e){if(r.f){for(h=0,u=r.f.length;h<u;h++)if(r.f[h]==e){r.f.splice(h,1);break}!r.f.length&&delete r.f}for(i in r.n)if(r.n[o](i)&&r.n[i].f){var g=r.n[i].f;for(h=0,u=g.length;h<u;h++)if(g[h]==e){g.splice(h,1);break}!g.length&&delete r.n[i].f}}else{delete r.f;for(i in r.n)r.n[o](i)&&r.n[i].f&&delete r.n[i].f}r=r.n}},f.once=function(t,e){var r=function(){return f.unbind(t,r),e.apply(this,arguments)};return f.on(t,r)},f.version="0.4.2",f.toString=function(){return"You are running Eve 0.4.2"},void 0!==t&&t.exports?t.exports=f:(i=[],void 0!==(n=function(){return f}.apply(e,i))&&(t.exports=n))}()},function(t,e,r){var i,n;i=[r(1)],void 0!==(n=function(t){if(!t||t.svg){var e="hasOwnProperty",r=String,i=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=t.eve,c="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var x=function(i,n){if(n){"string"==typeof i&&(i=x(i));for(var a in n)n[e](a)&&("xlink:"==a.substring(0,6)?i.setAttributeNS(p,a.substring(6),r(n[a])):i.setAttribute(a,r(n[a])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,n){var h="linear",u=e.id+n,f=.5,p=.5,d=e.node,g=e.paper,v=d.style,y=t._g.doc.getElementById(u);if(!y){if(n=r(n).replace(t._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=i(e),p=i(r);var n=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(f-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){var b=n.shift();if(b=-i(b),isNaN(b))return null;var _=[0,0,a.cos(t.rad(b)),a.sin(t.rad(b))],w=1/(s(o(_[2]),o(_[3]))||1);_[2]*=w,_[3]*=w,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var k=t._parseDots(n);if(!k)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=x(h+"Gradient",{id:u}),e.gradient=y,x(y,"radial"==h?{fx:f,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var B=0,C=k.length;B<C;B++)y.appendChild(x("stop",{offset:k[B].offset?k[B].offset:B?"100%":"0%","stop-color":k[B].color||"#fff","stop-opacity":isFinite(k[B].opacity)?k[B].opacity:1}))}}return x(d,{fill:m(u),opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},y=function(){var t=document.documentMode;return t&&(9===t||10===t)},m=function(t){if(y())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);x(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(i,n,a){if("path"==i.type){for(var s,o,l,h,u,f=r(n).toLowerCase().split("-"),p=i.paper,v=a?"end":"start",y=i.node,m=i.attrs,b=m["stroke-width"],_=f.length,w="classic",k=3,B=3,C=5;_--;)switch(f[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[_];break;case"wide":B=5;break;case"narrow":B=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,B+=2,C+=2,l=1,h=a?4:1,u={fill:"none",stroke:m.stroke}):(h=l=k/2,u={fill:m.stroke,stroke:"none"}),i._.arrows?a?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){var S="raphael-marker-"+w,T="raphael-marker-"+v+w+k+B+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(x(x("path"),{"stroke-linecap":"round",d:d[w],id:S})),g[S]=1);var A,E=t._g.doc.getElementById(T);E?(g[T]++,A=E.getElementsByTagName("use")[0]):(E=x(x("marker"),{id:T,markerHeight:B,markerWidth:k,orient:"auto",refX:h,refY:B/2}),A=x(x("use"),{"xlink:href":"#"+S,transform:(a?"rotate(180 "+k/2+" "+B/2+") ":c)+"scale("+k/C+","+B/C+")","stroke-width":(1/((k/C+B/C)/2)).toFixed(4)}),E.appendChild(A),p.defs.appendChild(E),g[T]=1),x(A,u);var N=l*("diamond"!=w&&"oval"!=w);a?(s=i._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-N*b):(s=N*b,o=t.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),u={},u["marker-"+v]="url(#"+T+")",(o||s)&&(u.d=t.getSubpath(m.path,s,o)),x(y,u),i._.arrows[v+"Path"]=S,i._.arrows[v+"Marker"]=T,i._.arrows[v+"dx"]=N,i._.arrows[v+"Type"]=w,i._.arrows[v+"String"]=n}else a?(s=i._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-s):(s=0,o=t.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),i._.arrows[v+"Path"]&&x(y,{d:t.getSubpath(m.path,s,o)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(u in g)if(g[e](u)&&!g[u]){var M=t._g.doc.getElementById(u);M&&M.parentNode.removeChild(M)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},k=function(t,e,i){if(e=w[r(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*n+(o%2?1:-1)*a;x(t.node,{"stroke-dasharray":s.join(",")})}else x(t.node,{"stroke-dasharray":"none"})},B=function(i,a){var l=i.node,u=i.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var d in a)if(a[e](d)){if(!t._availableAttrs[e](d))continue;var g=a[d];switch(u[d]=g,d){case"blur":i.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=x("title");var m=t._g.doc.createTextNode(g);y.appendChild(m),l.appendChild(y)}break;case"href":case"target":var w=l.parentNode;if("a"!=w.tagName.toLowerCase()){var B=x("a");w.insertBefore(B,l),B.appendChild(l),w=B}"target"==d?w.setAttributeNS(p,"show","blank"==g?"new":g):w.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":_(i,g);break;case"arrow-end":_(i,g,1);break;case"clip-rect":var S=r(g).split(h);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var T=x("clipPath"),A=x("rect");T.id=t.createUUID(),x(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(A),i.paper.defs.appendChild(T),x(l,{"clip-path":"url(#"+T.id+")"}),i.clip=A}if(!g){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,c));N&&N.parentNode.removeChild(N),x(l,{"clip-path":c}),delete i.clip}}break;case"path":"path"==i.type&&(x(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!u.fx)break;d="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!u.fy)break;d="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?x(l,{rx:g,ry:g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(o(i._.sx),o(i._.sy))||1),l.setAttribute(d,g),u["stroke-dasharray"]&&k(i,u["stroke-dasharray"],a),i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"stroke-dasharray":k(i,g,a);break;case"fill":var M=r(g).match(t._ISURL);if(M){T=x("pattern");var L=x("image");T.id=t.createUUID(),x(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),x(L,{x:0,y:0,"xlink:href":M[1]}),T.appendChild(L),function(e){t._preload(M[1],function(){var t=this.offsetWidth,r=this.offsetHeight;x(e,{width:t,height:r}),x(L,{width:t,height:r})})}(T),i.paper.defs.appendChild(T),x(l,{fill:"url(#"+T.id+")"}),i.pattern=T,i.pattern&&b(i);break}var z=t.getRGB(g);if(z.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g)){if("opacity"in u||"fill-opacity"in u){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(P){var F=P.getElementsByTagName("stop");x(F[F.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(a.opacity,"undefined")&&x(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&x(l,{
    "fill-opacity":u["fill-opacity"]});z[e]("opacity")&&x(l,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=t.getRGB(g),l.setAttribute(d,z.hex),"stroke"==d&&z[e]("opacity")&&x(l,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&x(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),P&&(F=P.getElementsByTagName("stop"),x(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=n(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,i._.dirty=1,l.setAttribute(d,g)}}C(i,a),l.style.visibility=f},C=function(i,a){if("text"==i.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=i.attrs,o=i.node,l=o.firstChild?n(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,u=r(a.text).split("\n"),f=[],p=0,d=u.length;p<d;p++)h=x("tspan"),p&&x(h,{dy:1.2*l,x:s.x}),h.appendChild(t._g.doc.createTextNode(u[p])),o.appendChild(h),f[p]=h}else for(f=o.getElementsByTagName("tspan"),p=0,d=f.length;p<d;p++)p?x(f[p],{dy:1.2*l,x:s.x}):x(f[0],{dy:0});x(o,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&x(f[0],{dy:v})}},S=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},T=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},A=t.el;T.prototype=A,A.constructor=T,t._engine.path=function(t,e){var r=x("path");e.canvas&&e.canvas.appendChild(r);var i=new T(r,e);return i.type="path",B(i,{fill:"none",stroke:"#000",path:t}),i},A.rotate=function(t,e,n){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},A.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3])),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this},A.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},A.transform=function(r){var i=this._;if(null==r)return i.transform;if(t._extractTransform(this,r),this.clip&&x(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&x(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var n=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return i.transform=this.matrix.toTransformString(),this},A.hide=function(){return this.removed||(this.node.style.display="none"),this},A.show=function(){return this.removed||(this.node.style.display=""),this},A.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var r=this.paper;r.__set__&&r.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),t._tear(this,r),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,r=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(r=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},r&&(e.display="none")}return t&&this.hide(),i},A.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var s=r.split(h),o={},l=0,c=s.length;l<c;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return c-1?o:o[s[0]]}if(null==i&&t.is(r,"array")){for(o={},l=0,c=r.length;l<c;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=i){var f={};f[r]=i}else null!=r&&t.is(r,"object")&&(f=r);for(var p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}return B(this,f),this},A.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var r=this.paper;return r.top!=this&&t._tofront(this,r),this},A.toBack=function(){if(this.removed)return this;var e=S(this.node),r=e.parentNode;r.insertBefore(e,r.firstChild),t._toback(this,this.paper);this.paper;return this},A.insertAfter=function(e){if(this.removed||!e)return this;var r=S(this.node),i=S(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),t._insertafter(this,e,this.paper),this},A.insertBefore=function(e){if(this.removed||!e)return this;var r=S(this.node),i=S(e.node||e[0].node);return i.parentNode.insertBefore(r,i),t._insertbefore(this,e,this.paper),this},A.blur=function(e){var r=this;if(0!=+e){var i=x("filter"),n=x("feGaussianBlur");r.attrs.blur=e,i.id=t.createUUID(),x(n,{stdDeviation:+e||1.5}),i.appendChild(n),r.paper.defs.appendChild(i),r._blur=i,x(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},t._engine.circle=function(t,e,r,i){var n=x("circle");t.canvas&&t.canvas.appendChild(n);var a=new T(n,t);return a.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},a.type="circle",x(n,a.attrs),a},t._engine.rect=function(t,e,r,i,n,a){var s=x("rect");t.canvas&&t.canvas.appendChild(s);var o=new T(s,t);return o.attrs={x:e,y:r,width:i,height:n,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",x(s,o.attrs),o},t._engine.ellipse=function(t,e,r,i,n){var a=x("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new T(a,t);return s.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},s.type="ellipse",x(a,s.attrs),s},t._engine.image=function(t,e,r,i,n,a){var s=x("image");x(s,{x:r,y:i,width:n,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new T(s,t);return o.attrs={x:r,y:i,width:n,height:a,src:e},o.type="image",o},t._engine.text=function(e,r,i,n){var a=x("text");e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:r,y:i,"text-anchor":"middle",text:n,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",B(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,i=e.x,n=e.y,a=e.width,s=e.height;if(!r)throw new Error("SVG container not found.");var o,l=x("svg"),h="overflow:hidden;";return i=i||0,n=n||0,a=a||512,s=s||342,x(l,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(l.style.cssText=h+"position:absolute;left:"+i+"px;top:"+n+"px",t._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l)),r=new t._Paper,r.width=a,r.height=s,r.canvas=l,r.clear(),r._left=r._top=0,o&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,i,n){u("raphael.setViewBox",this,this._viewBox,[t,e,r,i,n]);var a,o,l=this.getSize(),h=s(r/l.width,i/l.height),c=this.top,p=n?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(h=1),delete this._vbSize,a="0 0 "+this.width+f+this.height):(this._vbSize=h,a=t+f+e+f+r+f+i),x(this.canvas,{viewBox:a,preserveAspectRatio:p});h&&c;)o="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":o}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[t,e,r,i,!!n],this},t.prototype.renderfix=function(){var t,e=this.canvas,r=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(r){t=e.createSVGMatrix()}var i=-t.e%1,n=-t.f%1;(i||n)&&(i&&(this._left=(this._left+i)%1,r.left=this._left+"px"),n&&(this._top=(this._top+n)%1,r.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=x("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=x("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var E=t.st;for(var N in A)A[e](N)&&!E[e](N)&&(E[N]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(N))}}.apply(e,i))&&(t.exports=n)},function(t,e,r){var i,n;i=[r(1)],void 0!==(n=function(t){if(!t||t.vml){var e="hasOwnProperty",r=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h=/[, ]+/,u=t.eve,c=" ",f="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},d=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,x=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,m={path:1,rect:1,image:1},b={circle:1,ellipse:1},_=function(e){var i=/[ahqstv]/gi,n=t._pathToAbsolute;if(r(e).match(i)&&(n=t._path2curve),i=/[clmz]/g,n==t._pathToAbsolute&&!r(e).match(i)){var s=r(e).replace(d,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=p[e];return r.replace(x,function(t){n&&2==i.length&&(s+=i+p["m"==e?"l":"L"],i=[]),i.push(a(t*y))}),s+i});return s}var o,l,h=n(e);s=[];for(var u=0,g=h.length;u<g;u++){o=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(var v=1,m=o.length;v<m;v++)l+=a(o[v]*y)+(v!=m-1?",":f);s.push(l)}return s.join(c)},w=function(e,r,i){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(r,i),dy:n.y(r,i)}},k=function(t,e,r,i,n,a){var s=t._,o=t.matrix,h=s.fillpos,u=t.node,f=u.style,p=1,d="",g=y/e,x=y/r;if(f.visibility="hidden",e&&r){if(u.coordsize=l(g)+c+l(x),f.rotation=a*(e*r<0?-1:1),a){var v=w(a,i,n);i=v.dx,n=v.dy}if(e<0&&(d+="x"),r<0&&(d+=" y")&&(p=-1),f.flip=d,u.coordorigin=i*-g+c+n*-x,h||s.fillsize){var m=u.getElementsByTagName("fill");m=m&&m[0],u.removeChild(m),h&&(v=w(a,o.x(h[0],h[1]),o.y(h[0],h[1])),m.position=v.dx*p+c+v.dy*p),s.fillsize&&(m.size=s.fillsize[0]*l(e)+c+s.fillsize[1]*l(r)),u.appendChild(m)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var B=function(t,e,i){for(var n=r(e).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},C=function(n,l){n.attrs=n.attrs||{};var u=n.node,p=n.attrs,d=u.style,g=m[n.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),x=b[n.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),v=n;for(var w in l)l[e](w)&&(p[w]=l[w]);if(g&&(p.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(d.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||g)&&(u.path=_(~r(p.path).toLowerCase().indexOf("r")?t._pathToAbsolute(p.path):p.path),n._.dirty=1,"image"==n.type&&(n._.fillpos=[p.x,p.y],n._.fillsize=[p.width,p.height],k(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),x){var C=+p.cx,T=+p.cy,A=+p.rx||+p.r||0,N=+p.ry||+p.r||0;u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((C-A)*y),a((T-N)*y),a((C+A)*y),a((T+N)*y),a(C*y)),n._.dirty=1}if("clip-rect"in l){var M=r(l["clip-rect"]).split(h);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var L=u.clipRect||t._g.doc.createElement("div"),z=L.style;z.clip=t.format("rect({1}px {2}px {3}px {0}px)",M),u.clipRect||(z.position="absolute",z.top=0,z.left=0,z.width=n.paper.width+"px",z.height=n.paper.height+"px",u.parentNode.insertBefore(L,u),L.appendChild(u),u.clipRect=L)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(n.textpath){var P=n.textpath.style;l.font&&(P.font=l.font),l["font-family"]&&(P.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(P.fontSize=l["font-size"]),l["font-weight"]&&(P.fontWeight=l["font-weight"]),l["font-style"]&&(P.fontStyle=l["font-style"])}if("arrow-start"in l&&B(v,l["arrow-start"]),"arrow-end"in l&&B(v,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var F=u.getElementsByTagName("fill");if(F=F&&F[0],!F&&(F=E("fill")),"image"==n.type&&l.src&&(F.src=l.src),l.fill&&(F.on=!0),null!=F.on&&"none"!=l.fill&&null!==l.fill||(F.on=!1),F.on&&l.fill){var R=r(l.fill).match(t._ISURL);if(R){F.parentNode==u&&u.removeChild(F),F.rotate=!0,F.src=R[1],F.type="tile";var I=n.getBBox(1);F.position=I.x+c+I.y,n._.fillpos=[I.x,I.y],t._preload(R[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else F.color=t.getRGB(l.fill).hex,F.src=f,F.type="solid",t.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&S(v,l.fill,F)&&(p.fill="none",p.gradient=l.fill,F.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);j=o(s(j,0),1),F.opacity=j,F.src&&(F.color="none")}u.appendChild(F);var q=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],D=!1;!q&&(D=q=E("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(q.on=!0),("none"==l.stroke||null===l.stroke||null==q.on||0==l.stroke||0==l["stroke-width"])&&(q.on=!1);var V=t.getRGB(l.stroke);q.on&&l.stroke&&(q.color=V.hex),j=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+V.o+1||2)-1);var O=.75*(i(l["stroke-width"])||1);if(j=o(s(j,0),1),null==l["stroke-width"]&&(O=p["stroke-width"]),l["stroke-width"]&&(q.weight=O),O&&O<1&&(j*=O)&&(q.weight=1),q.opacity=j,l["stroke-linejoin"]&&(q.joinstyle=l["stroke-linejoin"]||"miter"),q.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(q.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var Y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};q.dashstyle=Y[e](l["stroke-dasharray"])?Y[l["stroke-dasharray"]]:f}D&&u.appendChild(q)}if("text"==v.type){v.paper.canvas.style.display=f;var W=v.paper.span,G=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);d=W.style,p.font&&(d.font=p.font),p["font-family"]&&(d.fontFamily=p["font-family"]),p["font-weight"]&&(d.fontWeight=p["font-weight"]),p["font-style"]&&(d.fontStyle=p["font-style"]),G=i(p["font-size"]||G&&G[0])||10,d.fontSize=100*G+"px",v.textpath.string&&(W.innerHTML=r(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var H=W.getBoundingClientRect();v.W=p.w=(H.right-H.left)/100,v.H=p.h=(H.bottom-H.top)/100,v.X=p.x,v.Y=p.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=t.format("m{0},{1}l{2},{1}",a(p.x*y),a(p.y*y),a(p.x*y)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],U=0,$=X.length;U<$;U++)if(X[U]in l){v._.dirty=1;break}switch(p["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},S=function(e,a,s){e.attrs=e.attrs||{};var o=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=a,a=r(a).replace(t._radial_gradient,function(t,e,r){return l="radial",e&&r&&(e=i(e),r=i(r),o(e-.5,2)+o(r-.5,2)>.25&&(r=n.sqrt(.25-o(e-.5,2))*(2*(r>.5)-1)+.5),h=e+c+r),f}),a=a.split(/\s*\-\s*/),"linear"==l){var u=a.shift();if(u=-i(u),isNaN(u))return null}var p=t._parseDots(a);if(!p)return null;if(e=e.shape||e.node,p.length){e.removeChild(s),s.on=!0,s.method="none",s.color=p[0].color,s.color2=p[p.length-1].color;for(var d=[],g=0,x=p.length;g<x;g++)p[g].offset&&d.push(p[g].offset+c+p[g].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},T=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},A=t.el;T.prototype=A,A.constructor=T,A.transform=function(e){if(null==e)return this._.transform;var i,n=this.paper._viewBoxShift,a=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:f;n&&(i=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,a+e);var s,o=this.matrix.clone(),l=this.skew,h=this.node,u=~r(this.attrs.fill).indexOf("-"),p=!r(this.attrs.fill).indexOf("url(");if(o.translate(1,1),p||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),u&&s.noRotation||!s.isSimple){h.style.filter=o.toFilter();var d=this.getBBox(),g=this.getBBox(1),x=d.x-g.x,v=d.y-g.y;h.coordorigin=x*-y+c+v*-y,k(this,1,1,x,v,0)}else h.style.filter=f,k(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=f,l.matrix=r(o),l.offset=o.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},A.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},A.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},A.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=f),this},A.auxGetBBox=t.el.getBBox,A.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},r=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=r,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=r,e.width=t.width*r,e.height=t.height*r,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},A.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=r.split(h),o={},l=0,c=s.length;l<c;l++)r=s[l],r in this.attrs?o[r]=this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?o[r]=this.paper.customAttributes[r].def:o[r]=t._availableAttrs[r];return c-1?o:o[s[0]]}if(this.attrs&&null==i&&t.is(r,"array")){for(o={},l=0,c=r.length;l<c;l++)o[r[l]]=this.attr(r[l]);return o}var f;null!=i&&(f={},f[r]=i),null==i&&t.is(r,"object")&&(f=r);for(var p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);if(f){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}f.text&&"text"==this.type&&(this.textpath.string=f.text),C(this,f)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},A.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;return i=i.replace(g,f),0!=+e?(this.attrs.blur=e,r.filter=i+c+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var r=E("shape");r.style.cssText=v,r.coordsize=y+c+y,r.coordorigin=e.coordorigin;var i=new T(r,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=f,C(i,n),e.canvas&&e.canvas.appendChild(r);var a=E("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(f),i},t._engine.rect=function(e,r,i,n,a,s){var o=t._rectPath(r,i,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,i,n){var a=t.path();a.attrs;return a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",C(a,{cx:e,cy:r,rx:i,ry:n}),a},t._engine.circle=function(t,e,r,i){var n=t.path();n.attrs;return n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",C(n,{cx:e,cy:r,r:i}),n},t._engine.image=function(e,r,i,n,a,s){var o=t._rectPath(i,n,a,s),l=e.path(o).attr({stroke:"none"}),h=l.attrs,u=l.node,c=u.getElementsByTagName("fill")[0];return h.src=r,l.X=h.x=i,l.Y=h.y=n,l.W=h.width=a,l.H=h.height=s,h.path=o,l.type="image",c.parentNode==u&&u.removeChild(c),c.rotate=!0,c.src=r,c.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],u.appendChild(c),k(l,1,1,0,0,0),l},t._engine.text=function(e,i,n,s){var o=E("shape"),l=E("path"),h=E("textpath");i=i||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(i*y),a(n*y),a(i*y)+1),l.textpathok=!0,h.string=r(s),h.on=!0,o.style.cssText=v,o.coordsize=y+c+y,o.coordorigin="0 0";var u=new T(o,e),p={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=r(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,C(u,p),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var d=E("skew");return d.on=!0,o.appendChild(d),u.skew=d,u.transform(f),u},t._engine.setSize=function(e,r){var i=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),i.width=e,i.height=r,i.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,i,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,i,n,a]);var s,o,l=this.getSize(),h=l.width,u=l.height;return a&&(s=u/n,o=h/i,i*s<h&&(e-=(h-i*s)/2/s),n*o<u&&(r-=(u-n*o)/2/o)),this._viewBox=[e,r,i,n,!!a],this._viewBoxShift={dx:-e,dy:-r,scale:l},this.forEach(function(t){t.transform("...")}),this};var E;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){E=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,i=e.height,n=e.width,a=e.x,s=e.y;if(!r)throw new Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),h=l.style;return a=a||0,s=s||0,n=n||512,i=i||342,o.width=n,o.height=i,n==+n&&(n+="px"),i==+i&&(i+="px"),o.coordsize=216e5+c+216e5,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==r?(t._g.doc.body.appendChild(l),h.left=a+"px",h.top=s+"px",h.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var M in A)A[e](M)&&!N[e](M)&&(N[M]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(M))}}.apply(e,i))&&(t.exports=n)}])});

/* COMBO: filename = plugin/underscore/core.min.js, type = application/javascript, resp = 200 */
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=I[r])in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(void 0!==(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r))&&-1!==e)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)(e=n[a])>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)(e=n[a])<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){((u=t(n,r,e))<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=!1===r.leading?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||!1!==r.leading||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||!1===r.trailing||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if((c=n.length)!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,m)};return a.source="function("+(t.variable||"obj")+"){\n"+i+"}",a},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);

/* COMBO: filename = plugin/flowchart/core.min.js, type = application/javascript, resp = 200 */
!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i(require("Raphael"));else if("function"==typeof define&&define.amd)define(["Raphael"],i);else{var e=i("object"==typeof exports?require("Raphael"):t.Raphael);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function i(r){if(e[r])return e[r].exports;var s=e[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){e(8);var r=e(4);e(14);var s={parse:r};"undefined"!=typeof window&&(window.flowchart=s),t.exports=s},function(t,i){function e(t,i){if(!t||"function"==typeof t)return i;var r={};for(var s in i)r[s]=i[s];for(s in t)t[s]&&("object"==typeof r[s]?r[s]=e(r[s],t[s]):r[s]=t[s]);return r}function r(t,i){if("function"==typeof Object.create)t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{t.super_=i;var e=function(){};e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t}}t.exports={defaults:e,inherits:r}},function(t,i,e){function r(t,i,e){this.chart=t,this.group=this.chart.paper.set(),this.symbol=e,this.connectedTo=[],this.symbolType=i.symbolType,this.flowstate=i.flowstate||"future",this.next_direction=i.next&&i.direction_next?i.direction_next:void 0,this.text=this.chart.paper.text(0,0,i.text),i.key&&(this.text.node.id=i.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var r=this.getAttr("font"),s="'Roboto','Open Sans',Arial,'Microsoft YaHei','WenQuanYi Micro Hei',SimSun,sans-serif",o=this.getAttr("font-weight");r&&this.text.attr({font:r}),this.text.attr({"font-family":s}),o&&this.text.attr({"font-weight":o}),i.link&&this.text.attr("href",i.link),i.target&&this.text.attr("target",i.target);var n=this.getAttr("maxWidth");if(n){for(var h=i.text.split(" "),a="",x=0,l=h.length;x<l;x++){var y=h[x];this.text.attr("text",a+" "+y),a+=this.text.getBBox().width>n?"\n"+y:" "+y}this.text.attr("text",a.substring(1))}if(this.group.push(this.text),e){var g=this.getAttr("text-margin");e.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*g,height:this.text.getBBox().height+2*g}),e.node.setAttribute("class",this.getAttr("class")),i.link&&e.attr("href",i.link),i.target&&e.attr("target",i.target),i.key&&(e.node.id=i.key),this.group.push(e),e.insertBefore(this.text),this.text.attr({y:e.getBBox().height/2}),this.initialize()}}var s=e(3),o=s.drawLine,n=s.checkLineIntersection;r.prototype.getAttr=function(t){if(this.chart){var i,e=this.chart.options?this.chart.options[t]:void 0,r=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][t]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(i=this.chart.options.flowstate[this.flowstate][t]),i||r||e}},r.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},r.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},r.prototype.getX=function(){return this.group.getBBox().x},r.prototype.getY=function(){return this.group.getBBox().y},r.prototype.shiftX=function(t){this.group.transform("t"+(this.getX()+t)+","+this.getY())},r.prototype.setX=function(t){this.group.transform("t"+t+","+this.getY())},r.prototype.shiftY=function(t){this.group.transform("t"+this.getX()+","+(this.getY()+t))},r.prototype.setY=function(t){this.group.transform("t"+this.getX()+","+t)},r.prototype.getTop=function(){var t=this.getY();return{x:this.getX()+this.width/2,y:t}},r.prototype.getBottom=function(){var t=this.getY()+this.height;return{x:this.getX()+this.width/2,y:t}},r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2;return{x:this.getX(),y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.group.getBBox().width,y:t}},r.prototype.render=function(){if(this.next){var t=this.getAttr("line-length");if("right"===this.next_direction){var i=this.getRight();if(!this.next.isPositioned){this.next.setY(i.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+t);var e=this;!function i(){for(var r,s=!1,o=0,n=e.chart.symbols.length;o<n;o++){r=e.chart.symbols[o];var h=Math.abs(r.getCenter().x-e.next.getCenter().x);if(r.getCenter().y>e.next.getCenter().y&&h<=e.next.width/2){s=!0;break}}s&&(e.next.setX(r.getX()+r.width+t),i())}(),this.next.isPositioned=!0,this.next.render()}}else{var r=this.getBottom();this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+t),this.next.setX(r.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},r.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,"",this.next_direction):this.drawLineTo(this.next))},r.prototype.drawLineTo=function(t,i,e){this.connectedTo.indexOf(t)<0&&this.connectedTo.push(t);var r,s=this.getCenter().x,h=this.getCenter().y,a=this.getRight(),x=this.getBottom(),l=this.getLeft(),y=t.getCenter().x,g=t.getCenter().y,f=t.getTop(),p=t.getRight(),c=t.getLeft(),u=s===y,d=h===g,m=h<g,b=h>g||this===t,v=s>y,w=s<y,k=0,_=this.getAttr("line-length"),B=this.getAttr("line-width");if(e&&"bottom"!==e||!u||!m)if(e&&"right"!==e||!d||!w)if(e&&"left"!==e||!d||!v)if(e&&"right"!==e||!u||!b)if(e&&"right"!==e||!u||!m)if(e&&"bottom"!==e||!v)if(e&&"bottom"!==e||!w)if(e&&"right"===e&&v)r=o(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else if(e&&"right"===e&&w)r=o(this.chart,a,[{x:f.x,y:a.y},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else if(e&&"bottom"===e&&u&&b)r=o(this.chart,x,[{x:x.x,y:x.y+_/2},{x:a.x+_/2,y:x.y+_/2},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,k=x.x+_/2;else if("left"===e&&u&&b){var A=l.x-_/2;c.x<l.x&&(A=c.x-_/2),r=o(this.chart,l,[{x:A,y:l.y},{x:A,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.leftStart=!0,t.topEnd=!0,k=l.x}else"left"===e&&(r=o(this.chart,l,[{x:f.x+(l.x-f.x)/2,y:l.y},{x:f.x+(l.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.leftStart=!0,t.topEnd=!0,k=l.x);else r=o(this.chart,x,[{x:x.x,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,k=x.x+(x.x-f.x)/2;else r=this.leftEnd&&b?o(this.chart,x,[{x:x.x,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:x.y+_/2},{x:x.x+(x.x-f.x)/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i):o(this.chart,x,[{x:x.x,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.bottomStart=!0,t.topEnd=!0,k=x.x+(x.x-f.x)/2;else r=o(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else r=o(this.chart,a,[{x:a.x+_/2,y:a.y},{x:a.x+_/2,y:f.y-_/2},{x:f.x,y:f.y-_/2},{x:f.x,y:f.y}],i),this.rightStart=!0,t.topEnd=!0,k=a.x+_/2;else r=o(this.chart,l,p,i),this.leftStart=!0,t.rightEnd=!0,k=p.x;else r=o(this.chart,a,c,i),this.rightStart=!0,t.leftEnd=!0,k=c.x;else r=o(this.chart,x,f,i),this.bottomStart=!0,t.topEnd=!0,k=x.x;if(r){for(var L=0,M=this.chart.lines.length;L<M;L++)for(var O,X=this.chart.lines[L],T=X.attr("path"),Y=r.attr("path"),S=0,C=T.length-1;S<C;S++){var j=[];j.push(["M",T[S][1],T[S][2]]),j.push(["L",T[S+1][1],T[S+1][2]]);for(var E=j[0][1],z=j[0][2],P=j[1][1],R=j[1][2],F=0,W=Y.length-1;F<W;F++){var I=[];I.push(["M",Y[F][1],Y[F][2]]),I.push(["L",Y[F+1][1],Y[F+1][2]]);var N=I[0][1],Q=I[0][2],V=I[1][1],q=I[1][2],G=n(E,z,P,R,N,Q,V,q);if(G.onLine1&&G.onLine2){var H;Q===q?N>V?(H=["L",G.x+2*B,Q],Y.splice(F+1,0,H),H=["C",G.x+2*B,Q,G.x,Q-4*B,G.x-2*B,Q],Y.splice(F+2,0,H),r.attr("path",Y)):(H=["L",G.x-2*B,Q],Y.splice(F+1,0,H),H=["C",G.x-2*B,Q,G.x,Q-4*B,G.x+2*B,Q],Y.splice(F+2,0,H),r.attr("path",Y)):Q>q?(H=["L",N,G.y+2*B],Y.splice(F+1,0,H),H=["C",N,G.y+2*B,N+4*B,G.y,N,G.y-2*B],Y.splice(F+2,0,H),r.attr("path",Y)):(H=["L",N,G.y-2*B],Y.splice(F+1,0,H),H=["C",N,G.y-2*B,N+4*B,G.y,N,G.y+2*B],Y.splice(F+2,0,H),r.attr("path",Y)),F+=2,O+=2}}}this.chart.lines.push(r)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&k>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=k)},t.exports=r},function(t,i){function e(t,i,e){var r,s,o="M{0},{1}";for(r=2,s=2*e.length+2;r<s;r+=2)o+=" L{"+r+"},{"+(r+1)+"}";var n=[i.x,i.y];for(r=0,s=e.length;r<s;r++)n.push(e[r].x),n.push(e[r].y);var h=t.paper.path(o,n);h.attr("stroke",t.options["element-color"]),h.attr("stroke-width",t.options["line-width"]);var a=t.options.font,x=t.options["font-family"],l=t.options["font-weight"];return a&&h.attr({font:a}),x&&h.attr({"font-family":x}),l&&h.attr({"font-weight":l}),h}function r(t,i,e,r){var s,o;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);var n="M{0},{1}";for(s=2,o=2*e.length+2;s<o;s+=2)n+=" L{"+s+"},{"+(s+1)+"}";var h=[i.x,i.y];for(s=0,o=e.length;s<o;s++)h.push(e[s].x),h.push(e[s].y);var a=t.paper.path(n,h);a.attr({stroke:t.options["line-color"],"stroke-width":t.options["line-width"],"arrow-end":t.options["arrow-end"]});var x=t.options.font,l=t.options["font-family"],y=t.options["font-weight"];if(x&&a.attr({font:x}),l&&a.attr({"font-family":l}),y&&a.attr({"font-weight":y}),r){var g=t.paper.text(0,0,r),f=!1,p=e[0];i.y===p.y&&(f=!0);var c=0,u=0;c=i.x,u=i.y,f?(c+=t.options["text-margin"]/2,u-=t.options["text-margin"]):(c+=t.options["text-margin"]/2,u+=t.options["text-margin"]),g.attr({"text-anchor":"start","font-size":t.options["font-size"],fill:t.options["font-color"],x:c,y:u}),x&&g.attr({font:x}),l&&g.attr({"font-family":l}),y&&g.attr({"font-weight":y})}return a}function s(t,i,e,r,s,o,n,h){var a,x,l,y,g,f={x:null,y:null,onLine1:!1,onLine2:!1};return a=(h-o)*(e-t)-(n-s)*(r-i),0===a?f:(x=i-o,l=t-s,y=(n-s)*x-(h-o)*l,g=(e-t)*x-(r-i)*l,x=y/a,l=g/a,f.x=t+x*(e-t),f.y=i+x*(r-i),x>0&&x<1&&(f.onLine1=!0),l>0&&l<1&&(f.onLine2=!0),f)}t.exports={drawPath:e,drawLine:r,checkLineIntersection:s}},function(t,i,e){function r(t){function i(t){var i=t.indexOf("(")+1,r=t.indexOf(")");return i>=0&&r>=0?e.symbols[t.substring(0,i-1)]:e.symbols[t]}t=t||"",t=t.trim();for(var e={symbols:{},start:null,drawSVG:function(t,i){function e(t){if(g[t.key])return g[t.key];switch(t.symbolType){case"start":g[t.key]=new o(y,t);break;case"end":g[t.key]=new n(y,t);break;case"operation":g[t.key]=new h(y,t);break;case"inputoutput":g[t.key]=new a(y,t);break;case"subroutine":g[t.key]=new x(y,t);break;case"condition":g[t.key]=new l(y,t);break;default:return new Error("Wrong symbol type!")}return g[t.key]}var r=this;this.diagram&&this.diagram.clean();var y=new s(t,i);this.diagram=y;var g={};!function t(i,s,o){var n=e(i);return r.start===i?y.startWith(n):s&&o&&!s.pathOk&&(s instanceof l?(o.yes===i&&s.yes(n),o.no===i&&s.no(n)):s.then(n)),n.pathOk?n:(n instanceof l?(i.yes&&t(i.yes,n,i),i.no&&t(i.no,n,i)):i.next&&t(i.next,n,i),n)}(this.start),y.render()},clean:function(){this.diagram.clean()}},r=[],y=0,g=1,f=t.length;g<f;g++)if("\n"===t[g]&&"\\"!==t[g-1]){var p=t.substring(y,g);y=g+1,r.push(p.replace(/\\\n/g,"\n"))}y<t.length&&r.push(t.substr(y));for(var c=1,u=r.length;c<u;){var d=r[c];d.indexOf("->")<0&&d.indexOf("=>")<0?(r[c-1]+="\n"+d,r.splice(c,1),u--):c++}for(;r.length>0;){var m=r.splice(0,1)[0].trim();if(m.indexOf("=>")>=0){var b,v=m.split("=>"),w={key:v[0],symbolType:v[1],text:null,link:null,target:null,flowstate:null};if(w.symbolType.indexOf(": ")>=0&&(b=w.symbolType.split(": "),w.symbolType=b.shift(),w.text=b.join(": ")),w.text&&w.text.indexOf(":>")>=0?(b=w.text.split(":>"),w.text=b.shift(),w.link=b.join(":>")):w.symbolType.indexOf(":>")>=0&&(b=w.symbolType.split(":>"),w.symbolType=b.shift(),w.link=b.join(":>")),w.symbolType.indexOf("\n")>=0&&(w.symbolType=w.symbolType.split("\n")[0]),w.link){var k=w.link.indexOf("[")+1,_=w.link.indexOf("]");k>=0&&_>=0&&(w.target=w.link.substring(k,_),w.link=w.link.substring(0,k-1))}if(w.text&&w.text.indexOf("|")>=0){var B=w.text.split("|");w.flowstate=B.pop().trim(),w.text=B.join("|")}e.symbols[w.key]=w}else if(m.indexOf("->")>=0)for(var A=m.split("->"),L=0,M=A.length;L<M;L++){var O=A[L],X=i(O),T=function(t){var i="next",e=t.indexOf("(")+1,r=t.indexOf(")");return e>=0&&r>=0&&(i=O.substring(e,r),i.indexOf(",")<0&&"yes"!==i&&"no"!==i&&(i="next, "+i)),i}(O),Y=null;if(T.indexOf(",")>=0){var S=T.split(",");T=S[0],Y=S[1].trim()}if(e.start||(e.start=X),L+1<M){var C=A[L+1];X[T]=i(C),X["direction_"+T]=Y,Y=null}}}return e}var s=e(6),o=e(12),n=e(9),h=e(11),a=e(10),x=e(13),l=e(5);t.exports=r},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",i.yes&&i.direction_yes&&i.no&&!i.direction_no?"right"===i.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):(this.no_direction="right",this.yes_direction="bottom"):i.yes&&!i.direction_yes&&i.no&&i.direction_no?"right"===i.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var e=this.text.getBBox().width+3*this.textMargin;e+=e/2;var r=this.text.getBBox().height+2*this.textMargin;r+=r/2,r=Math.max(.5*e,r);var o=e/4,n=r/4;this.text.attr({x:o+this.textMargin/2});var a={x:o,y:n},x=[{x:o-e/4,y:n+r/4},{x:o-e/4+e/2,y:n+r/4+r/2},{x:o-e/4+e,y:n+r/4},{x:o-e/4+e/2,y:n+r/4-r/2},{x:o-e/4,y:n+r/4}],l=h(t,a,x);l.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),i.link&&l.attr("href",i.link),i.target&&l.attr("target",i.target),i.key&&(l.node.id=i.key),l.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:l.getBBox().height/2}),this.group.push(l),l.insertBefore(this.text),this.initialize()}var s=e(2),o=e(1).inherits,n=e(3),h=n.drawPath;o(r,s),r.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var t=this.getAttr("line-length");if(this.bottom_symbol){var i=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+t),this.bottom_symbol.setX(i.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var e=this.getRight();if(!this.right_symbol.isPositioned){this.right_symbol.setY(e.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+t);var r=this;!function i(){for(var e,s=!1,o=0,n=r.chart.symbols.length;o<n;o++){e=r.chart.symbols[o];var h=Math.abs(e.getCenter().x-r.right_symbol.getCenter().x);if(e.getCenter().y>r.right_symbol.getCenter().y&&h<=r.right_symbol.width/2){s=!0;break}}s&&(r.right_symbol.setX(e.getX()+e.width+t),i())}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},r.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},t.exports=r},function(t,i,e){function r(t,i){i=i||{},this.paper=new s(t),this.options=o(i,n),this.symbols=[],this.lines=[],this.start=null}var s=e(15),o=e(1).defaults,n=e(7),h=e(5);r.prototype.handle=function(t){this.symbols.indexOf(t)<=-1&&this.symbols.push(t);var i=this;return t instanceof h?(t.yes=function(e){return t.yes_symbol=e,t.no_symbol&&(t.pathOk=!0),i.handle(e)},t.no=function(e){return t.no_symbol=e,t.yes_symbol&&(t.pathOk=!0),i.handle(e)}):t.then=function(e){return t.next=e,t.pathOk=!0,i.handle(e)},t},r.prototype.startWith=function(t){return this.start=t,this.handle(t)},r.prototype.render=function(){var t,i,e=0,r=0,s=0,o=0,n=0,h=0,a=0,x=0;for(s=0,o=this.symbols.length;s<o;s++)t=this.symbols[s],t.width>e&&(e=t.width),t.height>r&&(r=t.height);for(s=0,o=this.symbols.length;s<o;s++)t=this.symbols[s],t.shiftX(this.options.x+(e-t.width)/2+this.options["line-width"]),t.shiftY(this.options.y+(r-t.height)/2+this.options["line-width"]);for(this.start.render(),s=0,o=this.symbols.length;s<o;s++)t=this.symbols[s],t.renderLines();n=this.maxXFromLine;var l,y;for(s=0,o=this.symbols.length;s<o;s++)t=this.symbols[s],l=t.getX()+t.width,y=t.getY()+t.height,l>n&&(n=l),y>h&&(h=y);for(s=0,o=this.lines.length;s<o;s++){i=this.lines[s].getBBox(),l=i.x,y=i.y;var g=i.x2,f=i.y2;l<a&&(a=l),y<x&&(x=y),g>n&&(n=g),f>h&&(h=f)}var p=this.options.scale,c=this.options["line-width"];a<0&&(a-=c),x<0&&(x-=c);var u=n+c-a,d=h+c-x;this.paper.setSize(u*p,d*p),this.paper.setViewBox(a,x,u,d,!0)},r.prototype.clean=function(){if(this.paper){var t=this.paper.canvas;t.parentNode.removeChild(t)}},t.exports=r},function(t,i){t.exports={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block",class:"flowchart",scale:1,symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{}}}},function(t,i){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null===this)throw new TypeError;var i=Object(this),e=i.length>>>0;if(0===e)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=e)return-1;for(var s=r>=0?r:Math.max(e-Math.abs(r),0);s<e;s++)if(s in i&&i[s]===t)return s;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null===this)throw new TypeError;var i=Object(this),e=i.length>>>0;if(0===e)return-1;var r=e;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var s=r>=0?Math.min(r,e-1):e-Math.abs(r);s>=0;s--)if(s in i&&i[s]===t)return s;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0,20);i=i||{},i.text=i.text||"End",s.call(this,t,i,e)}var s=e(2);(0,e(1).inherits)(r,s),t.exports=r},function(t,i,e){function r(t,i){i=i||{},s.call(this,t,i),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var e=this.text.getBBox().width+4*this.textMargin,r=this.text.getBBox().height+2*this.textMargin,o=this.textMargin,n=r/2,a={x:o,y:n},x=[{x:o-this.textMargin,y:r},{x:o-this.textMargin+e,y:r},{x:o-this.textMargin+e+2*this.textMargin,y:0},{x:o-this.textMargin+2*this.textMargin,y:0},{x:o,y:n}],l=h(t,a,x);l.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),i.link&&l.attr("href",i.link),i.target&&l.attr("target",i.target),i.key&&(l.node.id=i.key),l.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:l.getBBox().height/2}),this.group.push(l),l.insertBefore(this.text),this.initialize()}var s=e(2),o=e(1).inherits,n=e(3),h=n.drawPath;o(r,s),r.prototype.getLeft=function(){var t=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.textMargin,y:t}},r.prototype.getRight=function(){var t=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.group.getBBox().width-this.textMargin,y:t}},t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0);i=i||{},s.call(this,t,i,e)}var s=e(2);(0,e(1).inherits)(r,s),t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0,20);i=i||{},i.text=i.text||"Start",s.call(this,t,i,e)}var s=e(2);(0,e(1).inherits)(r,s),t.exports=r},function(t,i,e){function r(t,i){var e=t.paper.rect(0,0,0,0);i=i||{},s.call(this,t,i,e),e.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var r=t.paper.rect(0,0,0,0);r.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),i.key&&(r.node.id=i.key+"i");var o=this.getAttr("font"),n=this.getAttr("font-family"),h=this.getAttr("font-weight");o&&r.attr({font:o}),n&&r.attr({"font-family":n}),h&&r.attr({"font-weight":h}),i.link&&r.attr("href",i.link),i.target&&r.attr("target",i.target),this.group.push(r),r.insertBefore(this.text),this.initialize()}var s=e(2);(0,e(1).inherits)(r,s),t.exports=r},function(t,i,e){if("undefined"!=typeof jQuery){var r=e(4);!function(t){t.fn.flowChart=function(i){return this.each(function(){var e=t(this),s=r(e.text());e.html(""),s.drawSVG(this,i)})}}(jQuery)}},function(i,e){i.exports=t}])});

/* COMBO: filename = plugin/sequence/core.min.js, type = application/javascript, resp = 200 */
!function(){"use strict";function v(){this.title=void 0,this.actors=[],this.signals=[]}function t(v,t){_.extend(this,t),this.name="ParseError",this.message=v||""}function e(v){this.message=v}function i(v,t){if(!v)throw new e(t)}function r(t,e){v.themes[t]=e}function n(v){return v.x+v.width/2}function s(v){return v.y+v.height/2}function a(v,t,e){return v<t?t:v>e?e:v}function o(v,t,e,r){i(_.every([v,e,t,r],_.isFinite),"x1,x2,y1,y2 must be numeric");var n=Math.sqrt((e-v)*(e-v)+(r-t)*(r-t))/25,s=a(Math.random(),.2,.8),o=a(Math.random(),.2,.8),h=Math.random()>.5?n:-n,c=Math.random()>.5?n:-n,d={x:(e-v)*s+v+h,y:(r-t)*s+t+c},l={x:(e-v)*o+v-h,y:(r-t)*o+t-c};return"C"+d.x.toFixed(1)+","+d.y.toFixed(1)+" "+l.x.toFixed(1)+","+l.y.toFixed(1)+" "+e.toFixed(1)+","+r.toFixed(1)}function h(v,t,e,r){return i(_.every([v,t,e,r],_.isFinite),"x, y, w, h must be numeric"),"M"+v+","+t+o(v,t,v+e,t)+o(v+e,t,v+e,t+r)+o(v+e,t+r,v,t+r)+o(v,t+r,v,t)}function c(v,t,e,r){return i(_.every([v,e,t,r],_.isFinite),"x1,x2,y1,y2 must be numeric"),"M"+v.toFixed(1)+","+t.toFixed(1)+o(v,t,e,r)}v.prototype.getActor=function(t,e){t=t.trim();var i,r=this.actors;for(i in r)if(r[i].alias==t)return r[i];return i=r.push(new v.Actor(t,e||t,r.length)),r[i-1]},v.prototype.getActorWithAlias=function(v){v=v.trim();var t,e,i=/([\s\S]+) as (\S+)$/im.exec(v);return i?(e=i[1].trim(),t=i[2].trim()):e=t=v,this.getActor(t,e)},v.prototype.setTitle=function(v){this.title=v},v.prototype.addSignal=function(v){this.signals.push(v)},v.Actor=function(v,t,e){this.alias=v,this.name=t,this.index=e},v.Signal=function(v,t,e,i){this.type="Signal",this.actorA=v,this.actorB=e,this.linetype=3&t,this.arrowtype=t>>2&3,this.message=i},v.Signal.prototype.isSelf=function(){return this.actorA.index==this.actorB.index},v.Note=function(v,t,e){if(this.type="Note",this.actor=v,this.placement=t,this.message=e,this.hasManyActors()&&v[0]==v[1])throw new Error("Note should be over two different actors")},v.Note.prototype.hasManyActors=function(){return _.isArray(this.actor)},v.unescape=function(v){return v.trim().replace(/^"(.*)"$/m,"$1").replace(/\\n/gm,"\n")},v.LINETYPE={SOLID:0,DOTTED:1},v.ARROWTYPE={FILLED:0,OPEN:1},v.PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(v){return v.__proto__}:function(v){return v.constructor.prototype});var d=function(){function t(){this.yy={}}var e=function(v,t,e,i){for(e=e||{},i=v.length;i--;e[v[i]]=t);return e},i=[5,8,9,13,15,24],r=[1,13],n=[1,17],s=[24,29,30],a={trace:function(){},yy:{},symbols_:{error:2,start:3,document:4,EOF:5,line:6,statement:7,NL:8,participant:9,actor_alias:10,signal:11,note_statement:12,title:13,message:14,note:15,placement:16,actor:17,over:18,actor_pair:19,",":20,left_of:21,right_of:22,signaltype:23,ACTOR:24,linetype:25,arrowtype:26,LINE:27,DOTLINE:28,ARROW:29,OPENARROW:30,MESSAGE:31,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"NL",9:"participant",13:"title",15:"note",18:"over",20:",",21:"left_of",22:"right_of",24:"ACTOR",27:"LINE",28:"DOTLINE",29:"ARROW",30:"OPENARROW",31:"MESSAGE"},productions_:[0,[3,2],[4,0],[4,2],[6,1],[6,1],[7,2],[7,1],[7,1],[7,2],[12,4],[12,4],[19,1],[19,3],[16,1],[16,1],[11,4],[17,1],[10,1],[23,2],[23,1],[25,1],[25,1],[26,1],[26,1],[14,1]],performAction:function(t,e,i,r,n,s,a){var o=s.length-1;switch(n){case 1:return r.parser.yy;case 4:break;case 6:s[o];break;case 7:case 8:r.parser.yy.addSignal(s[o]);break;case 9:r.parser.yy.setTitle(s[o]);break;case 10:this.$=new v.Note(s[o-1],s[o-2],s[o]);break;case 11:this.$=new v.Note(s[o-1],v.PLACEMENT.OVER,s[o]);break;case 12:case 20:this.$=s[o];break;case 13:this.$=[s[o-2],s[o]];break;case 14:this.$=v.PLACEMENT.LEFTOF;break;case 15:this.$=v.PLACEMENT.RIGHTOF;break;case 16:this.$=new v.Signal(s[o-3],s[o-2],s[o-1],s[o]);break;case 17:this.$=r.parser.yy.getActor(v.unescape(s[o]));break;case 18:this.$=r.parser.yy.getActorWithAlias(v.unescape(s[o]));break;case 19:this.$=s[o-1]|s[o]<<2;break;case 21:this.$=v.LINETYPE.SOLID;break;case 22:this.$=v.LINETYPE.DOTTED;break;case 23:this.$=v.ARROWTYPE.FILLED;break;case 24:this.$=v.ARROWTYPE.OPEN;break;case 25:this.$=v.unescape(s[o].substring(1))}},table:[e(i,[2,2],{3:1,4:2}),{1:[3]},{5:[1,3],6:4,7:5,8:[1,6],9:[1,7],11:8,12:9,13:[1,10],15:[1,12],17:11,24:r},{1:[2,1]},e(i,[2,3]),e(i,[2,4]),e(i,[2,5]),{10:14,24:[1,15]},e(i,[2,7]),e(i,[2,8]),{14:16,31:n},{23:18,25:19,27:[1,20],28:[1,21]},{16:22,18:[1,23],21:[1,24],22:[1,25]},e([20,27,28,31],[2,17]),e(i,[2,6]),e(i,[2,18]),e(i,[2,9]),e(i,[2,25]),{17:26,24:r},{24:[2,20],26:27,29:[1,28],30:[1,29]},e(s,[2,21]),e(s,[2,22]),{17:30,24:r},{17:32,19:31,24:r},{24:[2,14]},{24:[2,15]},{14:33,31:n},{24:[2,19]},{24:[2,23]},{24:[2,24]},{14:34,31:n},{14:35,31:n},{20:[1,36],31:[2,12]},e(i,[2,16]),e(i,[2,10]),e(i,[2,11]),{17:37,24:r},{31:[2,13]}],defaultActions:{3:[2,1],24:[2,14],25:[2,15],27:[2,19],28:[2,23],29:[2,24],37:[2,13]},parseError:function(v,t){if(!t.recoverable)throw new Error(v);this.trace(v)},parse:function(v){var t=this,e=[0],i=[null],r=[],n=this.table,s="",a=0,o=0,h=0,c=1,d=r.slice.call(arguments,1),l=Object.create(this.lexer),p={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(p.yy[u]=this.yy[u]);l.setInput(v,p.yy),p.yy.lexer=l,p.yy.parser=this,void 0===l.yylloc&&(l.yylloc={});var m=l.yylloc;r.push(m);var w=l.options&&l.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var x,f,y,g,_,b,k,E,S,T={};;){if(y=e[e.length-1],this.defaultActions[y]?g=this.defaultActions[y]:(null!==x&&void 0!==x||(x=function(){var v;return v=l.lex()||c,"number"!=typeof v&&(v=t.symbols_[v]||v),v}()),g=n[y]&&n[y][x]),void 0===g||!g.length||!g[0]){var A="";S=[];for(b in n[y])this.terminals_[b]&&b>2&&S.push("'"+this.terminals_[b]+"'");A=l.showPosition?"Parse error on line "+(a+1)+":\n"+l.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(a+1)+": Unexpected "+(x==c?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(A,{text:l.match,token:this.terminals_[x]||x,line:l.yylineno,loc:m,expected:S})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+x);switch(g[0]){case 1:e.push(x),i.push(l.yytext),r.push(l.yylloc),e.push(g[1]),x=null,f?(x=f,f=null):(o=l.yyleng,s=l.yytext,a=l.yylineno,m=l.yylloc,h>0&&h--);break;case 2:if(k=this.productions_[g[1]][1],T.$=i[i.length-k],T._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},w&&(T._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),void 0!==(_=this.performAction.apply(T,[s,o,a,p.yy,g[1],i,r].concat(d))))return _;k&&(e=e.slice(0,-1*k*2),i=i.slice(0,-1*k),r=r.slice(0,-1*k)),e.push(this.productions_[g[1]][0]),i.push(T.$),r.push(T._$),E=n[e[e.length-2]][e[e.length-1]],e.push(E);break;case 3:return!0}}return!0}},o=function(){return{EOF:1,parseError:function(v,t){if(!this.yy.parser)throw new Error(v);this.yy.parser.parseError(v,t)},setInput:function(v,t){return this.yy=t||this.yy||{},this._input=v,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var v=this._input[0];return this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v,v.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),v},unput:function(v){var t=v.length,e=v.split(/(?:\r\n?|\n)/g);this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===i.length?this.yylloc.first_column:0)+i[i.length-e.length].length-e[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(v){this.unput(this.match.slice(v))},pastInput:function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var v=this.match;return v.length<20&&(v+=this._input.substr(0,20-v.length)),(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var v=this.pastInput(),t=new Array(v.length+1).join("-");return v+this.upcomingInput()+"\n"+t+"^"},test_match:function(v,t){var e,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),i=v[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+v[0].length},this.yytext+=v[0],this.match+=v[0],this.matches=v,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(v[0].length),this.matched+=v[0],e=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var n in r)this[n]=r[n];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var v,t,e,i;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),n=0;n<r.length;n++)if((e=this._input.match(this.rules[r[n]]))&&(!t||e[0].length>t[0].length)){if(t=e,i=n,this.options.backtrack_lexer){if(!1!==(v=this.test_match(e,r[n])))return v;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(v=this.test_match(t,r[i]))&&v:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var v=this.next();return v||this.lex()},begin:function(v){this.conditionStack.push(v)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(v){return v=this.conditionStack.length-1-Math.abs(v||0),v>=0?this.conditionStack[v]:"INITIAL"},pushState:function(v){this.begin(v)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(v,t,e,i){switch(e){case 0:return 8;case 1:case 2:break;case 3:return 9;case 4:return 21;case 5:return 22;case 6:return 18;case 7:return 15;case 8:return 13;case 9:return 20;case 10:case 11:return 24;case 12:return 28;case 13:return 27;case 14:return 30;case 15:return 29;case 16:return 31;case 17:return 5;case 18:return"INVALID"}},rules:[/^(?:[\r\n]+)/i,/^(?:\s+)/i,/^(?:#[^\r\n]*)/i,/^(?:participant\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:title\b)/i,/^(?:,)/i,/^(?:[^\->:,\r\n"]+)/i,/^(?:"[^"]+")/i,/^(?:--)/i,/^(?:-)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:[^\r\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],inclusive:!0}}}}();return a.lexer=o,t.prototype=a,a.Parser=t,new t}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=d,exports.Parser=d.Parser,exports.parse=function(){return d.parse.apply(d,arguments)},exports.main=function(v){v[1]||(console.log("Usage: "+v[0]+" FILE"),process.exit(1));var t=require("fs").readFileSync(require("path").normalize(v[1]),"utf8");return exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1))),t.prototype=new Error,v.ParseError=t,v.parse=function(e){d.yy=new v,d.yy.parseError=function(v,e){throw new t(v,e)};var i=d.parse(e);return delete i.parseError,i};var l=v.PLACEMENT,p=v.LINETYPE,u=v.ARROWTYPE;e.prototype.toString=function(){return"AssertException: "+this.message},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),v.themes={};var m=function(v,t){this.init(v,t)};if(_.extend(m.prototype,{init:function(v,t){this.diagram=v,this.actorsHeight_=0,this.signalsHeight_=0,this.title_=void 0},setupPaper:function(v){},draw:function(v){this.setupPaper(v),this.layout();var t=this.title_?this.title_.height:0,e=10+t;this.drawTitle(),this.drawActors(e),this.drawSignals(e+this.actorsHeight_)},layout:function(){function v(v,t,e){i(v<t,"a must be less than or equal to b"),v<0?(t=r[t],t.x=Math.max(e-t.width/2,t.x)):t>=r.length?(v=r[v],v.paddingRight=Math.max(e,v.paddingRight)):(v=r[v],v.distances[t]=Math.max(e,v.distances[t]?v.distances[t]:0))}var t=this.diagram,e=this.font_,r=t.actors,n=t.signals;if(t.width=0,t.height=0,t.title){var s=this.title_={},a=this.textBBox(t.title,e);s.textBB=a,s.message=t.title,s.width=a.width+10,s.height=a.height+10,s.x=10,s.y=10,t.width+=s.width,t.height+=s.height}_.each(r,_.bind(function(v){var t=this.textBBox(v.name,e);v.textBB=t,v.x=0,v.y=0,v.width=t.width+40,v.height=t.height+40,v.distances=[],v.paddingRight=0,this.actorsHeight_=Math.max(v.height,this.actorsHeight_)},this)),_.each(n,_.bind(function(t){var i,r,n=this.textBBox(t.message,e);t.textBB=n,t.width=n.width,t.height=n.height;var s=0;if("Signal"==t.type)t.width+=20,t.height+=20,t.isSelf()?(i=t.actorA.index,r=i+1,t.width+=20):(i=Math.min(t.actorA.index,t.actorB.index),r=Math.max(t.actorA.index,t.actorB.index));else{if("Note"!=t.type)throw new Error("Unhandled signal type:"+t.type);if(t.width+=30,t.height+=30,s=20,t.placement==l.LEFTOF)r=t.actor.index,i=r-1;else if(t.placement==l.RIGHTOF)i=t.actor.index,r=i+1;else if(t.placement==l.OVER&&t.hasManyActors())i=Math.min(t.actor[0].index,t.actor[1].index),r=Math.max(t.actor[0].index,t.actor[1].index),s=-40;else if(t.placement==l.OVER)return i=t.actor.index,v(i-1,i,t.width/2),v(i,i+1,t.width/2),void(this.signalsHeight_+=t.height)}v(i,r,t.width+s),this.signalsHeight_+=t.height},this));var o=0;return _.each(r,function(v){v.x=Math.max(o,v.x),_.each(v.distances,function(t,e){void 0!==t&&(e=r[e],t=Math.max(t,v.width/2,e.width/2),e.x=Math.max(e.x,v.x+v.width/2+t-e.width/2))}),o=v.x+v.width+v.paddingRight}),t.width=Math.max(o,t.width),t.width+=20,t.height+=20+2*this.actorsHeight_+this.signalsHeight_,this},textBBox:function(v,t){},drawTitle:function(){var v=this.title_;v&&this.drawTextBox(v,v.message,0,5,this.font_,0)},drawActors:function(v){var t=v;_.each(this.diagram.actors,_.bind(function(v){this.drawActor(v,t,this.actorsHeight_),this.drawActor(v,t+this.actorsHeight_+this.signalsHeight_,this.actorsHeight_);var e=n(v);this.drawLine(e,t+this.actorsHeight_-10,e,t+this.actorsHeight_+10+this.signalsHeight_)},this))},drawActor:function(v,t,e){v.y=t,v.height=e,this.drawTextBox(v,v.name,10,10,this.font_,1)},drawSignals:function(v){var t=v;_.each(this.diagram.signals,_.bind(function(v){"Signal"==v.type?v.isSelf()?this.drawSelfSignal(v,t):this.drawSignal(v,t):"Note"==v.type&&this.drawNote(v,t),t+=v.height},this))},drawSelfSignal:function(v,t){i(v.isSelf(),"signal must be a self signal");var e=v.textBB,r=n(v.actorA),s=r+20+5,a=t+5+v.height/2+e.y;this.drawText(s,a,v.message,this.font_,0);var o=t+5+5,h=o+v.height-10-5;this.drawLine(r,o,r+20,o,v.linetype),this.drawLine(r+20,o,r+20,h,v.linetype),this.drawLine(r+20,h,r,h,v.linetype,v.arrowtype)},drawSignal:function(v,t){var e=n(v.actorA),i=n(v.actorB),r=(i-e)/2+e,s=t+5+10;this.drawText(r,s,v.message,this.font_,1),s=t+v.height-5-5,this.drawLine(e,s,i,s,v.linetype,v.arrowtype)},drawNote:function(v,t){v.y=t;var e=v.hasManyActors()?v.actor[0]:v.actor,i=n(e);switch(v.placement){case l.RIGHTOF:v.x=i+10;break;case l.LEFTOF:v.x=i-10-v.width;break;case l.OVER:if(v.hasManyActors()){var r=n(v.actor[1]);v.x=Math.min(i,r)-20,v.width=Math.max(i,r)+20-v.x}else v.x=i-v.width/2;break;default:throw new Error("Unhandled note placement: "+v.placement)}return this.drawTextBox(v,v.message,10,5,this.font_,0)},drawTextBox:function(v,t,e,i,r,a){var o=v.x+e,h=v.y+e,c=v.width-2*e,d=v.height-2*e;return this.drawRect(o,h,c,d),1==a?(o=n(v),h=s(v)):(o+=i,h+=i),this.drawText(o,h,t,r,a)}}),"undefined"!=typeof Snap){var w="http://www.w3.org/2000/svg",x={stroke:"#000000","stroke-width":2,fill:"none"},f={stroke:"#000000","stroke-width":2,fill:"#fff"},y={},g=function(v,t,e){_.defaults(t,{"css-class":"simple","font-size":16,"font-family":"'Roboto','Open Sans',Arial,'Microsoft YaHei','WenQuanYi Micro Hei',SimSun,sans-serif"}),this.init(v,t,e)};_.extend(g.prototype,m.prototype,{init:function(v,t,e){m.prototype.init.call(this,v),this.paper_=void 0,this.cssClass_=t["css-class"]||void 0,this.font_={"font-size":t["font-size"],"font-family":t["font-family"]};var i=this.arrowTypes_={};i[u.FILLED]="Block",i[u.OPEN]="Open";var r=this.lineTypes_={};r[p.SOLID]="",r[p.DOTTED]="6,2";var n=this;this.waitForFont(function(){e(n)})},waitForFont:function(v){var t=this.font_["font-family"];if("undefined"==typeof WebFont)throw new Error("WebFont is required (https://github.com/typekit/webfontloader).");if(y[t])return void v();WebFont.load({custom:{families:[t]},classes:!1,active:function(){y[t]=!0,v()},inactive:function(){y[t]=!0,v()}})},addDescription:function(v,t){var e=document.createElementNS(w,"desc");e.appendChild(document.createTextNode(t)),v.appendChild(e)},setupPaper:function(v){var t=document.createElementNS(w,"svg");v.appendChild(t),this.addDescription(t,this.diagram.title||""),this.paper_=Snap(t),this.paper_.addClass("sequence"),this.cssClass_&&this.paper_.addClass(this.cssClass_),this.beginGroup();var e=this.arrowMarkers_={},i=this.paper_.path("M 0 0 L 5 2.5 L 0 5 z");e[u.FILLED]=i.marker(0,0,5,5,5,2.5).attr({id:"markerArrowBlock"}),i=this.paper_.path("M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"),e[u.OPEN]=i.marker(0,0,9.6,16,9.6,8).attr({markerWidth:"4",id:"markerArrowOpen"})},layout:function(){m.prototype.layout.call(this),this.paper_.attr({width:this.diagram.width+"px",height:this.diagram.height+"px"})},textBBox:function(v,t){var e=this.createText(v,t),i=e.getBBox();return e.remove(),i},pushToStack:function(v){return this._stack.push(v),v},beginGroup:function(){this._stack=[]},finishGroup:function(){var v=this.paper_.group.apply(this.paper_,this._stack);return this.beginGroup(),v},createText:function(v,t){v=v.split("\n").map(function(v){return v.trim()});var e=this.paper_.text(0,0,v);return e.attr(t||{}),v.length>1&&e.selectAll("tspan:nth-child(n+2)").attr({dy:"1.2em",x:0}),e},drawLine:function(v,t,e,i,r,n){var s=this.paper_.line(v,t,e,i).attr(x);return void 0!==r&&s.attr("strokeDasharray",this.lineTypes_[r]),void 0!==n&&s.attr("markerEnd",this.arrowMarkers_[n]),this.pushToStack(s)},drawRect:function(v,t,e,i){var r=this.paper_.rect(v,t,e,i).attr(f);return this.pushToStack(r)},drawText:function(v,t,e,i,r){var n=this.createText(e,i),s=n.getBBox();return 1==r&&(v-=s.width/2,t-=s.height/2),n.attr({x:v-s.x,y:t-s.y}),n.selectAll("tspan").attr({x:v}),this.pushToStack(n),n},drawTitle:function(){return this.beginGroup(),m.prototype.drawTitle.call(this),this.finishGroup().addClass("title")},drawActor:function(v,t,e){return this.beginGroup(),m.prototype.drawActor.call(this,v,t,e),this.finishGroup().addClass("actor")},drawSignal:function(v,t){return this.beginGroup(),m.prototype.drawSignal.call(this,v,t),this.finishGroup().addClass("signal")},drawSelfSignal:function(v,t){return this.beginGroup(),m.prototype.drawSelfSignal.call(this,v,t),this.finishGroup().addClass("signal")},drawNote:function(v,t){return this.beginGroup(),m.prototype.drawNote.call(this,v,t),this.finishGroup().addClass("note")}});var b=function(v,t,e){_.defaults(t,{"css-class":"hand","font-size":16,"font-family":"danielbd"}),this.init(v,t,e)};_.extend(b.prototype,g.prototype,{drawLine:function(v,t,e,i,r,n){var s=this.paper_.path(c(v,t,e,i)).attr(x);return void 0!==r&&s.attr("strokeDasharray",this.lineTypes_[r]),void 0!==n&&s.attr("markerEnd",this.arrowMarkers_[n]),this.pushToStack(s)},drawRect:function(v,t,e,i){var r=this.paper_.path(h(v,t,e,i)).attr(f);return this.pushToStack(r)}}),r("snapSimple",g),r("snapHand",b)}if("undefined"!=typeof Raphael){var x={stroke:"#000000","stroke-width":2,fill:"none"},f={stroke:"#000000","stroke-width":2,fill:"#fff"};Raphael.fn.line=function(v,t,e,r){return i(_.every([v,e,t,r],_.isFinite),"x1,x2,y1,y2 must be numeric"),this.path("M{0},{1} L{2},{3}",v,t,e,r)};var k=function(v,t,e){this.init(v,_.defaults(t,{"font-size":16,"font-family":"'Roboto','Open Sans',Arial,'Microsoft YaHei','WenQuanYi Micro Hei',SimSun,sans-serif"}),e)};_.extend(k.prototype,m.prototype,{init:function(v,t,e){m.prototype.init.call(this,v),this.paper_=void 0,this.font_={"font-size":t["font-size"],"font-family":t["font-family"]};var i=this.arrowTypes_={};i[u.FILLED]="block",i[u.OPEN]="open";var r=this.lineTypes_={};r[p.SOLID]="",r[p.DOTTED]="-",e(this)},setupPaper:function(v){this.paper_=new Raphael(v,320,200),this.paper_.setStart()},draw:function(v){m.prototype.draw.call(this,v),this.paper_.setFinish()},layout:function(){m.prototype.layout.call(this),this.paper_.setSize(this.diagram.width,this.diagram.height)},cleanText:function(v){return v.split("\n").map(function(v){return v.trim()}).join("\n")},textBBox:function(v,t){v=this.cleanText(v),t=t||{};var e;t.obj_?e=this.paper_.print(0,0,v,t.obj_,t["font-size"]):(e=this.paper_.text(0,0,v),e.attr(t));var i=e.getBBox();return e.remove(),i},drawLine:function(v,t,e,i,r,n){var s=this.paper_.line(v,t,e,i).attr(x);return void 0!==n&&s.attr("arrow-end",this.arrowTypes_[n]+"-wide-long"),void 0!==n&&s.attr("stroke-dasharray",this.lineTypes_[r]),s},drawRect:function(v,t,e,i){return this.paper_.rect(v,t,e,i).attr(f)},drawText:function(v,t,e,i,r){e=this.cleanText(e),i=i||{},r=r||0;var n=this.paper_,s=this.textBBox(e,i);1==r&&(v-=s.width/2,t-=s.height/2);var a;return i.obj_?a=n.print(v-s.x,t-s.y,e,i.obj_,i["font-size"]):(a=n.text(v-s.x-s.width/2,t-s.y,e),a.attr(i),a.attr({"text-anchor":"start"})),a}});var E=function(v,t,e){this.init(v,_.defaults(t,{"font-size":16,"font-family":"daniel"}),e)};_.extend(E.prototype,k.prototype,{setupPaper:function(v){k.prototype.setupPaper.call(this,v),this.font_.obj_=this.paper_.getFont("daniel")},drawLine:function(v,t,e,i,r,n){var s=this.paper_.path(c(v,t,e,i)).attr(x);return void 0!==n&&s.attr("arrow-end",this.arrowTypes_[n]+"-wide-long"),void 0!==n&&s.attr("stroke-dasharray",this.lineTypes_[r]),s},drawRect:function(v,t,e,i){return this.paper_.path(h(v,t,e,i)).attr(f)}}),r("raphaelSimple",k),r("raphaelHand",E)}if("undefined"!=typeof Raphael&&Raphael.registerFont({w:209,face:{"font-family":"Daniel","font-weight":700,"font-stretch":"normal","units-per-em":"360","panose-1":"2 11 8 0 0 0 0 0 0 0",ascent:"288",descent:"-72","x-height":"7",bbox:"-92.0373 -310.134 519 184.967","underline-thickness":"3.51562","underline-position":"-25.1367","unicode-range":"U+0009-U+F002"},glyphs:{" ":{w:179},"\t":{w:179},"\r":{w:179},"!":{d:"66,-306v9,3,18,11,19,24v-18,73,-20,111,-37,194v0,10,2,34,-12,34v-12,0,-18,-9,-18,-28v0,-85,23,-136,38,-214v1,-7,4,-10,10,-10xm25,-30v15,-1,28,34,5,35v-11,-1,-38,-36,-5,-35",w:115},'"':{d:"91,-214v-32,3,-25,-40,-20,-68v3,-16,7,-25,12,-27v35,13,14,56,8,95xm8,-231v4,-31,1,-40,18,-75v37,7,11,51,11,79v-3,3,-4,8,-5,13v-17,4,-16,-10,-24,-17",w:117},"#":{d:"271,-64v-30,26,-96,-7,-102,51v-6,2,-13,2,-24,-2v-2,-11,10,-21,2,-28v-14,5,-48,0,-48,22v0,23,-11,14,-29,10v-7,-6,6,-19,-1,-24r-32,4v-19,-8,-15,-24,5,-28r33,-6v4,0,24,-23,11,-27v-26,0,-63,14,-74,-10v3,-1,9,-17,16,-10v15,-8,81,4,89,-30v8,-14,16,-34,24,-38v23,9,24,38,5,49v37,24,55,-38,72,-43v19,10,20,23,-1,45v2,8,23,1,29,4v3,3,6,6,10,11v-14,13,-20,12,-45,12v-17,0,-16,17,-19,29v18,-7,49,3,67,-2v4,0,8,4,12,11xm161,-104v-30,-1,-44,10,-44,37v14,1,24,0,40,-5v0,-1,3,-10,8,-26v0,-4,-1,-6,-4,-6",w:285},$:{d:"164,-257v29,4,1,42,-3,50v5,5,38,13,41,24v8,4,6,15,-2,21v-18,3,-36,-17,-49,-17v-17,1,-31,40,-28,48v5,4,8,8,9,10v13,1,35,37,28,44v-10,21,-36,20,-65,28v-10,10,-12,40,-17,51v-9,-3,-28,1,-18,-17v0,-13,5,-24,-1,-35v-18,1,-59,-10,-42,-29v21,0,56,16,55,-16v5,-4,9,-18,9,-26v-14,-15,-55,-41,-53,-65v2,-33,56,-19,98,-26v10,-14,31,-43,38,-45xm93,-152v11,-10,15,-15,14,-29v-17,-3,-37,1,-43,6v10,12,20,19,29,23xm111,-103v-8,1,-11,12,-10,22v10,0,28,2,27,-8v0,-4,-13,-15,-17,-14",w:225},"%":{d:"181,-96v24,-7,67,-13,104,1v14,18,21,19,22,44v-13,43,-99,61,-146,36v-9,-9,-22,-11,-32,-29v0,-27,24,-53,52,-52xm139,-185v-9,68,-138,73,-131,-5v0,-3,3,-9,9,-17v13,1,27,1,17,-16v5,-39,63,0,93,-6v36,1,80,-9,102,11v15,32,12,32,-8,56v-16,21,-103,78,-152,125r-14,28v-23,11,-25,-7,-29,-20v34,-71,133,-98,171,-162v-13,-12,-52,-5,-61,1v0,1,1,3,3,5xm38,-190v0,34,55,29,70,8v0,-14,-20,-11,-32,-14v-14,-3,-24,-9,-40,-10v1,0,5,11,2,16xm172,-53v12,27,90,18,102,-5v-18,-7,-32,-10,-40,-10v-29,3,-57,-4,-62,15",w:308},"&":{d:"145,-82v17,-8,47,-15,71,-26v13,2,25,12,9,23v-23,7,-40,16,-53,27r0,6v13,8,30,21,36,38v0,8,-4,12,-11,12v-19,0,-43,-39,-59,-44v-30,12,-65,29,-97,32v-32,3,-45,-41,-23,-63v21,-20,52,-26,70,-48v-4,-31,-12,-47,9,-73v13,-16,20,-29,23,-39v15,-15,32,-22,51,-22v30,9,62,64,32,96v-2,3,-47,42,-69,48v-15,8,-11,9,0,22v6,7,10,11,11,11xm114,-138v25,-13,62,-38,74,-62v0,-9,-10,-31,-20,-29v-28,7,-60,42,-60,75v0,10,2,15,6,16xm99,-91v-18,10,-54,18,-59,45v26,5,61,-12,77,-22v-1,-5,-13,-23,-18,-23",w:253},"'":{d:"36,-182v-36,7,-34,-61,-17,-80v15,1,21,19,21,20r-1,-1v0,0,-1,12,-5,35v1,5,3,17,2,26",w:63},"(":{d:"130,-306v13,2,23,43,-1,43v-49,43,-77,77,-90,148v5,49,27,67,64,101v4,14,5,6,2,19r-15,0v-35,-17,-79,-58,-79,-120v0,-58,66,-176,119,-191",w:120},")":{d:"108,-138v-2,73,-48,120,-98,153v-17,-5,-16,-20,-6,-31v52,-64,73,-62,74,-135v1,-42,-40,-98,-58,-128v0,-5,-1,-12,-2,-22v18,-18,25,0,42,27v25,39,50,66,48,136",w:120},"*":{d:"121,-271v15,-5,36,-8,40,9v-5,10,-31,19,-47,31v0,11,34,43,14,53v-18,8,-24,-24,-34,-20v-4,10,-4,19,-12,41v-25,7,-15,-30,-17,-47v-13,-1,-17,9,-46,30r-10,0v-20,-32,37,-43,54,-64v-10,-11,-36,-33,-16,-51v3,0,14,8,33,24v8,-10,26,-39,32,-42v14,7,15,23,9,36",w:177},"+":{d:"163,-64v-7,22,-65,2,-77,21v-2,10,-6,21,-11,35v-20,4,-21,-12,-19,-29v3,-23,-44,6,-39,-27v-8,-22,36,-8,49,-18v8,-13,6,-36,24,-40v19,-4,14,32,11,39v18,3,19,2,54,8v2,1,5,5,8,11",w:170},",":{d:"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102",w:97},"-":{d:"57,-94v19,4,55,-5,54,17v-15,23,-54,20,-91,15v-4,2,-13,-10,-11,-16v-1,-22,28,-15,48,-16",w:124},".":{d:"40,-48v21,20,21,44,-4,44v-33,0,-26,-24,-10,-44r14,0",w:67},"/":{d:"21,20v-22,-45,21,-95,41,-126v38,-57,115,-158,193,-201v2,0,4,3,7,11v11,29,-15,34,-25,55v-81,56,-189,208,-197,261r-19,0",w:275},0:{d:"78,-237v70,-47,269,-41,270,59v0,34,-11,53,-29,76v-13,35,-30,32,-85,64v-6,2,-10,6,-7,8v-73,14,-98,38,-173,1v-7,-13,-52,-48,-46,-88v9,-57,27,-75,70,-120xm123,-38v100,0,202,-46,195,-153v-32,-55,-144,-73,-211,-35v-16,34,-68,54,-53,108v6,25,1,22,-3,39v6,24,41,41,72,41",w:353},1:{d:"39,-208v0,-14,6,-59,29,-39v3,4,6,13,10,24r-22,128r8,87v-4,6,-9,3,-16,2v-44,-38,-9,-137,-9,-202",w:93},2:{d:"88,-35v47,-10,119,-24,168,-9v0,12,-23,13,-35,16v1,1,3,1,5,1v-74,8,-118,23,-194,23v-14,0,-20,-13,-21,-28v55,-40,83,-61,123,-104v26,-13,65,-67,71,-102v-1,-9,-11,-16,-22,-16v-20,-1,-120,29,-156,49v-10,-2,-30,-20,-10,-28v50,-21,111,-51,178,-48v25,10,44,22,36,39v12,30,-19,64,-34,83v-39,48,-37,39,-115,109v0,5,-3,8,-8,11v4,3,8,4,14,4",w:265},3:{d:"188,-282v34,-10,74,25,47,51v-19,32,-55,50,-92,70v28,14,116,25,108,70v8,14,-49,40,-63,48v-29,9,-130,22,-168,42v-6,-5,-19,-7,-12,-22v56,-36,175,-21,210,-76v-9,-20,-88,-42,-97,-33v-20,-1,-41,2,-56,-7r5,-21v56,-25,103,-36,137,-78v1,-1,2,-5,4,-11v-15,-14,-56,7,-79,0v-10,9,-73,22,-92,31v-11,-4,-28,-23,-13,-30v50,-22,96,-26,154,-37v0,-1,8,3,7,3",w:260},4:{d:"79,-249v-7,17,-29,75,-33,96v0,6,3,8,8,8v43,-2,111,6,141,-6v17,-47,20,-100,63,-148v9,4,16,7,21,10v-17,31,-44,95,-51,141v7,4,24,-4,23,10v-1,16,-29,12,-31,23v-10,22,-9,69,-7,103v-3,2,-7,5,-10,9v-47,-11,-23,-74,-16,-114v0,-4,-2,-6,-7,-6v-65,2,-89,13,-162,4v-22,-22,-2,-53,5,-76v16,-15,17,-57,35,-70v6,-1,21,11,21,16",w:267},5:{d:"185,-272v30,7,45,-8,53,18v1,16,-17,18,-34,14v0,0,-95,-11,-129,1v-6,9,-24,33,-29,54v76,10,171,5,214,47v11,11,22,30,5,52v-14,12,-30,14,-34,27v-26,11,-141,63,-157,60v-16,-2,-25,-19,-4,-27v48,-18,128,-39,170,-86v4,-14,-65,-41,-85,-41r-92,0v-10,-4,-66,-1,-57,-23v0,-23,23,-51,35,-83v11,-28,133,-10,144,-13",w:284},6:{d:"70,-64v9,-51,63,-74,123,-71v43,2,109,3,111,41r-25,47v0,1,1,2,2,3v-5,0,-39,10,-41,20v-15,3,-22,4,-22,11v-39,1,-77,20,-119,13v-42,-7,-35,-9,-77,-46v-56,-118,94,-201,176,-229v7,0,21,8,20,15v-2,17,-23,15,-43,24v-69,31,-119,72,-134,145v-5,25,36,68,78,64v59,-6,128,-18,153,-61v-7,-14,-13,-9,-32,-21v-67,-15,-118,-5,-150,43r0,12v-13,4,-17,-3,-20,-10",w:310},7:{d:"37,-228v33,-14,173,-17,181,-19v28,-1,24,31,9,45v-17,15,-45,49,-59,69v-17,26,-55,67,-61,113v-10,13,-9,14,-14,20v-33,-13,-20,-25,-11,-53v16,-48,73,-115,109,-156v2,-7,5,-14,-10,-12v-26,4,-54,6,-76,13v-23,-5,-83,31,-94,-9v2,-8,18,-19,26,-11",w:245},8:{d:"57,-236v40,-50,166,-51,213,-10v22,28,10,63,-22,78r-35,17v8,5,54,24,53,44v-5,14,-4,33,-18,42v-13,13,-35,18,-44,34v-60,27,-190,49,-194,-42v7,-41,17,-54,59,-70r0,-4v-32,-9,-73,-62,-26,-85v4,0,8,-2,14,-4xm142,-160v24,-2,160,-31,99,-72v-28,-18,-108,-33,-146,-5v-16,12,-28,30,-33,59v24,12,37,20,80,18xm41,-62v30,65,189,6,199,-37v3,-14,-60,-30,-74,-30v-70,0,-118,10,-125,67",w:290},9:{d:"11,-192v15,-49,119,-61,161,-23v16,15,27,55,11,79v-20,62,-51,79,-96,118v-10,4,-45,27,-50,6v9,-15,66,-52,98,-99v-7,-7,-8,-3,-25,0v-49,-11,-96,-25,-99,-81xm145,-131v7,-5,13,-34,13,-41v-2,-51,-104,-38,-114,-6v-2,10,37,35,46,35v23,1,43,-1,55,12",w:198},":":{d:"39,-125v15,-8,40,-1,40,15v0,15,-6,22,-19,22v-13,0,-29,-21,-21,-37xm66,-17v-8,27,-51,19,-46,-8v-1,-6,8,-22,14,-20v29,0,30,6,32,28",w:95},";":{d:"56,-93v2,-30,37,-22,40,2v0,2,-1,7,-3,15v-13,8,-15,6,-27,4xm64,-44v11,-11,30,-4,32,14v-21,39,-63,71,-92,85v-5,0,-11,-2,-18,-8v11,-23,36,-36,50,-61v11,-7,19,-20,28,-30",w:107},"<":{d:"166,-202v12,0,29,15,24,29v0,4,-119,64,-120,73v15,21,89,64,91,86v2,29,-18,12,-30,15v-27,-29,-59,-54,-95,-75v-18,-10,-25,-13,-24,-41",w:176},"=":{d:"125,-121v18,7,55,-9,69,14v0,17,-45,26,-135,26v-18,0,-27,-7,-27,-21v-1,-37,60,-5,93,-19xm138,-71v20,0,48,-1,50,16v-13,24,-86,32,-131,29v-29,-2,-43,-10,-43,-24v-7,-23,36,-14,39,-17v27,6,57,-4,85,-4",w:196},">":{d:"4,-14v20,-48,77,-59,118,-94v-16,-19,-58,-52,-81,-75v-11,-7,-15,-38,-1,-40v33,16,83,71,121,105v26,23,-6,35,-41,53v-29,16,-56,28,-73,54v-21,15,-16,20,-34,15v-3,0,-9,-16,-9,-18",w:174},"?":{
        d:"105,-291v57,-13,107,-4,107,39v0,67,-136,85,-155,137v-1,6,10,23,-4,23v-23,1,-33,-35,-23,-57v31,-41,124,-60,149,-103v-8,-21,-72,-5,-88,-1v-23,6,-59,39,-71,8v0,0,-1,0,1,-17v10,-4,45,-20,84,-29xm80,-25v-6,4,-8,39,-24,22v-24,3,-22,-21,-13,-35v17,-7,29,5,37,13",w:216},"@":{d:"218,-207v23,8,42,14,47,37v44,68,-27,137,-87,85r1,0v0,2,-59,19,-61,17v-35,0,-42,-47,-17,-68r0,-4v-19,-1,-45,37,-49,40v-37,76,58,72,121,62v11,-2,34,-13,36,3v-14,31,-69,31,-114,33v-51,2,-99,-41,-80,-92v2,-30,22,-40,42,-63v35,-20,91,-53,161,-50xm217,-101v23,0,35,-19,35,-41v0,-43,-75,-41,-102,-19v36,3,55,16,62,41v-6,5,-6,19,5,19xm127,-110v8,5,51,-15,28,-16v-4,0,-25,4,-28,16",w:291},A:{d:"97,-81v-23,-10,-39,38,-52,60v-8,6,-8,6,-22,18v-22,-7,-23,-37,-4,-49v7,-8,11,-15,15,-23r-1,1v-14,-26,23,-29,31,-40v1,-1,15,-29,26,-36v17,-31,39,-58,54,-92v16,-20,20,-51,41,-66v29,5,34,62,45,92v9,64,21,103,49,155v-3,25,-44,11,-54,0v-34,-12,-97,-29,-128,-20xm107,-118v20,6,80,10,111,17v6,-7,-4,-15,-7,-24v-11,-28,-9,-92,-30,-117v-9,9,-19,44,-34,55v-9,23,-27,40,-40,69",w:294},B:{d:"256,-179v41,10,115,34,91,91v-6,3,-14,12,-19,20v-37,19,-50,34,-63,25v-9,10,-12,11,-34,13r3,-3v-4,-4,-12,-4,-18,0v0,0,2,2,5,4v-21,14,-26,6,-44,15v-4,0,-7,-2,-8,-5v-6,11,-20,-5,-18,11v-36,4,-91,35,-114,4v-7,-62,-10,-138,4,-199v-1,-19,-37,2,-37,-27v0,-8,2,-13,6,-15v68,-31,231,-92,311,-39v8,12,12,20,12,25v-8,42,-32,49,-77,80xm79,-160v72,-17,135,-39,184,-70v20,-13,31,-23,31,-27v1,-6,-30,-13,-38,-12v-54,0,-116,13,-186,41v11,21,1,48,9,68xm262,-43v0,-4,3,-6,-4,-5v0,1,1,2,4,5xm211,-140v-34,7,-94,24,-139,15v-6,20,-4,56,-4,82v0,29,43,1,56,2v48,-11,108,-25,154,-48v20,-10,32,-17,32,-25v0,-18,-33,-26,-99,-26xm195,-20v6,1,6,-2,5,-7v-3,2,-7,2,-5,7",w:364},C:{d:"51,-114v-12,75,96,76,166,71r145,-10v9,2,9,5,9,18v-37,18,-85,28,-109,22v-18,10,-47,10,-71,10v-29,0,-68,1,-105,-11v-6,-1,-10,-3,-10,-8v-33,-13,-48,-33,-66,-59v-19,-114,146,-150,224,-177v35,0,88,-31,99,7v-1,29,-49,14,-76,28v-55,8,-115,35,-175,71v-13,8,-23,21,-31,38",w:376},D:{d:"312,-78v-2,1,-3,7,-10,5v6,-3,10,-4,10,-5xm4,-252v2,-27,83,-38,106,-39v130,-7,267,1,291,109v0,0,-2,8,-3,25v-5,9,-4,28,-23,34v-4,4,-2,5,-7,0v-3,3,-15,7,-5,10v0,0,-10,14,-13,2v-11,1,-8,5,-20,14v1,2,7,3,9,1v-4,13,-22,13,-11,4v0,-3,1,-6,-3,-5v-40,29,-103,38,-141,65v10,6,22,-7,34,-3v-41,20,-127,44,-171,46v-21,1,-47,-33,-11,-39v15,-2,43,-6,56,-11v-16,-101,-5,-130,9,-207v2,0,4,-1,6,-3v-16,-17,-91,38,-103,-3xm297,-69v-7,3,-17,8,-25,7v1,1,3,2,5,2v-4,2,-11,5,-23,9v4,-11,30,-21,43,-18xm240,-51v10,0,12,2,0,6r0,-6xm220,-36v-1,-3,4,-6,6,-3v0,1,-2,1,-6,3xm125,-48v16,6,137,-46,155,-53v29,-18,101,-44,82,-93v-21,-53,-84,-61,-168,-67v-20,7,-50,3,-77,8v33,54,-12,132,8,205xm159,-22v-4,-1,-15,-5,-15,2v7,-1,12,-2,15,-2",w:381},E:{d:"45,-219v-19,-36,34,-41,63,-36v44,-10,133,-8,194,-15v3,2,38,11,52,15v-73,19,-171,21,-246,38v-9,11,-16,32,-20,61v35,11,133,-6,183,3v1,6,2,7,3,14v-46,24,-118,16,-193,27v-15,13,-22,52,-22,66v60,1,121,-20,188,-20v22,10,53,-7,74,5v16,29,-23,26,-43,32v-73,4,-139,13,-216,27r-52,-10v-4,-22,23,-69,26,-98v-3,0,-10,-15,-12,-24v20,-12,34,-23,35,-67v2,-1,5,-5,5,-7v0,-4,-14,-11,-19,-11",w:353},F:{d:"270,-258v13,2,59,6,48,34v-78,-3,-143,1,-212,22v-10,16,-21,43,-24,69r145,-9v8,3,29,-3,16,21v-14,-1,-59,13,-60,7v-12,13,-67,18,-108,21v-2,1,-4,3,-7,6v-2,23,-8,43,-7,69v1,28,-30,11,-40,5r10,-80r-26,-14v5,-10,10,-33,28,-25v21,-3,15,-46,26,-59v-1,-3,-32,-13,-28,-24v2,-22,45,-16,59,-30v47,4,99,-14,151,-9v5,-3,25,-3,29,-4",w:236},G:{d:"311,-168v53,0,94,57,74,110v-31,37,-71,34,-136,52v-13,-7,-41,10,-57,7v-73,-1,-122,-17,-162,-59v-49,-51,-24,-80,5,-130v35,-61,138,-93,214,-106v16,4,42,-1,40,21v-5,40,-39,2,-73,21v-76,19,-162,65,-177,142v28,103,237,76,312,29v2,-3,3,-7,3,-13v-10,-35,-37,-43,-87,-45v-16,-13,-53,-9,-78,1v-4,-3,-5,-7,-5,-11v17,-29,73,-17,108,-24v12,4,18,5,19,5",w:391},H:{d:"300,-268v18,12,19,32,4,51v-35,44,-34,140,-46,217v-1,5,-5,13,-11,12v-6,1,-19,-14,-18,-27r7,-106v-28,7,-76,22,-116,14v-18,2,-36,6,-55,3v-43,-8,-14,53,-33,75v-29,1,-26,-67,-21,-97v5,-31,28,-73,43,-98v2,2,7,3,14,3v13,33,-11,48,-13,78v61,4,118,2,176,2v8,0,13,-6,15,-20v4,-47,21,-87,54,-107",w:288},I:{d:"63,-266v34,10,-4,105,-8,128r-24,126v-2,2,-3,1,-9,6v-12,-10,-12,-15,-12,-47v0,-93,9,-156,28,-188v10,-17,19,-25,25,-25",w:79},J:{d:"235,-291v26,11,31,104,31,142v0,37,-2,95,-32,126v-33,34,-121,26,-167,1v-18,-11,-54,-29,-59,-59v0,-3,5,-15,16,-14v31,36,90,57,162,51v63,-30,56,-148,32,-226v-1,-16,11,-13,17,-21",w:282},K:{d:"212,-219v17,-5,80,-60,80,-19v0,9,-2,14,-5,16r-132,78v-34,23,-54,32,-21,50v39,21,74,23,124,41v5,2,7,5,7,9v-4,24,-55,15,-79,8v-67,-19,-98,-36,-116,-83v9,-24,38,-35,66,-61v7,-4,49,-30,76,-39xm47,-194v11,-20,11,-45,31,-55v2,2,4,3,6,0v29,39,-21,96,-18,128v-17,24,-15,62,-29,113v-4,3,-10,7,-19,11v-12,-13,-10,-28,-8,-53v3,-31,17,-79,37,-144",w:270},L:{d:"84,-43v58,0,179,-27,242,-4v3,17,-29,24,-40,26v-85,-4,-202,46,-268,3v-24,-16,-2,-33,-4,-57v26,-76,38,-108,86,-191v14,-7,26,-50,45,-32v6,22,5,31,-12,46v-20,39,-50,82,-67,142v-7,6,-19,46,-19,54v0,9,12,13,37,13",w:331},M:{d:"174,-236v-1,52,-11,92,-7,143v10,5,15,-12,22,-18v42,-55,90,-130,136,-174r15,-18v42,2,32,53,11,80v-12,58,-54,143,-34,210v0,3,-3,12,-9,10v-31,-5,-32,-57,-27,-92v4,-27,12,-58,25,-93v-5,-10,5,-19,6,-30v-46,44,-66,110,-129,172v-11,10,-18,15,-22,15v-34,6,-28,-103,-28,-152v-28,22,-65,119,-96,170v-9,15,-34,3,-31,-19v30,-64,91,-177,139,-229v12,-1,29,13,29,25",w:343},N:{d:"248,-20v-3,17,-37,18,-43,3v-24,-35,-53,-145,-80,-203v-32,40,-55,120,-92,174v-13,3,-26,-13,-27,-22r87,-171v4,-13,20,-57,42,-32v42,48,46,139,82,198v29,-45,46,-88,65,-153v12,-19,23,-42,38,-60v27,-1,14,18,4,44v-6,46,-32,68,-37,121v-15,29,-33,69,-39,101",w:307},O:{d:"240,-268v85,1,163,29,150,125v13,7,-12,18,-5,26v-23,63,-133,112,-228,124v-80,-16,-171,-56,-148,-153v11,-47,20,-43,53,-83v17,-9,39,-22,73,-29v45,-10,81,-10,105,-10xm363,-156v16,-51,-62,-85,-111,-79v-25,-11,-50,8,-81,0v-15,10,-70,16,-85,31v6,20,-27,24,-39,45v-42,75,40,128,115,128v56,0,209,-71,201,-125",w:383},P:{d:"70,-225v-7,-12,-36,16,-49,19v-4,0,-9,-5,-14,-17v21,-47,114,-55,172,-59v41,-3,132,33,99,87v-21,34,-72,59,-144,80v-2,16,-79,3,-74,46v3,25,-5,47,-10,68v-22,-1,-23,-29,-22,-56v2,-25,-20,-32,-8,-50v21,-5,10,-35,25,-57v6,-28,14,-48,25,-61xm71,-229v47,14,-2,50,-1,99v41,-3,113,-37,173,-76v5,-9,8,-14,8,-15v-28,-47,-125,-29,-180,-8",w:252},Q:{d:"374,-217v20,59,-11,127,-48,156r30,38v-1,6,-8,16,-14,9v-3,0,-19,-9,-47,-26v-72,35,-173,75,-236,12v-70,-40,-67,-213,26,-217r8,5v24,-20,72,-48,112,-38v21,-4,22,-1,50,-2v66,-2,94,20,119,63xm296,-88v13,5,61,-49,63,-84v4,-62,-54,-78,-119,-76v-14,-6,-49,5,-71,3v-42,16,-89,41,-93,94v-9,11,1,25,-7,38v-12,-19,-7,-67,-1,-88v-56,30,-37,137,19,155v27,17,92,19,119,0v12,-2,29,-9,52,-20v2,-2,3,-3,3,-6v-11,-12,-46,-27,-54,-56v0,-13,3,-19,9,-19v18,1,60,52,80,59",w:379},R:{d:"100,-275v96,-23,196,-10,208,78v-3,18,-17,52,-49,62v-14,20,-54,23,-79,40v-2,0,-14,2,-36,6v-40,8,-30,14,-3,33v37,27,52,30,118,55v16,6,31,23,12,27v-58,-2,-104,-29,-143,-61v-14,-3,-16,-15,-39,-27v-23,-19,-28,-12,-15,-38v63,-19,111,-15,163,-53v27,-20,43,-36,43,-49v0,-64,-120,-62,-173,-38v-9,4,-38,9,-40,18v-10,32,-16,70,-13,116v-10,21,-8,47,-6,75v2,31,-9,29,-27,22v-9,-55,5,-140,15,-190v-8,-6,-24,10,-24,-11v0,-34,16,-34,42,-55v2,-1,17,-4,46,-10",w:297},S:{d:"13,-3v-7,-3,-22,-18,-5,-22v68,-15,119,-32,154,-45v51,-19,39,-34,3,-53v-46,-25,-82,-30,-121,-64v-33,-29,-50,-35,-25,-58v37,-20,119,-29,181,-29v29,0,44,6,44,18v-9,26,-62,6,-104,14v-17,2,-72,6,-92,16v37,53,132,58,180,111v8,9,11,20,11,30v-4,17,-23,35,-42,34v-21,16,-17,1,-49,17v-14,7,-41,9,-56,20v-25,-3,-49,10,-79,11",w:234},T:{d:"141,-3v-36,-6,1,-49,-3,-79v10,-19,6,-35,15,-64r26,-85v-51,-9,-100,10,-141,14v-16,2,-30,-26,-11,-32v26,-8,143,-8,179,-19r12,6v67,-2,142,-1,200,-1v8,0,14,3,19,10v-18,16,-74,3,-103,14v-48,-4,-60,4,-113,7v-42,22,-36,130,-58,187v1,12,-9,44,-22,42",w:277},U:{d:"365,-262v13,56,-22,104,-36,141v-19,22,-30,38,-57,56v-4,18,-60,35,-78,50v-53,28,-142,0,-161,-34v-31,-56,-37,-108,-11,-164v17,-33,29,-50,48,-29v-2,2,-3,7,-4,13v-44,36,-38,149,7,174v30,26,55,19,102,4v56,-17,66,-34,120,-76v12,-24,56,-68,46,-122r0,-16v0,1,-1,3,-1,6v4,-13,11,-10,25,-3",w:368},V:{d:"246,-258v21,-22,31,-26,44,-8v1,1,-12,22,-28,35v-15,25,-41,38,-56,69v-13,15,-20,31,-28,57v-15,13,-11,29,-27,72v3,21,-5,24,-27,27v-33,-45,-54,-118,-84,-167v-5,-26,-18,-50,-25,-76v-3,-12,24,-8,29,-5v8,13,18,52,26,70r52,115v9,-2,4,-9,10,-21r25,-47v25,-44,46,-76,89,-121",w:234},W:{d:"31,-213v16,46,17,106,41,151v31,-35,49,-89,76,-127v30,-15,39,27,52,56v10,22,21,48,35,67v2,0,4,-1,5,-3v16,-28,50,-76,79,-121v14,-21,40,-63,64,-83r5,8v-30,58,-76,110,-97,173v-18,28,-25,37,-33,63v-11,1,-16,25,-30,15v-21,-31,-44,-89,-62,-131v0,-2,-1,-3,-5,-5v-17,11,-16,36,-31,50v-20,33,-20,84,-68,94v-24,-19,-23,-81,-39,-111v-1,-15,-29,-94,-10,-108v9,2,12,5,18,12",w:331},X:{d:"143,-183v43,-25,69,-36,126,-62v22,-10,86,-10,56,21v-51,3,-158,61,-154,64v10,15,41,30,50,52v27,17,46,60,70,82v9,14,-6,30,-24,20v-35,-43,-75,-100,-116,-132v-48,13,-100,47,-118,94v-1,49,-26,34,-27,4v-1,-26,13,-27,17,-48v22,-27,68,-55,90,-77v-9,-12,-60,-39,-79,-57v-6,-10,-6,-25,12,-25",w:312},Y:{d:"216,-240v19,-14,42,10,22,26v-54,66,-121,109,-156,197v-8,21,-11,15,-30,4v3,-37,27,-61,33,-76v12,-12,15,-19,32,-42v-8,-6,-40,5,-45,5v-48,-6,-69,-65,-56,-113v14,0,13,-1,24,7v2,33,12,75,42,73v36,-2,102,-57,134,-81",w:189},Z:{d:"60,-255v66,12,200,-34,240,21v-13,42,-63,62,-98,89v-19,15,-47,33,-82,55v-25,16,-47,32,-66,47v58,24,129,-6,208,-6v23,0,36,12,13,19v-33,2,-53,5,-86,10v-32,18,-88,15,-135,15v-9,-1,-55,-1,-48,-29v1,-24,30,-24,40,-41v64,-50,151,-86,208,-147v-38,-17,-155,12,-198,-4v0,0,-11,-33,4,-29",w:310},"[":{d:"72,-258r-15,250v30,4,55,-3,80,-6v7,-1,8,17,9,23v-28,15,-73,23,-121,21v-7,0,-10,-6,-10,-17v0,-60,25,-193,22,-288v0,-16,13,-20,33,-19v9,-3,34,-12,51,-12v16,0,15,16,19,29v-16,7,-48,10,-68,19",w:151},"\\":{d:"236,38v20,-18,-8,-74,-13,-90v-44,-78,-112,-190,-200,-253v-2,0,-5,4,-7,12v-11,31,13,36,24,58v74,61,174,219,180,273r16,0",w:257},"]":{d:"133,-258v-23,-13,-84,6,-85,-32v0,-10,5,-15,14,-15v0,0,30,2,90,7v10,1,15,13,15,36v2,7,-8,59,-13,112r-11,125v-9,48,9,90,-59,71v-20,-4,-39,-1,-59,-4v-5,-10,-25,-12,-14,-30v8,-3,61,-13,78,-8v14,1,8,-7,10,-17v15,-69,21,-166,34,-245",w:171},"^":{d:"68,-306v20,15,47,36,58,60v-1,4,0,7,-9,7v-26,0,-47,-38,-49,-32v-15,9,-41,50,-54,30v-2,-31,17,-23,33,-51v8,-9,15,-14,21,-14",w:135},_:{d:"11,15v-8,33,18,45,50,34r205,2r197,-5v11,-5,14,-9,7,-28v-95,-21,-258,-10,-376,-10v-25,0,-72,-3,-83,7",w:485},"`":{d:"75,-264v16,8,56,14,39,43v-30,-8,-65,-23,-105,-44v-1,-3,-3,-28,5,-25v16,5,44,17,61,26",w:129},a:{d:"124,-56v10,4,59,41,65,50v1,7,-6,17,-12,17r-60,-30v-22,2,-42,21,-65,19v-33,4,-68,-67,-15,-81v41,-27,96,-39,110,9v0,6,-4,12,-11,16v-33,-25,-67,-5,-88,12v10,16,61,-18,76,-12",w:196},b:{d:"80,-140v69,1,123,0,134,52v5,26,-71,71,-97,70v-11,11,-88,22,-94,22v-11,-3,-26,-18,-6,-24v19,-5,-2,-19,-1,-35v1,-18,11,-36,-5,-47v-6,-17,-6,-21,14,-32v6,-45,18,-89,28,-124v2,-7,8,-12,17,-15v5,3,10,11,16,28v-12,27,-13,63,-23,96v0,6,6,9,17,9xm87,-107v-40,-9,-31,31,-39,54v8,15,0,25,12,22v30,-8,60,-18,88,-32v39,-18,49,-33,-1,-42v-20,-4,-45,-7,-60,-2",w:217},c:{d:"128,-123v29,-7,37,29,12,33v-27,-4,-40,6,-79,25v-8,4,-13,11,-16,22v30,32,91,3,134,11v5,13,-8,26,-22,19v-51,25,-139,28,-150,-30v6,-50,69,-82,121,-80",w:194},d:{d:"224,-201v0,-35,-17,-111,24,-94v7,86,-2,119,0,197v-4,2,-8,21,-18,16v-62,-7,-154,-8,-185,29v6,17,28,26,51,26v16,0,100,-15,132,-18v7,5,-6,20,-10,22v-24,8,-122,42,-163,25v-32,-5,-62,-53,-36,-80v35,-37,118,-46,198,-43v1,-22,7,-49,7,-80",w:265},e:{d:"4,-57v0,-58,51,-71,110,-74v33,-1,45,16,59,35v1,14,2,39,-7,42v-24,-2,-73,13,-99,11v-2,2,-2,3,-2,3v0,3,12,8,37,15v21,0,69,9,31,22v-9,14,-34,6,-56,6v-27,-5,-73,-28,-73,-60xm123,-102v-22,2,-68,5,-65,26v24,-2,66,5,79,-6v-5,-13,-1,-13,-14,-20",w:182},f:{d:"6,-59v6,-29,53,-4,53,-43v0,-64,29,-118,84,-150v45,-25,167,-24,155,51v-1,2,-7,6,0,6r-10,2v-45,-58,-165,-39,-186,39v-7,26,-11,42,-9,62v44,8,95,-21,135,-7v-12,25,-39,21,-76,30v-19,5,-18,7,-54,19v-2,8,15,32,17,35v-6,25,-26,26,-40,-5r-15,-24v-41,10,-44,12,-54,-15",w:234},g:{d:"132,-97v30,27,21,75,30,117v-12,31,-11,66,-36,103v-32,46,-105,83,-167,39v-31,-21,-49,-29,-51,-75v-2,-37,77,-50,121,-57v37,-6,68,-10,95,-11v7,-6,3,-32,4,-46v0,0,-1,1,-1,2v0,-18,-5,-31,-14,-45v-44,5,-79,20,-94,-18v3,-54,73,-54,125,-50v12,7,12,13,4,25v-30,-11,-76,8,-90,20v23,3,50,-16,74,-4xm-34,121v60,53,168,1,159,-86v-47,-7,-93,24,-142,30v-12,7,-45,19,-42,29v0,10,8,19,25,27",w:188},h:{d:"100,-310v11,-2,10,19,11,20v-11,52,-40,133,-53,189v-6,30,-9,37,-9,47v27,0,113,-34,143,-34v42,0,31,47,39,79v0,4,-5,17,-16,16v4,2,11,3,4,6v-24,-1,-28,-34,-25,-64v-1,-1,-2,-3,-5,-5v-51,0,-110,38,-162,51v-9,1,-15,-15,-16,-23v17,-89,39,-141,71,-264v0,-9,6,-19,18,-18",w:251},i:{d:"62,-209v7,18,9,23,-5,38v-23,-6,-21,-18,-11,-36v2,0,8,-1,16,-2xm34,-7v-18,-21,-8,-73,-1,-106v7,-10,20,-8,23,6v-1,36,7,72,-2,104v-8,2,-8,0,-20,-4",w:80},j:{d:"88,-191v5,28,-18,40,-28,21v0,-20,12,-29,28,-21xm82,-99v28,-1,16,35,16,61v0,60,-19,150,-35,202v-12,8,-19,31,-35,16v-32,-7,-43,-19,-56,-44r2,-17v11,4,49,45,61,18v10,-55,27,-107,30,-171v0,-16,0,-59,17,-65",w:120},k:{d:"59,-66v33,26,114,37,155,62v8,-4,22,-2,19,-17v0,-4,-12,-11,-30,-24v-36,-25,-54,-22,-99,-33v14,-21,119,-13,103,-63r-16,-7r-123,47r25,-93v-3,-15,16,-49,18,-81v1,-15,-21,-14,-25,-3v-31,82,-49,168,-75,257v2,2,22,30,27,10v2,-5,4,-9,9,-11v4,-16,4,-15,12,-44",w:236},l:{d:"66,-300v21,-6,37,23,30,55v-10,51,-28,135,-28,208v0,11,6,36,-13,37v-29,-5,-30,-48,-25,-83r28,-177v-6,-17,1,-29,8,-40",w:102},m:{d:"348,-59v-2,21,0,57,3,73v-17,3,-30,-1,-32,-16v-8,-7,-5,-44,-13,-70v-35,3,-82,49,-111,70v-12,8,-40,4,-39,-15r2,-56v-1,-13,4,-28,-8,-29v-35,8,-79,72,-115,87v-6,2,-20,-18,-21,-22v1,-20,14,-105,39,-64r8,15v17,-14,72,-56,93,-54v27,3,49,40,43,80v24,-2,66,-55,124,-53v11,14,28,23,27,54",w:368},n:{d:"121,-136v37,6,62,54,62,111v0,32,-16,25,-31,17v-18,-30,-5,-45,-22,-85v-37,-13,-71,55,-92,65v-20,-3,-39,-39,-21,-62v2,-12,3,-15,11,-30v12,-8,20,11,29,12",w:194},o:{d:"108,-139v52,-24,104,18,104,63v0,59,-66,67,-114,83v-52,-2,-115,-50,-80,-105v23,-18,52,-35,90,-41xm45,-60v16,54,125,16,131,-23v-12,-59,-129,-8,-131,23",w:217},p:{d:"82,14v-10,12,-8,117,-24,142v-15,2,-19,0,-29,-13v0,-76,9,-113,22,-192v14,-27,35,-6,37,13v0,8,-3,21,-7,38v2,2,3,2,4,2v26,-9,116,-33,126,-72v-7,-17,-24,-33,-49,-31v-40,3,-116,13,-116,47v-5,7,-2,17,-16,20v-17,-12,-18,-20,-12,-38v8,-25,74,-61,110,-59v55,-15,113,15,118,70v-15,52,-84,79,-146,83v-5,0,-11,-4,-18,-10",w:251},q:{d:"144,-147v27,-8,89,-3,97,31v-9,29,-42,-4,-73,1v-32,6,-118,20,-111,49v0,7,13,13,21,13v21,0,78,-24,104,-34v2,0,9,8,22,21v1,1,1,2,1,5v-27,90,-22,70,-43,203v11,15,-15,54,-33,33v-6,-8,-10,-20,-3,-28v1,-72,5,-114,15,-172v-35,3,-35,10,-59,8v-41,-4,-98,-41,-56,-85v33,-34,59,-27,118,-45",w:248},r:{d:"242,-117v2,22,5,10,-14,23v-73,-7,-166,-23,-174,56v-8,6,-3,20,-8,36v-29,10,-40,-9,-33,-46v6,-31,7,-69,32,-55v58,-37,66,-42,175,-19v3,5,15,4,22,5",w:229},s:{d:"154,-151v19,1,27,24,13,32v-4,1,-22,4,-53,7v-16,8,-22,-2,-39,9v23,21,89,16,96,62v-13,24,-85,35,-124,42v-9,-3,-18,-3,-27,0v-6,-4,-21,-16,-8,-25v30,-6,83,-13,102,-24v-17,-16,-80,-33,-97,-48v-3,-2,-4,-7,-4,-15v-6,-6,3,-13,15,-18v22,-9,94,-23,126,-22",w:188},t:{d:"85,-150v10,-41,35,-126,65,-134v4,1,24,19,11,36v-17,22,-29,57,-36,104v26,8,50,-7,73,5v14,0,22,3,22,9v-1,19,-44,18,-57,23v-10,1,-46,0,-54,10v-10,24,-4,67,-20,98v-21,-3,-26,1,-26,-20v0,-9,2,-36,8,-81v-15,-13,-81,9,-77,-27v4,-38,71,6,91,-23",w:194},u:{d:"207,-136v-1,-2,11,-14,14,-13v6,0,10,7,10,22v-3,40,-23,56,-40,82v-13,19,-62,43,-93,43v-67,-2,-111,-75,-71,-133v26,-3,21,29,19,49v-1,27,26,44,57,42v41,-2,93,-55,104,-92",w:242},v:{d:"24,-127r52,71v42,-16,70,-54,124,-65v5,4,8,7,8,11v-8,19,-4,8,-33,32v0,1,-1,3,-1,5v-61,45,-93,68,-97,68v-40,-15,-50,-72,-68,-100v6,-14,10,-22,15,-22",w:214},w:{d:"15,-139v38,-2,27,57,45,86v30,2,67,-66,101,-78v26,6,36,69,60,78v47,-35,51,-54,119,-104v3,0,7,-2,15,-4v19,23,-9,28,-21,49v-33,28,-68,90,-107,109v-10,6,-52,-47,-72,-71v-20,17,-85,74,-97,73v-38,7,-41,-98,-52,-122v0,-1,3,-7,9,-16",w:325},x:{d:"95,-124v22,-13,78,-32,99,-31v16,0,23,6,23,18v0,22,-17,11,-49,21v-3,0,-45,20,-42,24v0,1,2,4,8,10v20,24,49,41,44,80v-35,3,-27,-9,-60,-44v-40,-43,-37,-26,-79,9v-1,1,-2,3,-3,8v-12,8,-28,10,-27,-11v-6,-8,45,-65,48,-65v-17,-21,-61,-52,-24,-68v9,0,48,37,62,49",w:223},y:{d:"44,-65v22,33,70,4,99,-8v5,-4,28,-15,41,-31r17,0v25,47,-26,70,-40,114v-5,4,-9,8,-10,21v-16,12,-11,33,-27,51v-5,18,-12,43,-23,71v-1,-1,-2,34,-18,29v-12,1,-22,-12,-22,-23v20,-70,24,-65,68,-177v-47,16,-111,8,-116,-39v-11,-13,-7,-62,8,-62v18,0,22,26,23,54",w:216},z:{d:"189,-43v9,-1,46,-6,41,12v0,7,-5,13,-15,14v-45,6,-148,24,-181,13v0,-3,-5,-8,-14,-15v5,-44,66,-46,90,-85v-15,-18,-84,21,-84,-14v0,-10,5,-17,14,-18v33,-3,79,-13,109,-3v4,-2,14,11,12,15v0,23,-26,51,-78,84v28,10,73,-3,106,-3",w:244},"{":{d:"94,-303v27,-9,90,-14,79,26v-20,17,-55,-5,-87,13v-4,1,-6,4,-6,8v33,42,31,44,7,85v-6,10,-13,16,-13,13v5,6,17,17,15,31r-33,78v7,35,28,49,57,63r49,0v7,42,-51,41,-86,20v-43,-13,-51,-51,-56,-89v-2,-25,25,-54,27,-71v-3,-4,-46,-5,-41,-21v2,-10,-3,-29,11,-25v2,0,51,-17,52,-38v4,-3,-25,-23,-25,-49v0,-41,8,-30,50,-44",w:179},"|":{d:"30,-308v26,5,14,50,15,80v5,78,-8,153,-3,225v-2,15,-1,31,-11,36v-8,-3,-25,-22,-25,-32r9,-183v0,-40,0,-78,1,-112v0,-4,9,-15,14,-14",w:63},"}":{d:"47,-298v34,-17,118,-18,112,36v6,25,-76,98,-69,103v4,16,39,7,44,28v7,34,-34,17,-37,39v8,29,49,83,23,123v-15,23,-43,26,-73,46v-34,8,-43,11,-49,-17v1,-15,30,-15,33,-20v24,-12,70,-27,55,-61v-14,-33,-37,-68,-19,-103v-46,-50,46,-100,60,-141v-10,-16,-68,6,-77,-12",w:143},"~":{d:"7,-254v2,-6,59,-50,67,-46v11,-1,35,19,46,26v5,0,27,-10,66,-31v21,8,-1,25,-7,38v-27,21,-48,31,-65,31v-24,-11,-37,-39,-65,-9v-7,7,-26,36,-42,11v3,-5,-3,-17,0,-20",w:199}," ":{w:179},"¡":{d:"86,-197v8,16,-7,41,-24,25v-11,-11,-4,-16,-3,-29v13,0,15,-2,27,4xm46,-107v4,-8,11,-16,23,-7v19,26,-5,57,-6,87v-7,0,-5,18,-9,28v0,14,-17,52,-11,70v-2,7,-15,28,-25,12v-4,-6,-15,-7,-6,-16v2,-39,14,-96,34,-174",w:95},"¢":{d:"105,-188v13,-12,14,-18,26,-15v7,23,7,15,-3,49v6,0,18,14,17,20v-3,5,-12,19,-26,13v-14,1,-14,5,-16,21v10,10,46,-13,38,18v-9,17,-23,16,-54,20v-17,16,-4,55,-29,60v-37,-10,19,-64,-24,-71v-20,-10,-37,-47,-6,-62v23,-20,73,-4,77,-53xm65,-101v4,-9,7,-8,3,-13v-14,4,-22,10,-3,13",w:154},"£":{d:"153,-170v3,22,62,0,49,39v-18,6,-31,12,-58,9v-12,-1,-17,30,-23,39v19,26,50,56,91,35v9,-2,27,-13,27,4v0,27,-27,39,-58,42v-32,-5,-59,-19,-78,-39v-6,1,-35,44,-57,39v-25,0,-37,-15,-37,-46v0,-41,43,-53,73,-50v4,1,12,-18,12,-21v-7,-15,-49,0,-44,-30v-2,-31,31,-16,60,-19v16,-30,25,-119,93,-113v16,2,75,16,50,44v-4,5,-7,7,-12,8v-18,-12,-32,-18,-41,-18v-35,-1,-38,52,-47,77xm43,-45v4,5,12,-2,11,-9v-1,2,-12,1,-11,9",w:242},"¤":{d:"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30",w:312},"€":{d:"308,-133r-200,16v-2,1,-6,4,-10,10v70,-2,144,-14,211,-8v3,0,8,4,13,8v-1,4,-3,9,-9,17v-57,11,-164,6,-219,25v26,32,112,25,173,25v9,0,35,2,35,19v0,9,-4,13,-12,14v-115,12,-146,23,-211,-19v-12,-4,-22,-9,-25,-27v-6,-29,-61,3,-43,-49v17,-1,36,7,42,-12v-32,7,-36,-39,-11,-40v29,14,63,-25,73,-30v52,-25,72,-44,142,-44v23,0,21,41,-1,39v-35,-3,-61,9,-102,31v2,2,5,4,8,4v18,-6,101,-9,115,-9v7,0,55,13,31,30",w:312},"¥":{d:"31,-248v30,-3,64,64,74,59v37,-22,77,-65,107,-82v20,-11,34,18,21,32v-28,19,-52,38,-70,57v-18,8,-40,21,-35,60v2,19,39,7,64,7v25,0,16,21,2,27v-36,16,-46,8,-68,18v6,11,101,-20,66,24v-21,11,-42,12,-75,20v-2,1,-5,6,-10,18v-8,3,-11,10,-24,8v-7,-17,-2,-18,-9,-26v-13,5,-39,3,-53,-2v-10,-17,-7,-27,0,-34v23,-1,45,1,64,-5v-11,-7,-28,-4,-64,-6v-13,-8,-15,-24,-6,-35v33,-2,102,9,76,-37v-14,-14,-33,-38,-60,-66v-10,-10,-8,-28,0,-37",w:219},"§":{d:"141,-115v12,10,29,36,28,56v-4,68,-129,69,-152,16v-1,-12,-10,-22,8,-23v17,3,47,21,67,23v16,1,40,-8,38,-21v-8,-49,-119,-30,-117,-85v1,-28,15,-45,-3,-64v-1,-53,55,-61,103,-62v15,-5,6,-5,20,-2v16,17,23,27,23,30v-1,26,-29,7,-45,7v-21,0,-51,2,-62,17v19,14,87,8,97,43v18,14,16,57,-5,65xm64,-147r57,17v10,-28,-22,-43,-47,-44v-25,-1,-35,19,-10,27",w:174},"¨":{d:"124,-259v0,9,-4,13,-12,13v-18,0,-22,-21,-17,-35v19,-1,30,1,29,22xm23,-285v7,2,30,9,29,18v1,10,-9,19,-18,19v-19,0,-28,-26,-11,-37",w:136},"©":{d:"102,-29v-74,5,-124,-84,-70,-140v22,-22,53,-35,97,-38v46,-4,88,49,74,100v0,44,-51,75,-101,78xm96,-66v42,-3,75,-23,75,-69v0,-23,-4,-38,-44,-38v-16,0,-33,6,-49,20v36,-4,55,-12,62,20v-5,16,-49,1,-50,21v10,15,53,-14,54,11v0,18,-14,27,-42,27v-22,1,-46,-11,-46,-31v0,-25,7,-39,20,-44v-1,-1,-2,-2,-3,-2v-51,22,-32,89,23,85",w:217},"ª":{d:"6,-265v1,-31,58,-53,80,-22v-11,14,25,28,25,36v-2,8,-15,12,-27,10v-22,-29,-68,19,-78,-24xm52,-281v-8,1,-24,10,-9,13v11,1,24,-10,9,-13",w:117},"«":{d:"191,-64v16,6,87,37,53,63v-39,-9,-71,-28,-107,-40v-14,-13,-13,-34,10,-47v27,-15,48,-55,84,-62v9,-2,21,10,21,18r-13,21v-16,5,-44,22,-51,41v0,4,1,6,3,6xm71,-65v17,6,87,35,55,62v-39,-8,-66,-27,-108,-40v-14,-13,-13,-36,10,-46v23,-18,50,-56,84,-63v9,-2,21,10,21,18r-13,22v-20,6,-32,17,-51,37v0,3,-1,11,2,10",w:265},"¬":{d:"141,-99v47,7,103,-3,149,6v14,24,18,15,10,39v-10,34,-7,31,-26,76v-4,6,-15,8,-16,21v-4,2,-4,1,-13,5v-22,-33,-4,-33,16,-104v-5,-9,-28,-4,-38,-6r-183,4v-14,0,-41,-29,-17,-36v31,-9,82,5,118,-5",w:315},"®":{d:"75,-194v78,-29,116,9,130,84v-2,42,-22,47,-57,67v-74,20,-161,-19,-129,-110v6,-18,29,-34,57,-40xm46,-86v51,36,84,21,129,-15v7,-15,0,-39,-10,-49v-13,-37,-49,-26,-86,-18v-28,7,-49,46,-33,82xm72,-123v-5,-43,68,-57,75,-14v-17,26,-18,17,3,32v2,25,-25,18,-45,7r-4,-4v-1,8,-3,20,-12,24v-10,-3,-21,-34,-17,-45xm112,-135v-10,-1,-20,13,-9,14v6,-6,9,-11,9,-14",w:217},"¯":{d:"63,-295v28,-7,73,10,105,7v11,1,6,8,5,19v-37,21,-72,11,-136,11v-23,0,-31,-14,-27,-36v12,-15,40,0,53,-1",w:183},"°":{d:"106,-268v0,36,-35,38,-51,46v-48,5,-60,-58,-25,-78v33,-11,76,-9,76,32xm38,-257v16,7,39,2,38,-17v-13,-9,-28,-1,-32,11v-5,3,-7,0,-6,6",w:114},"±":{d:"93,-163v-7,46,76,-4,46,47v-14,6,-27,13,-38,8v-24,2,-14,28,-28,44r-14,0v-7,-12,-5,-15,-7,-33v-12,-7,-41,-1,-37,-24v2,-11,23,-17,36,-14r28,-38v4,0,9,4,14,10xm113,-27v-12,18,-58,27,-85,24v-16,2,-22,-23,-13,-36v28,-7,85,-11,98,12",w:151},"´":{d:"52,-284v29,-11,50,-34,62,-14v3,12,-86,54,-94,56v-14,0,-16,-12,-12,-23v11,-5,25,-11,44,-19",w:120},"¶":{d:"121,-237v21,-9,44,-13,63,-1v-1,7,5,6,7,11r-4,190v-2,33,4,39,-15,40v-16,1,-10,-20,-10,-33r4,-161v0,-17,-1,-34,-16,-25v2,10,1,23,1,35v-9,46,-6,75,-15,156v-3,4,-7,5,-12,5v-17,-10,-3,-89,-10,-115v-43,14,-98,10,-101,-29v-4,-53,59,-63,104,-75v3,1,4,2,4,2xm95,-204v2,9,-30,50,1,50v35,0,23,-13,29,-43v0,-1,-2,-7,-4,-15v-12,-1,-14,2,-26,8",w:206},"¸":{d:"74,16v32,2,49,14,55,36v-3,7,-14,31,-29,33v-28,4,-57,11,-88,14v-19,-6,-13,-31,8,-33v20,-1,59,-5,73,-14v-17,-14,-68,8,-53,-37v9,-10,2,-28,24,-30v8,8,13,17,10,31",w:129},"º":{d:"13,-273v1,-31,56,-41,83,-18v36,8,14,48,-9,52v-35,6,-64,-5,-74,-34xm81,-269v-7,-7,-20,-11,-29,-6v5,13,13,11,29,6",w:128},"»":{d:"120,-129v9,-33,48,-10,64,5v9,20,86,52,50,86v-36,11,-66,31,-107,40v-6,-7,-9,-13,-9,-17v-2,-13,50,-46,63,-46v11,-18,-33,-42,-48,-47xm1,-128v10,-33,46,-8,64,6v8,19,86,50,51,85v-40,13,-69,30,-108,40v-6,-7,-8,-12,-8,-16v-2,-14,50,-46,63,-47v7,-13,-9,-20,-19,-30v-10,-9,-20,-15,-30,-17",w:252},"¿":{d:"181,-247v3,1,31,2,29,15v-4,22,-37,27,-41,4v1,-5,7,-20,12,-19xm161,-34v-45,-1,-105,19,-124,51v0,11,18,17,54,17v39,0,82,-13,112,4v-10,35,-58,31,-100,31v-47,0,-80,-10,-99,-31v-10,-56,22,-73,64,-90v8,-3,32,-9,74,-18v21,-15,7,-62,22,-92v-1,-5,-1,-11,4,-12v16,0,24,7,24,22v-8,30,-8,73,-17,111v-3,5,-7,7,-14,7",w:213},"À":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm150,-268v14,10,54,14,37,41v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,17,58,24"},"Á":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm84,-250v31,-5,83,-53,100,-31v0,5,-11,15,-35,28v-16,5,-51,28,-53,25v-14,1,-16,-11,-12,-22"},"Â":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm202,-219v-27,-6,-40,-26,-61,-37v-21,7,-39,46,-65,23v-2,-4,-3,-10,-4,-14v19,-4,43,-32,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-3,9,-11,9"},"Ã":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm100,-285v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-9,22,-17,31,-12v3,11,-9,9,-7,21v-26,20,-46,30,-59,30v-3,3,-50,-26,-49,-29v-12,1,-31,35,-51,32v-3,-8,-5,-14,-5,-18v10,-9,16,-17,37,-33"},"Ä":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm187,-259v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm90,-284v7,3,28,11,28,18v0,9,-9,18,-18,17v-17,0,-25,-24,-10,-35"},"Å":{d:"161,-217v20,53,23,124,54,170v-2,20,-34,9,-42,0v-27,-12,-78,-18,-101,-18v-26,6,-29,51,-54,63v-18,-4,-19,-30,-3,-38v5,-9,15,-16,8,-29v1,-12,23,-9,26,-19v6,-10,11,-20,20,-27r70,-121v12,-4,16,4,22,19xm82,-91v17,3,62,7,86,13v-13,-33,-13,-80,-29,-109v-15,30,-38,63,-57,96xm112,-239v-31,-17,-9,-61,29,-56v12,2,22,3,33,12v24,39,-30,62,-62,44xm119,-262v2,14,41,8,41,-4v0,-4,-8,-6,-24,-9v-10,-2,-17,10,-17,13"},"Æ":{d:"335,-259v0,30,-102,12,-122,34v10,21,2,79,16,100v24,-6,59,-13,86,-16v23,-2,32,21,13,26r-103,29v-3,22,-4,38,8,43v28,-5,60,-6,86,-14v5,-1,14,7,14,11v6,16,-90,40,-107,40v-29,0,-39,-19,-32,-46v-2,-4,0,-26,-9,-28v-29,2,-58,6,-88,6v-31,0,-40,74,-82,73v-18,-23,4,-37,12,-50v40,-65,112,-126,165,-207v20,-17,69,-11,112,-13v21,0,31,4,31,12xm123,-111v28,1,44,-2,67,-10v-4,-22,5,-49,-7,-65v-3,6,-65,61,-60,75",w:348},"Ç":{d:"48,-108v-12,70,90,71,159,67r138,-9v9,-1,7,9,7,17v-37,16,-80,27,-103,21v-14,9,-40,3,-67,9v-30,0,-64,1,-100,-10v-6,-1,-10,-4,-10,-8v-32,-12,-46,-31,-63,-56v-16,-61,47,-103,83,-121v82,-42,118,-45,200,-60v21,-4,36,34,11,37v-90,11,-148,31,-225,77v-12,8,-23,20,-30,36xm172,18v29,4,47,14,53,35v-2,7,-14,31,-27,31v-28,7,-55,9,-84,14v-18,-5,-13,-32,7,-32v21,0,55,-5,69,-13v-16,-14,-63,10,-50,-35v9,-10,1,-27,23,-29v7,8,11,16,9,29",w:331},"È":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm184,-236v6,9,5,13,0,23v-28,-7,-62,-21,-100,-41v-3,-2,-3,-27,5,-23v34,11,60,25,95,41",w:252},"É":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm133,-248v27,-11,48,-32,59,-14v3,11,-79,52,-88,53v-14,1,-16,-11,-12,-21v10,-4,23,-11,41,-18",w:252},"Ê":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-16,41,-16,51v55,-1,111,-21,168,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-4,-19,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm199,-211v-27,-6,-39,-26,-60,-37v-21,7,-40,47,-65,22v-2,-7,-2,-7,-4,-13v18,-5,44,-31,61,-43v27,6,41,22,62,37v12,9,18,17,18,25v0,6,-4,9,-12,9",w:252},"Ë":{d:"49,-160v1,-4,-10,-9,-15,-8v-15,-35,32,-30,57,-31r142,-8v2,1,30,7,40,10v-52,16,-133,17,-190,30v-7,9,-12,24,-15,47v26,10,102,-6,141,3v1,3,1,6,2,10v-36,18,-92,12,-149,21v-11,9,-17,41,-17,51v55,0,112,-21,169,-13v15,-8,48,1,31,18v-53,16,-130,13,-198,29r-39,-8v-3,-21,17,-53,20,-76v-1,0,-7,-11,-9,-18v18,-7,22,-28,30,-57xm191,-236v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm95,-261v7,3,29,9,28,18v0,7,-9,17,-18,17v-18,0,-26,-25,-10,-35",w:252},"Ì":{d:"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm72,-247v7,6,55,15,36,40v-28,-7,-61,-21,-99,-41v-3,-2,-3,-27,5,-23v18,3,41,17,58,24",w:111},"Í":{d:"26,-5v-9,-6,-9,-12,-9,-36v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76v-2,1,-2,0,-7,4xm6,-233v31,-6,83,-53,101,-31v2,11,-80,53,-89,53v-14,1,-14,-11,-12,-22",w:104},"Î":{d:"53,-9v-15,7,-16,-3,-16,-32v0,-71,7,-119,21,-144v8,-13,14,-20,19,-20v28,19,-7,89,-10,120v-2,21,-8,47,-14,76xm137,-209v-27,-6,-40,-26,-61,-37v-8,0,-9,4,-13,10v-11,13,-50,37,-56,0v18,-5,43,-32,61,-43v28,5,40,21,62,36v12,9,18,17,18,25v0,6,-4,9,-11,9",w:144},"Ï":{d:"33,-5v-9,-6,-9,-12,-9,-36v0,-71,8,-119,22,-144v8,-13,14,-20,19,-20v27,20,-11,87,-10,120r-15,76v-1,1,-4,2,-7,4xm111,-222v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm15,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18",w:110},"Ñ":{d:"224,-182v1,-17,15,-24,22,-38v20,0,13,10,3,33v-3,36,-25,52,-28,94v-10,24,-30,55,-29,82r-19,7v-32,-8,-36,-70,-58,-111v-2,-23,-7,-27,-19,-54v-28,36,-41,93,-71,133v-9,5,-20,-9,-20,-17r73,-149v9,-24,31,-5,36,7v19,41,31,98,53,139v22,-35,34,-69,50,-118v2,-3,3,-3,7,-8xm203,-257v22,-8,41,-24,65,-26v3,11,-8,9,-7,21v-26,20,-46,31,-59,31v-2,3,-49,-27,-49,-29v-11,0,-32,31,-46,32v-11,-2,-12,-21,-4,-23v4,-6,28,-30,48,-34v17,-4,43,28,52,28",w:219},"Ò":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm161,-262v14,10,52,13,37,41v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,17,58,24",w:273},"Ó":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm142,-250v27,-11,47,-32,59,-14v2,11,-80,53,-89,53v-13,1,-15,-11,-12,-21v10,-5,24,-11,42,-18",w:273},"Ô":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm157,-282v17,18,52,34,54,63v-24,12,-52,-36,-53,-29r-42,34v-23,-4,-6,-31,5,-34v1,1,27,-37,36,-34",w:273},"Õ":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm116,-270v26,-19,54,19,69,22v4,0,15,-5,34,-13v23,-10,22,-16,31,-12v3,11,-8,9,-7,21v-45,28,-47,42,-88,16v-29,-19,-12,-20,-43,2v-8,5,-12,18,-23,15v-13,-3,-12,-20,-4,-23v4,-6,14,-15,31,-28",w:273},"Ö":{d:"62,-184v78,-31,249,-50,238,74v-6,65,-102,105,-179,115v-77,-7,-152,-71,-101,-149v2,-5,24,-33,42,-40xm279,-120v14,-38,-47,-64,-85,-61v-20,-9,-41,7,-62,0v-11,7,-54,12,-66,24v0,20,-51,35,-38,66v-1,43,50,67,96,67v44,0,162,-55,155,-96xm197,-229v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm101,-254v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35",w:273},"Ø":{
        d:"76,-211v41,-13,100,-22,140,-3v26,-19,40,-29,44,-29v10,0,15,7,15,20v0,15,-23,23,-30,35v23,39,29,114,-21,139v-36,19,-102,35,-147,18v-14,-5,-29,29,-46,35v-25,-13,-19,-24,3,-56v-9,-17,-28,-27,-28,-60v0,-38,23,-72,70,-99xm107,-66v55,15,125,-12,123,-70v0,-16,-5,-25,-13,-29r-110,95r0,4xm39,-108v-1,3,17,31,22,27v8,-6,109,-90,123,-106v-15,-11,-43,1,-63,2v-33,10,-80,35,-82,77",w:270},"Ù":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm151,-243v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-4,-25,4,-23v16,5,42,17,58,24",w:262},"Ú":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm194,-265v3,-1,11,4,11,6v3,12,-81,52,-89,54v-14,0,-13,-9,-12,-22",w:262},"Û":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-30,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm150,-266v24,11,58,27,73,46v0,5,-3,6,-10,6v-28,2,-61,-30,-63,-25v-10,0,-57,40,-69,23v3,-10,-8,-15,8,-19v17,-1,34,-29,61,-31",w:262},"Ü":{d:"281,-202v6,67,-30,121,-71,152v-3,14,-47,26,-60,39v-41,20,-110,1,-125,-26v-24,-44,-28,-84,-8,-127v12,-26,23,-38,37,-22v-2,2,-3,5,-3,10v-34,26,-29,116,5,134v22,32,86,-1,109,-8v38,-28,104,-64,97,-149v2,-10,7,-8,19,-3xm197,-227v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm101,-252v7,3,27,10,27,18v0,8,-9,18,-18,17v-18,-1,-24,-25,-9,-35",w:262},"ß":{d:"33,10v-29,4,-28,-32,-16,-70v18,-58,17,-137,56,-176v12,-24,46,-58,82,-43v20,8,47,24,47,54v0,30,-62,59,-67,90v33,23,56,33,63,63v-18,21,-22,36,-48,54v-24,17,-27,41,-53,16v-2,-19,7,-35,24,-42v15,-13,26,-22,34,-40v-13,-17,-78,-29,-56,-70v-3,-27,64,-54,66,-86v-8,-25,-41,-4,-52,8v-29,30,-47,83,-51,141v-17,25,-8,71,-29,101"},"à":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm99,-137v7,6,56,14,37,40v-28,-7,-62,-21,-100,-41v-2,-3,-2,-26,5,-23v16,4,42,17,58,24",w:173},"á":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm32,-117v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-13,2,-14,-10,-12,-21",w:173},"â":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm147,-97v-27,-6,-39,-26,-60,-37v-21,7,-38,46,-65,23v-2,-5,-3,-10,-4,-14v18,-4,43,-31,61,-42v28,5,40,21,62,36v12,8,18,17,18,25v0,6,-4,9,-12,9",w:173},"ã":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm114,-136v22,-8,41,-24,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-12,-32,8,-29,32,-51v24,-21,54,20,69,23",w:173},"ä":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-32,5,-66,-64,-15,-77v39,-26,92,-36,104,9v0,6,-3,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm142,-119v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,28,2,28,21xm46,-144v7,3,28,9,27,18v1,8,-9,18,-18,17v-18,-1,-25,-25,-9,-35",w:173},"å":{d:"118,-53v10,4,55,41,62,47v0,7,-5,16,-12,16r-57,-28v-20,3,-40,19,-61,18v-10,2,-43,-17,-42,-36v0,-14,7,-40,27,-41v39,-26,92,-36,104,9v0,6,-2,11,-9,15v-32,-24,-64,-6,-84,11v8,15,58,-17,72,-11xm54,-101v-37,-20,-9,-71,34,-65v13,1,25,3,38,13v27,45,-34,73,-72,52xm61,-128v4,20,48,7,49,-5v0,-5,-9,-7,-28,-10v-12,-2,-21,11,-21,15",w:173},"æ":{d:"145,-44r33,7v2,42,-59,29,-85,16v-6,7,-35,24,-48,15v-19,2,-35,-21,-33,-37v2,-24,5,-19,28,-36v-6,-8,-45,3,-33,-21v21,-22,58,-12,85,-1v6,-5,35,-28,45,-15v20,-4,36,17,36,35v0,23,-4,21,-28,37xm111,-72v12,3,49,-16,19,-17v-5,0,-20,12,-19,17xm74,-50v-14,-4,-48,16,-19,17v4,1,19,-14,19,-17",w:184},"ç":{d:"108,-118v30,-6,56,21,25,33v-24,-6,-39,5,-75,23v-7,4,-12,12,-15,22v31,28,86,3,128,9v3,28,-29,16,-44,28v-53,15,-106,10,-120,-37v0,-48,62,-70,101,-78xm92,18v23,4,45,12,48,32v-2,6,-12,28,-25,28v-24,6,-50,10,-77,13v-16,-4,-11,-28,7,-29v17,-1,51,-4,63,-12v-14,-15,-57,10,-46,-32v9,-8,0,-25,21,-26v6,6,12,14,9,26",w:171},"è":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm95,-166v7,6,54,14,37,40v-28,-7,-62,-21,-100,-41v-3,-3,-3,-26,5,-24v16,5,42,18,58,25",w:161},"é":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm76,-169v26,-11,48,-32,59,-14v3,10,-80,53,-89,53v-14,1,-14,-10,-12,-21v15,-7,16,-7,42,-18",w:161},"ê":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10v-1,1,-2,3,-2,3v0,3,12,7,35,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-70,-26,-70,-58v0,-54,48,-65,104,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm145,-129v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-51,34,-56,0v17,-4,44,-32,61,-43v28,5,41,21,63,36v12,8,17,17,17,25v0,6,-3,9,-11,9",w:161},"ë":{d:"108,-124v42,-3,70,39,50,73v-22,-1,-70,12,-94,10r-3,3v0,3,12,7,36,14v18,0,64,7,30,21v-10,14,-31,6,-53,6v-26,-7,-67,-27,-71,-58v7,-52,48,-65,105,-69xm130,-78v-2,-35,-66,-13,-77,3v16,6,62,6,77,-3xm140,-144v0,8,-4,12,-12,12v-18,0,-19,-19,-16,-33v18,-1,29,1,28,21xm44,-169v7,3,28,9,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35",w:161},"ì":{d:"57,-98v22,5,13,50,11,95v-7,1,-11,2,-20,-4v1,-7,-12,-18,-10,-24v4,-22,-2,-64,19,-67xm70,-139v14,10,54,14,37,41v-28,-7,-61,-22,-99,-42v-3,-2,-3,-25,5,-23v15,5,41,17,57,24",w:109},"í":{d:"59,-98v20,4,15,53,10,95v-6,1,-11,2,-19,-4v1,-7,-12,-18,-10,-24v4,-22,-4,-65,19,-67xm50,-139v27,-11,49,-32,59,-14v3,11,-80,53,-89,53v-14,1,-14,-12,-11,-22v15,-7,14,-6,41,-17",w:105},"î":{d:"72,-98v20,5,12,51,10,95v-6,2,-13,1,-20,-4v1,-8,-12,-18,-10,-24v4,-22,-3,-65,20,-67xm134,-94v-26,-7,-39,-25,-60,-37v-7,0,-9,4,-13,10v-14,15,-51,34,-56,-1v18,-4,45,-33,61,-43v27,6,40,22,62,37v12,8,18,17,18,25v0,6,-4,9,-12,9",w:143},"ï":{d:"55,-97v19,5,15,53,10,95v-17,5,-26,-14,-30,-28v6,-20,-3,-65,20,-67xm110,-118v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm14,-143v6,3,28,8,28,17v0,9,-9,18,-18,18v-18,0,-25,-24,-10,-35",w:107},"ñ":{d:"115,-129v34,6,59,50,59,105v0,31,-15,24,-30,17v-15,-29,-5,-42,-20,-81v-35,-13,-68,52,-88,61v-20,-4,-38,-36,-19,-59v0,-12,3,-14,10,-28v11,-8,18,11,27,12xm117,-166v22,-7,41,-23,64,-26v3,11,-7,10,-7,21v-26,20,-45,30,-58,30v-3,3,-49,-26,-49,-28v-10,-1,-32,35,-51,31v-5,-12,-8,-16,0,-23v4,-6,28,-29,48,-33v17,-3,43,28,53,28",w:171},"ò":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm115,-181v14,10,51,13,37,40v-28,-7,-62,-21,-100,-41v-3,-2,-3,-26,5,-23v16,5,42,17,58,24",w:191},"ó":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm49,-154v24,-3,85,-55,101,-32v3,11,-80,53,-89,53v-14,0,-13,-8,-12,-21",w:191},"ô":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm110,-177v-22,6,-38,45,-65,22v-2,-4,-3,-9,-4,-13v18,-4,43,-32,61,-43v27,6,40,21,62,36v12,9,18,17,18,25v1,11,-15,10,-23,7",w:191},"õ":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm58,-199v26,-21,54,18,69,22v4,0,15,-5,34,-13v22,-9,21,-16,31,-13v3,11,-9,9,-7,22v-26,20,-46,30,-59,30v-2,4,-49,-28,-49,-29v-11,0,-32,31,-46,32v-12,-3,-13,-21,-4,-23v4,-6,14,-15,31,-28",w:191},"ö":{d:"102,-132v50,-20,99,16,99,60v0,54,-60,64,-108,79v-50,-2,-110,-48,-76,-100v22,-17,49,-33,85,-39xm136,-104v-34,0,-91,27,-94,47v16,51,125,16,125,-22v0,-17,-10,-25,-31,-25xm161,-160v0,8,-4,13,-12,13v-17,0,-19,-19,-16,-34v18,-1,29,1,28,21xm65,-185v7,3,28,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35",w:191},"÷":{d:"167,-158v-4,3,-7,9,-10,20v-23,4,-34,-8,-29,-31v14,-6,18,1,39,11xm78,-72v-53,11,-53,12,-69,-15v-1,-12,11,-17,22,-14v71,-13,151,-18,230,-24v11,1,21,16,23,28v-28,20,-90,11,-126,16v-36,5,-62,5,-80,9xm123,-40v19,-17,41,-1,41,17v0,13,-6,19,-17,19v-15,0,-29,-14,-24,-36",w:293},"ø":{d:"76,-136v17,7,33,-8,51,0v9,-6,21,-13,36,-21v23,22,-13,31,3,50v11,13,4,21,14,35v-4,5,-1,14,-4,23v-14,23,-45,41,-84,39v-12,2,-29,28,-41,38v-2,-11,-34,-10,-15,-30v3,-7,5,-11,5,-11v-15,-24,-60,-54,-22,-89v23,-21,25,-32,57,-34xm102,-54v18,1,50,-19,30,-32v-12,7,-22,18,-30,32xm85,-92v-14,3,-26,8,-38,17v2,20,17,13,26,0v6,-8,12,-13,12,-17",w:188},"ù":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm126,-166v7,6,56,14,37,40v-28,-7,-62,-22,-100,-42v-2,-3,-2,-26,5,-23v16,4,42,18,58,25",w:213},"ú":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm106,-174v26,-11,48,-32,59,-14v3,11,-81,53,-89,54v-13,1,-15,-12,-11,-22v15,-7,14,-7,41,-18",w:213},"û":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm172,-143v-27,-6,-39,-26,-60,-37v-8,0,-10,4,-14,10v-11,15,-49,35,-56,0v17,-4,44,-32,61,-43v27,6,41,21,63,36v12,9,17,17,17,25v0,6,-3,9,-11,9",w:213},"ü":{d:"196,-129v-1,-4,12,-13,15,-13v6,0,8,7,8,21v0,24,-7,25,-13,45v-7,7,-14,21,-24,29v-9,24,-61,45,-89,45v-63,0,-105,-72,-67,-126v24,-3,19,27,18,46v-1,26,23,42,54,40v38,-3,88,-51,98,-87xm168,-161v0,8,-3,13,-11,13v-17,0,-20,-19,-17,-34v18,-1,29,1,28,21xm72,-186v7,3,29,9,28,18v0,7,-9,18,-18,17v-18,1,-25,-24,-10,-35",w:213},"ÿ":{d:"118,85v-11,11,-11,38,-22,61v-2,-1,-2,31,-17,27v-11,0,-21,-10,-21,-22v20,-66,23,-61,64,-168v-22,1,-38,16,-58,4v-22,4,-51,-16,-51,-42v-11,-13,-7,-59,7,-58v16,1,21,24,22,51v21,33,66,5,94,-7v4,-3,26,-14,38,-29r17,0v23,44,-23,59,-34,102v-6,9,-13,9,-13,26v-15,6,-12,33,-27,48v0,2,1,4,1,7xm158,-136v0,8,-4,13,-12,13v-18,0,-21,-20,-16,-34v18,-1,29,1,28,21xm62,-161v7,3,28,9,27,18v1,8,-8,17,-17,17v-18,0,-26,-24,-10,-35",w:190},"ı":{d:"43,-103v21,4,16,56,11,100v-7,2,-11,1,-20,-5v0,-7,-13,-18,-11,-25v4,-23,-3,-68,20,-70",w:80},"Œ":{d:"247,-243v71,4,161,-7,245,-8v17,0,27,6,27,17v-8,27,-70,14,-104,23v-3,1,-52,0,-65,7r0,4v16,16,17,29,17,65v32,10,74,-14,99,16v-14,25,-76,17,-127,24v-17,18,-55,32,-75,51v85,0,128,-3,204,-11v15,-2,21,11,20,29v-78,24,-177,12,-270,24v-24,3,-24,-29,-48,-15v-46,7,-70,4,-105,-4v-19,-18,-42,-22,-52,-55v-10,-34,0,-47,12,-78v-18,-59,48,-78,105,-84v17,-18,103,-13,117,-5xm125,-45v76,-9,186,-43,209,-105v-26,-67,-137,-83,-217,-54v3,34,-45,25,-60,58v-41,48,5,108,68,101",w:492},"œ":{d:"185,-54v25,28,107,-17,104,33v-12,12,-60,14,-87,14v0,0,1,1,2,1v-11,1,-39,-9,-50,-17v-28,17,-75,32,-114,7v-22,-14,-34,-11,-34,-41v0,-36,33,-49,48,-75v29,-16,72,-3,95,11v12,-9,48,-27,59,-26v30,0,64,15,65,40v0,7,-6,20,-20,37v-29,1,-44,11,-68,16xm226,-106v-21,-7,-41,-2,-48,13v14,1,42,-7,48,-13xm132,-87v-21,-35,-94,11,-92,24v-2,14,43,21,61,21v25,0,36,-20,31,-45",w:295},"Ÿ":{d:"176,-189v35,20,-25,54,-39,72v-26,34,-57,57,-74,104v-10,15,-4,14,-23,3r0,-10v19,-44,27,-46,50,-81v-9,-5,-24,4,-34,4v-38,0,-54,-50,-44,-87v21,-5,18,19,22,35v4,18,15,27,29,27v41,0,60,-39,113,-67xm153,-222v0,8,-3,12,-11,12v-18,0,-21,-19,-16,-33v18,-1,28,2,27,21xm57,-247v8,2,29,9,28,17v0,21,-37,24,-36,1v0,-7,2,-13,8,-18",w:135},"ƒ":{d:"115,-262v-23,6,-39,63,-38,96v1,3,57,2,54,16v1,22,-45,15,-51,30v3,34,12,68,10,103v14,17,-18,53,-28,63v-48,8,-89,5,-95,-37v20,-5,77,21,83,-18v17,-29,-4,-61,0,-98v0,-5,-3,-10,-7,-17v-33,4,-43,-17,-25,-37v10,-4,27,5,27,-10v0,-43,15,-77,32,-109v12,-7,16,-22,38,-20v11,1,51,35,25,55v-9,1,-16,-17,-25,-17",w:145},"ˆ":{d:"144,-220v-29,0,-41,-27,-63,-39v-8,0,-11,5,-15,11v-17,12,-32,31,-54,13v-2,-5,-3,-9,-4,-14v20,-5,45,-33,64,-45v28,6,43,23,65,38v12,9,19,19,19,27v0,6,-4,9,-12,9",w:165},"ˇ":{d:"39,-286v33,46,63,-4,96,-16v6,0,9,6,9,19v0,24,-49,46,-77,46v-32,0,-52,-28,-59,-48v0,-25,23,-17,31,-1",w:153},"˘":{d:"65,-269v20,-11,45,-31,74,-36v20,30,-42,40,-59,66v-5,6,-11,8,-18,8v-8,-3,-45,-32,-51,-54v5,-24,14,-13,34,1",w:158},"˙":{d:"23,-302v15,-13,32,1,32,18v1,22,-36,29,-39,4v0,0,3,-7,7,-22",w:70},"˚":{d:"23,-225v-43,-24,-11,-85,41,-78v16,2,31,4,46,17v32,54,-41,86,-87,61xm33,-257v2,20,57,11,57,-6v0,-6,-11,-9,-33,-12v-14,-2,-24,13,-24,18",w:123},"˛":{d:"82,-5v-8,12,-16,55,-21,75v0,4,2,7,7,7v6,0,22,-7,50,-20v8,0,12,7,12,20v-2,22,-6,14,-27,30v-15,12,-26,16,-30,16v-47,-8,-59,-14,-56,-75v8,-27,12,-54,25,-77v19,-21,35,15,40,24",w:138},"˜":{d:"47,-300v26,-21,57,19,72,23v4,0,16,-5,36,-14v24,-10,22,-16,32,-13v3,12,-7,11,-7,23v-27,21,-48,32,-62,32v-3,2,-52,-27,-51,-31v-12,-2,-34,40,-54,33v-4,-13,-8,-18,1,-24v5,-7,16,-15,33,-29",w:186},"˝":{d:"91,-249v15,-11,38,-53,57,-29v0,9,0,14,-3,23v-2,3,-20,22,-54,55v-5,5,-10,8,-16,8v-17,2,-6,-22,-7,-31v-1,0,-2,0,-4,1v-17,21,-29,31,-50,27v-5,-18,-3,-15,3,-27v23,-27,40,-46,48,-59v7,-12,31,3,29,9v-1,14,-3,24,-13,31v4,4,9,-1,10,-8",w:151},"–":{d:"6,-66v-8,-72,79,-21,146,-39v37,-10,79,7,111,0v9,8,14,13,14,17v2,26,-72,13,-99,21v-83,4,-124,21,-172,1",w:282},"—":{d:"175,-106v86,-9,201,1,286,-1v11,6,13,11,6,30v-118,15,-246,10,-377,10v-25,0,-73,3,-82,-8r-2,-26v11,-13,32,-9,52,-7v38,3,84,-5,117,2",w:485},"‘":{d:"73,-262v-10,7,-41,39,-38,69v-15,13,-27,-16,-28,-28v-2,-20,51,-83,66,-83v20,0,25,41,0,42",w:95},"’":{d:"74,-300v13,31,-1,99,-44,101v-13,0,-19,-5,-19,-15v6,-10,31,-34,35,-59v2,-11,1,-32,11,-32v6,0,11,2,17,5",w:90},"‚":{d:"25,63v-26,21,-48,-2,-22,-24v14,-12,35,-40,35,-69v3,-2,3,-11,12,-9v35,17,5,88,-25,102",w:97},"“":{d:"66,-261v-21,5,-37,51,-22,77v0,4,-2,6,-7,6v-31,-9,-38,-62,-12,-94v12,-15,21,-28,31,-34v16,-1,19,24,22,34v10,-11,22,-32,43,-23v-2,8,4,16,5,19v-6,11,-51,53,-29,74v-12,21,-30,5,-33,-17v-6,-13,9,-28,2,-42",w:118},"”":{d:"120,-294v12,3,30,26,19,34v2,15,-40,70,-55,66v-40,-10,10,-51,14,-64v3,-3,8,-31,22,-36xm70,-306v14,3,26,34,16,49v-19,30,-31,45,-58,59v-12,-11,-33,-17,-7,-36v13,-19,36,-27,36,-59v0,-5,9,-13,13,-13",w:148},"„":{d:"25,63v-26,21,-48,-2,-22,-24v11,-9,36,-41,35,-69v3,-2,4,-12,12,-9v36,14,5,89,-25,102xm84,64v-24,20,-45,-1,-21,-24v21,-20,32,-35,35,-69v3,-2,3,-11,12,-9v36,17,9,86,-26,102",w:135},"†":{d:"22,-286v15,6,5,-20,19,-19v9,-3,15,21,17,22v6,1,12,3,20,6v3,10,5,16,-9,16v-34,-10,-6,51,-34,52v-20,-7,11,-47,-15,-49v-14,3,-25,-5,-17,-24v7,-2,14,-4,19,-4",w:77},"‡":{d:"102,-284v16,2,42,-2,33,18v-7,15,-42,1,-38,30v3,3,31,1,30,11v4,15,-29,19,-36,24v-2,18,-4,24,-16,29r-25,-26v-25,7,-53,3,-42,-25v4,-10,70,0,51,-22v-17,4,-41,12,-39,-15v-5,-16,39,-18,44,-20v4,-2,7,-10,10,-24v19,-3,23,6,28,20",w:145},"•":{d:"130,-114v0,47,-124,54,-120,-8r6,-31v44,-28,64,-34,104,0v8,6,10,20,10,39",w:139},"…":{d:"244,-24v-1,21,-38,32,-41,3v-2,-19,23,-22,34,-17v0,7,0,15,7,14xm113,-24v0,-22,28,-21,38,-8v5,34,-39,40,-38,8xm35,-2v-10,-2,-36,-17,-18,-29v-1,-15,17,-17,31,-6v7,17,6,33,-13,35",w:258},"‰":{d:"398,-131v58,-1,87,13,72,65v-1,30,-66,63,-99,65v-56,3,-99,-58,-62,-102v2,2,5,2,8,2v20,-16,51,-17,81,-30xm202,-279v33,0,94,-24,95,18v-7,31,-33,27,-54,55v-36,32,-71,74,-112,99v-18,18,-40,34,-51,58v-19,14,-25,37,-56,40v-17,2,-25,-29,-10,-40v15,-11,40,-37,52,-52r87,-72v-51,13,-100,6,-116,-27v1,-5,-6,-30,-9,-36v-3,-5,22,-41,27,-39v29,2,16,34,5,49v0,15,14,23,42,23v42,0,59,-31,28,-38v-17,-4,-53,3,-50,-23v0,-7,1,-12,4,-16v16,-9,36,4,49,5v0,0,23,-4,69,-4xm222,-118v33,-2,55,18,50,57v-29,36,-48,45,-96,50v-27,-5,-56,-17,-58,-51v13,-37,64,-43,104,-56xm335,-61v13,44,101,7,108,-31v-11,-3,-20,-4,-30,-4v-18,-1,-82,18,-78,35xm225,-244v-18,0,-29,-1,-46,3v7,15,6,28,0,43v15,-14,34,-30,46,-46xm164,-53v26,5,59,-10,76,-26v-17,-16,-49,2,-67,14v1,8,-8,6,-9,12",w:485},"‹":{d:"64,-107v9,17,86,17,87,43v0,11,-4,16,-13,16v-36,-11,-70,-22,-109,-31v-19,-4,-18,-14,-9,-36v59,-56,93,-84,101,-84v17,0,19,20,13,29",w:159},"›":{d:"41,-181v26,27,112,44,70,91r-82,60v-20,3,-25,-23,-13,-32r70,-51r-66,-46v-5,-6,-4,-28,5,-29v4,2,9,4,16,7",w:137},"⁄":{d:"193,-305v7,6,17,31,3,41v-10,7,-12,13,-21,25v-79,56,-190,209,-197,260r-18,0v-23,-19,9,-70,15,-85v52,-83,121,-179,218,-241",w:120},"™":{d:"213,-307v28,9,11,49,7,75v-1,4,-4,6,-11,6v-7,1,-11,-14,-11,-34v-14,-6,-34,34,-46,28v-2,0,-10,-9,-24,-27v-10,7,-3,36,-27,31v-15,-24,-3,-27,1,-48v-6,-7,-27,-1,-31,3v-3,14,-7,30,-11,51v-5,10,-29,9,-24,-12v-5,-8,1,-18,3,-35v-13,6,-33,2,-29,-18v20,-17,64,-17,100,-19v28,-1,29,30,45,39v11,-6,35,-32,58,-40",w:239},"∆":{d:"18,-1v-24,-30,8,-48,25,-71v14,-19,34,-28,40,-56v20,-35,29,-14,57,4v9,39,43,62,57,102v0,16,-34,17,-50,14v-28,2,-72,4,-129,7xm139,-47r-22,-52v-12,-5,-12,15,-24,27v-7,6,-14,16,-23,28v23,1,36,-1,69,-3",w:199},"∙":{d:"57,-77v6,18,-7,21,-19,23v-34,6,-25,-40,-9,-43v18,-3,29,8,28,20",w:67},"√":{d:"364,-218v43,-21,80,-51,104,-32v-3,19,-24,21,-44,40v-41,15,-78,53,-136,78r-137,98v-20,16,-79,66,-91,68v-3,1,-25,-11,-24,-13v-4,-28,-43,-61,-30,-85v26,-15,42,19,58,32r295,-188v0,1,2,2,5,2",w:474},"∞":{d:"322,-72v-4,22,-54,41,-76,41v-43,0,-83,-17,-114,-35v-46,19,-125,53,-128,-18v-1,-14,10,-22,13,-35v29,-10,62,-31,97,-4v37,28,47,5,75,-8v40,-19,73,-10,114,1v13,1,18,55,19,58xm228,-69v15,0,62,-12,61,-25v-19,-23,-89,-10,-105,11v0,2,1,4,2,4v28,6,42,10,42,10xm75,-102v-13,2,-41,4,-44,19v0,4,3,7,10,7v21,0,40,-6,54,-17v-9,-6,-16,-9,-20,-9",w:330},"∫":{d:"62,-151v-7,-70,20,-130,63,-150v28,1,39,10,70,23v20,8,6,33,-6,35v-29,-13,-45,-20,-49,-20v-20,-4,-45,51,-43,70v8,60,5,129,5,189v0,62,-27,93,-79,93v-37,-1,-71,-14,-63,-57v21,0,79,34,91,-2v16,-3,14,-64,21,-85v-2,-31,-1,-74,-10,-96",w:156},"≈":{d:"133,-112v21,15,48,-30,78,-17v3,3,5,7,5,9v-8,30,-47,45,-76,45v-19,0,-64,-48,-90,-21r-29,20v-6,-1,-17,-16,-15,-32v24,-17,70,-42,107,-21v4,4,10,9,20,17xm138,-57v28,2,48,-25,76,-26v13,30,-21,42,-40,53v-41,24,-77,-15,-114,-23v-15,14,-46,32,-49,-1v-3,-9,27,-28,54,-30",w:223},"≠":{d:"48,-130v29,11,49,-57,60,-50v25,6,7,27,-1,46v22,5,29,7,21,22v-18,2,-48,-1,-50,15v9,8,53,-7,54,10v-4,22,-46,20,-72,24v-7,13,-18,32,-34,57v-8,6,-15,-3,-13,-14v-1,-9,15,-39,14,-45v-30,5,-24,-17,-13,-25v12,-1,36,4,29,-13v-14,0,-47,6,-36,-12v0,-18,27,-13,41,-15",w:140},"≤":{d:"73,-109v10,15,87,16,87,42v0,11,-5,16,-13,16v-36,-11,-69,-24,-109,-31v-18,-8,-18,-13,-9,-36v59,-56,93,-83,101,-83v16,0,18,17,14,28v-27,24,-42,35,-71,64xm10,-29v35,-12,117,-26,148,-3v1,2,-5,19,-8,18r-124,15v-16,2,-26,-18,-16,-30",w:168},"≥":{d:"115,-174v20,7,53,36,20,57v-19,11,-91,68,-82,59v-18,3,-25,-22,-13,-31v15,-10,14,-10,70,-51r-50,-37v-5,-4,-5,-27,4,-28v16,7,40,17,51,31xm14,-32v33,-10,86,-14,127,-10v12,12,5,23,-11,27v-49,9,-82,13,-99,13v-22,0,-24,-16,-17,-30",w:163},"◊":{d:"76,-158v48,-8,64,11,100,36v28,19,-5,39,-22,54v-15,13,-40,32,-48,49v-17,5,-12,0,-27,-16v-6,-6,-86,-31,-68,-53r2,-9v27,-23,48,-44,63,-61xm93,-65v12,-2,35,-31,41,-38v-5,-10,-16,-14,-34,-24v-12,12,-36,29,-40,44v19,11,30,18,33,18",w:199}}}),"undefined"==typeof Raphael&&"undefined"==typeof Snap)throw new Error("Raphael or Snap.svg is required to be included.");if(_.isEmpty(v.themes))throw new Error("No themes were registered. Please call registerTheme(...).");v.themes.hand=v.themes.snapHand||v.themes.raphaelHand,v.themes.simple=v.themes.snapSimple||v.themes.raphaelSimple,v.prototype.drawSVG=function(t,e){var i={theme:"hand"};if(e=_.defaults(e||{},i),!(e.theme in v.themes))throw new Error("Unsupported theme: "+e.theme);var r=_.isString(t)?document.getElementById(t):t;if(null===r||!r.tagName)throw new Error("Invalid container: "+t);new(0,v.themes[e.theme])(this,e,function(v){v.draw(r)})},"undefined"!=typeof jQuery&&function(t){t.fn.sequenceDiagram=function(e){return this.each(function(){var i=t(this),r=v.parse(i.text());i.html(""),r.drawSVG(this,e)})}}(jQuery);var S="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports.Diagram=v):S.Diagram=v}();

/* COMBO: filename = plugin/qdfuns_editor/core.min.js, type = application/javascript, resp = 200 */
!function(e){var a="",t="",n=function(n,i){i=i+""+e.utils.timestamp_ms();var o=null,s=(BODY,n),l=s.data("upload-dowhat"),d=s.data("upload-picture"),r=s.data("upload-attach"),p=s.data("loadunused"),c=s.data("mode"),u=!!s.data("disable"),f=s.data("disable"),m=!s.data("nologin"),h=!!p,v=!!p,_=null,g=!0,b=!1;if(p){attachment.load_unused(s);var k=setInterval(function(){var e=s.data("attachment_used_data");e&&(clearInterval(k),h=e[0],v=e[1])},1e3)}var y=s.data("char-maxlen");y=y?parseInt(y):2e3;var x=BODY.find(s.data("heading"));HTML.data("init")();var w=new StringBuffer;w.append("<"+a+' class="loading'+(MEMBER_ID<=0&&m?" need_login":u?" editor_disable":"")+" dh300 mode_"+(e.utils.maxWidth()>768?c||"split":(c||"write")+" "+a+"_mobile")+'">'),w.append('<div class="loadingbox"><i></i><i></i><i></i></div>'),MEMBER_ID<=0&&m?(w.append('<div class="editor_login">'),w.append('<div class="member_area">'),w.append('<button class="btn btn-primary mgr30" type="submit" data-toggle="member_panel" data-type="login">立即登录</button>'),w.append('<button class="btn btn-success" type="submit" data-toggle="member_panel" data-type="register">现在注册</button>'),w.append("</div>"),w.append("</div>")):u&&(w.append('<div class="editor_disable_area">'),w.append('<div class="editor_disable_tips text-muted">'),w.append(f),w.append("</div>"),w.append("</div>")),w.append("<"+a+"_toolbar></"+a+"_toolbar>"),w.append("<"+a+"_write></"+a+"_write>"),w.append("<"+a+"_preview>"),x.length,w.append("<"+a+"_splitbar>"),w.append('<span class="btn_write dhi200" data-toggle="tooltip" data-container="body" data-placement="right" data-trigger="hover" title="转为：书写模式\n快捷键：Alt + &rarr;">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_write_mode"></use>'),w.append("</svg>"),w.append("</span>"),w.append('<span class="btn_preview dhi200" data-toggle="tooltip" data-container="body" data-placement="left" data-trigger="hover" title="转为：预览模式\n快捷键：Alt + &larr;">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_preview_mode"></use>'),w.append("</svg>"),w.append("</span>"),e.utils.maxWidth()>768&&(w.append('<span class="btn_split dhi200" data-toggle="tooltip" data-container="body" title="转为：分屏模式\n快捷键：Alt + &darr;">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_split"></use>'),w.append("</svg>"),w.append("</span>")),w.append("</"+a+"_splitbar>"),w.append('<div id="md_preview_'+i+'" class="md_preview md_view"></div>'),w.append("</"+a+"_preview>"),e.utils.maxWidth()>768&&(w.append('<ul class="'+a+'_statistics clearfix">'),w.append('<li class="'+a+'_statistics_drag dh300">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_statistics_drag"></use>'),w.append("</svg>"),w.append("</li>"),w.append('<li class="'+a+'_statistics_catalog dh300 clearfix" data-toggle="popover" data-trigger="hover" data-html="true" data-title="目录">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_statistics_catalog"></use>'),w.append("</svg>"),w.append("</li>"),w.append('<li class="'+a+'_statistics_wordcount dh300 clearfix" data-toggle="popover" data-trigger="hover" data-html="true" data-title="统计">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_statistics_wordcount"></use>'),w.append("</svg>"),w.append('<span class="mgl10 num">0</span>'),w.append("</li>"),w.append('<li class="'+a+'_statistics_help dh300 clearfix" data-toggle="tooltip" data-placement="top" data-container="body" title="编辑器及MarkDown帮助文档">'),w.append('<a href="/about.php?mod=markdown" target="about">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+"#"+a+'_statistics_help"></use>'),w.append("</svg>"),w.append("</a>"),w.append("</li>"),w.append("</ul>")),w.append("</"+a+">");var q=e(w.toString());w.clear();var C=q.find(".loadingbox:first"),j=q.find(a+"_toolbar:first"),S=q.find(".editor_login:first"),B=S.find("button"),T=q.find(".editor_disable_area:first"),M=q.find(a+"_write:first"),I=q.find(a+"_preview:first"),L=I.find(a+"_toggle_heading:first"),E=L.find("span"),A=I.find(a+"_splitbar:first"),$=A.find("span.btn_write:first"),H=A.find("span.btn_split:first"),V=A.find("span.btn_preview:first"),D=I.find("#md_preview_"+i),z="快捷键："+("mac"==OSNAME?"&#8984":"ctrl")+" + ",O=null,R=null,F=null,W=q.find("."+a+"_statistics:first"),P=W.find("."+a+"_statistics_drag"),U=W.find("."+a+"_statistics_catalog:first"),N=null,Y=null,J=W.find("."+a+"_statistics_wordcount:first"),Q=J.find("span.num:first"),G=null,K=null,X=W.find("."+a+"_statistics_help:first");MEMBER_ID<=0&&m&&B.click(show_member_bg),s.hide().after(q).appendTo(M),Q.data("num",0).text(0);var Z=s.data("savedataname");Z="md_editor_"+(Z||"def");var ee={tools:[["h1","h2","h3","h4","h5","h6","hr"],["textcolor","textbgcolor","bold","italic","strikeThrough","firstUpperCase","lowerCase","upperCase"],["quote","link","linkquote","footnotes","orderedList","unorderedList","todoList","table"],["code","formula","flow","sequence"],["picture","attachment","video","audio","emot","symbol","keyboard"],["clear","undo","repeat","import_md","export_md"],["fullView","fullScreenView"]],icons:{h1:["一级标题","1",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h1"></use></svg>'],h2:["二级标题","2",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h2"></use></svg>'],h3:["三级标题","3",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h3"></use></svg>'],h4:["四级标题","4",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h4"></use></svg>'],h5:["五级标题","5",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h5"></use></svg>'],h6:["六级标题","6",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_h6"></use></svg>'],hr:["分割线",("mac"==OSNAME?"Alt + ":"")+"R",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_hr"></use></svg>'],textcolor:["文字颜色",null,'<span class="moreicon"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_fontColor"></use></svg><i></i></span><span><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_arrow"></use></svg></span>',!0],textbgcolor:["文字背景色",null,'<span class="moreicon"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_fontBgColor"></use><i></i></span><span><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_arrow"></use></svg></span>',!0],bold:["加粗","B",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_bold"></use></svg>'],italic:["斜体","I",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_italic"></use></svg>'],strikeThrough:["删除线","Alt + S",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_strikeThrough"></use></svg>'],firstUpperCase:["首字母大写",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_firstUpperCase"></use></svg>'],upperCase:["全部大写",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_upperCase"></use></svg>'],lowerCase:["全部小写",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_lowerCase"></use></svg>'],quote:["引用",("mac"==OSNAME?"Alt + ":"")+"Y",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_quote"></use></svg>'],link:["链接","L",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#link"></use></svg>'],linkquote:["引用链接","Alt + L",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_linkQuote"></use></svg>'],footnotes:["插入脚注","J",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_footnotes"></use></svg>'],orderedList:["有序列表","O",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_orderedList"></use></svg>'],unorderedList:["无序列表","U",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#dfuns_mdeditor_unorderedList"></use></svg>'],todoList:["待办事项列表","T",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#dfuns_mdeditor_todoList"></use></svg>'],table:[null,null,'<span class="moreicon"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#dfuns_mdeditor_table"></use></svg></span><span><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_arrow"></use></svg></span>',!0],code:["代码","Alt + C",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#code"></use></svg>'],formula:["数学公式","Alt + S",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_formula"></use></svg>'],flow:["流程图","Alt + F",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow"></use></svg>'],sequence:["序列图","Alt + S",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_sequence"></use></svg>'],picture:["图片","Alt + P",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_picture"></use></svg>'],attachment:["附件","Alt + A",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#attachment"></use></svg>'],video:["视频",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_video"></use></svg>'],audio:["音频",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_music"></use></svg>'],emot:["表情","Alt + B",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_emot"></use></svg>'],symbol:["特殊符号","Alt + T",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_symbol"></use></svg>'],keyboard:["键盘按键",null,'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_keyboard"></use></svg>'],undo:["撤销","Z",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_undo"></use></svg>'],repeat:["恢复","Y",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_repeat"></use></svg>'],import_md:["导入.md","Alt + I",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_import"></use></svg>'],export_md:["导出.md","Alt + E",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_export"></use></svg>'],clear:["清空","Alt + D",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_clear"></use></svg>'],fullView:["最大化,还原","M",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_fullView_off"></use><use xlink:href="'+t+'#qdfuns_mdeditor_fullView_on"></use></svg>'],fullScreenView:["切换全屏编辑","Alt + M",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_fullScreen_off"></use><use xlink:href="'+t+'#qdfuns_mdeditor_fullScreen_on"></use></svg>'],localStorage:["立刻存档","S",'<svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#ok"></use></svg><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_save"></use></svg><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_pencil"></use></svg>']},analysis:{h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,hr:!1,textcolor:!1,textbgcolor:!1,bold:!1,italic:!1,strikeThrough:!1,quote:!1,link:!1,linkquote:!1,footnotes:!1,orderedList:!1,unorderedList:!1,todoList:!1,table:!1,code:!1,formula:!1,flow:!0,sequence:!0,picture:!1,attachment:!1,video:!1,audio:!1,emot:!1,symbol:!1,keyboard:!1}};!function(a){var t=a.data("toolbtn"),n=[];if(t){ee.tools=[],t=t.replace(/\s*/g,""),e.utils.maxWidth()<800&&(t=t.replace("keyboard","").replace(",,",",").replace(",|","|")),n=t.split("|");for(var i=0,o=n.length;i<o;i++)ee.tools.push(n[i].split(","))}}(s),function(){var e="";for(var a in ee.tools)for(var t in ee.tools[a])e=ee.tools[a][t],arr.in_array(e,["undo","repeat","import_md","export_md","clear","fullView","fullScreenView","localStorage"])||(ee.analysis[e]=!0)}(),ee.tools[ee.tools.length-1].push("localStorage"),P.tooltip({placement:function(){return W.position().top<50?"bottom":"top"}}),U.append('<div class="popover '+a+'_statistics_catalog_popover bs-popover-top shadow dh300" role="popover"><i class="arrow"></i><h3 class="popover-header">目录</h3><div class="popover-body toc_menu"><i class="active_bar dh300"></i></div></div>'),N=U.find("."+a+"_statistics_catalog_popover:first"),Y=N.find(".popover-body:first");var ae=Y.find(".active_bar:first");U.mouseenter(function(){var a=null,t=D.find(":header"),n=null,i={},o=0;t.length>0?(o=D.scrollTop(),D.scrollTop(0),w.clear(),w.append("<ul>"),t.each(function(a,t,n){switch(n=t.tagName.toLowerCase(),t=e(t),n){case"h1":w.append('<li class="h-1" data-tagname="'+n+'" data-top="'+t.position().top+'">'+t.text()+"</li>");break;case"h2":w.append('<li class="h-2" data-tagname="'+n+'" data-top="'+t.position().top+'">'+t.text()+"</li>");break;default:w.append('<li class="h-3" data-tagname="'+n+'" data-top="'+t.position().top+'">'+t.text()+"</li>")}}),w.append("</ul>"),D.scrollTop(o),Y.find("ul:first").remove(),Y.append(w.toString()).addClass("hover"),n=Y.find("ul:first li"),i=n.eq(0).position(),ae.css({top:i.top,left:i.left,width:n.eq(0).outerWidth(),height:n.eq(0).outerHeight()}),n.mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")}).click(function(){a=e(this),i=a.position(),n.removeClass("selected"),a.addClass("selected"),D.stop(!0,!0).animate({scrollTop:a.data("top")},300),ae.css({top:i.top,left:i.left,width:a.outerWidth(),height:a.outerHeight()})})):(Y.find("ul:first").remove(),Y.append('<ul><li class="h-1">无</li></ul>'))}).mouseleave(function(){Y.removeClass("hover")}),W.qdfunsDrag({handler:P,limit:{area:q,lock:!0,x:0,y:0,resize:!1},onmove:function(e){W.position().top<350?(N.removeClass("popover-top").addClass("bs-popover-bottom bottom_popover"),G.removeClass("popover-top").addClass("bs-popover-bottom bottom_popover")):(N.removeClass("bs-popover-bottom bottom_popover").addClass("popover-top"),G.removeClass("bs-popover-bottom bottom_popover").addClass("popover-top"))}}),J.append('<div class="popover '+a+'_statistics_wordcount_popover bs-popover-top shadow dh300" role="popover"><i class="arrow"></i><h3 class="popover-header">统计</h3><div class="popover-body"><i class="active_bar dh300"></i></div></div>'),G=J.find("."+a+"_statistics_wordcount_popover:first"),K=G.find(".popover-body:first"),J.mouseenter(function(){w.clear(),w.append('<table class="table table-hover">'),w.append("<thead>"),w.append("<tr>"),w.append("<th>名称</th>"),w.append("<th>数量</th>"),w.append("</tr>"),w.append("</thead>"),w.append("<tbody>"),w.append("<tr>"),w.append("<td>字数/限制</td>"),w.append("<td>"+Q.data("num")+"/"+y+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>标题</td>"),w.append("<td>"+D.find(":header").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>段落</td>"),w.append("<td>"+D.find("p").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>引用</td>"),w.append("<td>"+D.find("blockquote").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>链接</td>"),w.append("<td>"+D.find("a").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>列表</td>"),w.append("<td>"+D.find(".textlist").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>代码框</td>"),w.append("<td>"+D.find(".codepanel").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>流程图</td>"),w.append("<td>"+D.find(".flow_panel").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>序列图</td>"),w.append("<td>"+D.find(".sequence_panel").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>公式</td>"),w.append("<td>"+D.find(".MathJax_SVG").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>图片</td>"),w.append("<td>"+D.find("img").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>表情</td>"),w.append("<td>"+D.find("i[class^='emoticon_']").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>音频</td>"),w.append("<td>"+D.find(".audio_frame").length+"</td>"),w.append("</tr>"),w.append("<tr>"),w.append("<td>视频</td>"),w.append("<td>"+D.find(".video_frame,.video_block").length+"</td>"),w.append("</tr>"),w.append("</tbody>"),w.append("</table>"),K.html(w.toString())}),e.utils.maxWidth()>768&&(X.tooltip(),E.tooltip(),$.tooltip(),V.tooltip(),H.tooltip({placement:function(){return q.hasClass("mode_write")?"left":"right"}})),w.clear(),w.append('<ul class="toolbtns clearfix">');for(var te=0,ne=ee.tools.length,ie=ne-1;te<ne;te++){for(var oe=0,se=ee.tools[te].length;oe<se;oe++)ee.icons[ee.tools[te][oe]][3]?w.append('<li class="toolarrow" data-edittoolkey="'+ee.tools[te][oe]+'" data-tip="'+ee.icons[ee.tools[te][oe]][0]+'" data-shortcut-key="'+ee.icons[ee.tools[te][oe]][1]+'" data-container="body">'+ee.icons[ee.tools[te][oe]][2]+"</li>"):w.append('<li class="toolbutton" data-edittoolkey="'+ee.tools[te][oe]+'" data-toggle="tooltip" data-html="true" data-tip="'+ee.icons[ee.tools[te][oe]][0]+'" data-shortcut-key="'+ee.icons[ee.tools[te][oe]][1]+'" data-container="body">'+ee.icons[ee.tools[te][oe]][2]+"</li>");te<ie&&w.append('<li class="groupline"></li>')}w.append("</ul>"),j.html(w.toString()).append("");var le=j.find(".toolbtns:first"),de=le.find("li[class$=toolbutton]"),re=le.find("li[class$=toolarrow]"),pe=le.find("[data-edittoolkey=fullView]:first"),ce=pe.find("use:first"),ue=pe.find("use:last"),fe=le.find("[data-edittoolkey=fullScreenView]:first"),me=fe.find("use:first"),he=fe.find("use:last"),ve=0,_e=0,ge=j.find("li[data-edittoolkey=localStorage]");if(ue.hide(),he.hide(),MEMBER_ID<=0&&m||u)return q.removeClass("loading"),C.remove(),S.css("top",j.outerHeight()),T.css("top",j.outerHeight()),!1;e.utils.maxWidth()>768&&(de.tooltip({title:function(){var a=e(this),t=a.data("tip").split(",");return(q.data("fullView")&&t[1]?t[1]:t[0])+(a.data("shortcut-key")?'<br/><span class="font12">'+z+a.data("shortcut-key")+"</span>":"")},placement:function(){return q.data("fullView")?"bottom":"top"}}),re.find("span:first").tooltip({title:function(){var a=e(this).parents("li:first"),t=a.data("tip");if(t)return t=t.split(","),(q.data("fullView")&&t[1]?t[1]:t[0])+"</span>"},placement:function(){return q.data("fullView")?"bottom":"top"},html:!0,container:"body"}));var be=function(){ge.removeClass("write saveok"),localStorage.removeItem(Z);var e=s.data("extend_cleardata");e?e("md_editor_extend"):localStorage.removeItem("md_editor_extend")};s.data("localStorage_clear",be);var ke=null,ye=null,xe={},we=function(){if(MEMBER_ID<=0&&m||!m)return!1;clearTimeout(ke),clearTimeout(ye);var a=!1,t=o.getValue();t=t.replace(/^\[toc\][ ]*$/gim,"");var n="";x.each(function(a,t){t=e(t),!!(n=t.data("save_key"))&&(xe[n]=t.val())}),ge.removeClass("write saveok"),xe.content=t,xe.time=e.utils.timestamp_ms(),localStorage.setItem(Z,e.utils.urlencode(JSON.stringify(xe))),a=s.data("extend_savedata"),!!a&&a("md_editor_extend"),ge.addClass("saveing"),ke=setTimeout(function(){ge.removeClass("saveing").addClass("saveok"),ye=setTimeout(function(){ge.removeClass("saveok")},500)},500)},qe=function(){p&&(_=setInterval(function(){s.data("attachment_used_dialog_isclose")&&clearInterval(_)},1e3))};Z?function(){if(MEMBER_ID<=0&&m)return!1;var a=localStorage.getItem(Z),t=[],n=null,l=!1,d='<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">丢弃存档</button><button type="button" class="col btn-light dh300">立即恢复</button></div>',r=null,p=!1;a?(t=JSON.parse(e.utils.urldecode(a)),n=convert.timestamp2date(t.time,!0),n=n.Y+"-"+n.M+"-"+n.D+" "+n.h+":"+n.m+":"+n.s,t.title&&t.content&&t.time?l='<span class="text-muted">标题：</span>'+t.title+'<br/><span class="text-muted">时间：</span>'+n:!t.title&&t.content&&t.time?l='您有 <span class="text-primary">['+n+"]</span> 保存的临时存档。":t.title&&!t.content&&t.time&&(l='<span class="text-muted">标题：</span>'+t.title+'<br/><span class="text-muted">时间：</span>'+n),l&&(d=e(d),r=d.find("button"),r.eq(0).click(function(){dialog.close(p),be(),qe()}),r.eq(1).click(function(){o.setValue(""),dialog.close(p);var a=s.data("extend_loaddata");s.data("editor_loaddata_state",!0);var n="";x.each(function(a,i){i=e(i),!!(n=i.data("save_key"))&&"content"!==n&&i.val(t[n])}),o.setValue(t.content),!!a&&a("md_editor_extend"),qe()}),l='<div class="pd15"><h6 class="mgb16 font24 text-center"><span class="text-danger">恢复临时存档</span></h6><p class="mgb5 text-body ">'+l+'</p><p class="mgb0 font12 text-muted"><span>可选择关闭或丢弃，如果恢复，将会覆盖当前已写内容，此过程不可逆</span>，是否继续？</p></div></div>',p=dialog.open(dialog.modal(l,"remove",d,"Middle",!0,"editor modal-editor-loaddata-"+i,!1)))):qe()}():qe(),L.click(function(){var e=x.data("editro_heading_fn"),a=null;"function"==typeof e&&(a=e),L.hasClass("up")?(L.removeClass("up").addClass("down"),!!a&&a("hide")):(L.removeClass("down").addClass("up"),!!a&&a("show"))}),$.click(function(){q.removeClass("mode_write mode_split mode_preview"),q.addClass("mode_write"),O()}),V.click(function(){q.removeClass("mode_write mode_split mode_preview"),q.addClass("mode_preview"),O()}),H.click(function(){q.removeClass("mode_write mode_split mode_preview"),q.addClass("mode_split"),O()}),q.keydown(function(e){e.stopPropagation(),e.altKey&&arr.in_array(e.which,[38,39,40,37])&&(e.preventDefault(),e.stopPropagation(),37==e.which?V.trigger("click"):38==e.which?L.trigger("click"):39==e.which?$.trigger("click"):H.trigger("click"))});for(var Ce=function(e,a,t,n,i){for(var i=!i,s=o.lineCount()-1,l=o.getSelections(),d=o.listSelections(),r=null,p=null,c=null,u=!1,f=[],m=[],h="",v="",_="",g=0,b=l.length,k="";g<b;g++)p=d[g].head,c=d[g].anchor,h=o.getLine(p.line),v=o.getLine(p.line-1),_=o.getLine(p.line+1),u=!l[g],l[g]=u?t:l[g],n&&(l[g]=n(l[g])),k=e+l[g]+a,p.line<=0&&c.line<=0?p.ch>0&&c.ch>0?(k="\n\n"+k+"\n\n",f.push(2)):(p.ch<c.ch?c.ch:p.ch)<h.length?f.push(2):_&&f.push(1):p.line>=s&&c.line>=s?(v&&!h?k=(p.line>0?"\n":"")+k:v&&h?k=(p.line>0?"\n\n":"")+k:!v&&h?k=(p.line>0?"\n\n":"")+k:v||h||(k=k),_&&(k+="\n",f.push(1))):0==p.ch&&0==c.ch?h||_&&(k+="\n",f.push(1)):(p.ch>0&&c.ch>0&&(k="\n\n"+k),(p.ch<c.ch?c.ch:p.ch)<h.length?(k+="\n\n",f.push(2)):_&&(k+="\n",f.push(1))),m.push(k);if(o.replaceSelections(m),i){r=o.listSelections();for(var g=0,b=r.length;g<b;g++)p=r[g].head,c=r[g].anchor,r[g].head.line=p.line-(f[g]?f[g]:0),r[g].anchor.line=c.line-(f[g]?f[g]:0),r[g].head.ch=e.length+l[g].length,r[g].anchor.ch=e.length;o.setSelections(r)}return o.focus(),r},je=function(e,a,t,n,i){for(var i=!i,s=o.getSelections(),l=(o.listSelections(),null),d=!1,r=[],p=0,c=s.length;p<c;p++)d=!s[p],s[p]=d?t:s[p],n&&n(s[p]),s[p]=e+s[p]+a,r.push(s[p]);if(o.replaceSelections(r),i){l=o.listSelections();for(var p=0,c=l.length;p<c;p++)l[p].head,l[p].anchor,l[p].head.ch=l[p].head.ch-s[p].length+e.length,l[p].anchor.ch=l[p].anchor.ch-a.length;o.setSelections(l)}return o.focus(),l},Se=function(e,a){a=a||""===a?a:"\n\n";for(var t=o.listSelections(),n=null,i=null,s=[],l=0,d=t.length;l<d;l++)n=t[l].head,i=t[l].anchor,n.ch>0&&i.ch>0?s.push(a+e):s.push(e);o.replaceSelections(s),o.focus()},Be=function(e){for(var a=0,t=e.length;a<t;a++)e[a].head.ch=e[a].head.ch,e[a].anchor.ch=e[a].anchor.ch;o.setSelections(e),o.focus()},Te=function(t,n){var i=["ff4753","f20257","8e24aa","5e35b1","2b91e3","00acc1","43a047","fdd835","f4511e","6d4c41","546e7a","757575","ffe9ec","fde3e9","f3e5f5","ede7f6","e3f2fd","e0f7fa","e8f5e9","fff8e1","fbe9e7","efebe9","eceff1","fff","ec7379","f05f9c","ba68c8","9575cd","64b5f6","4dd0e1","aed581","ffd54f","ff8a65","a1887f","90a4ae","b1b1b1","f3423d","ea1e6c","9c27b0","673ab7","2196f3","00bcd4","8bc34a","ffc107","ff5722","795548","607d8b","616161","d93330","c41a63","7b1fa2","512da8","1976d2","0097a7","689f38","ffa000","e64a19","5d4037","455a64","424242","b71b22","8c0e56","4a148c","311b92","0d47a1","006064","33691e","ff6f00","bf360c","3e2723","263238","212121"],o=localStorage.getItem("history_colorpane_"+n);o=o?o.split(","):[],w.clear();var s="";w.append('<dl class="'+a+'_colorpanel clearfix">');for(var l=0,d=i.length-1;l<=d;l++)0==l&&w.append('<dt>常用颜色</dt><dd class="clearfix">'),w.append('<em data-color="'+i[l]+'"><s style="background:#'+i[l]+"; border-color:#"+i[l]+';"></s></em>'),l==d&&w.append("</dd>");for(var l=0,d=o.length-1;l<=d;l++)0==l&&w.append('<dt>使用历史</dt><dd class="clearfix">'),w.append('<em data-color="'+o[l]+'"><s style="background:#'+o[l]+"; border-color:#"+o[l]+';"></s></em>'),l==d&&w.append("</dd>");return w.append("</dl>"),!!t&&(s=e(w.toString())),s},Me=function(e,a){var t=localStorage.getItem("history_colorpane_"+a);t=t?t.split(","):[],t.unshift(e),t=arr.unique(t),t=t.slice(0,12);var n=t.join(",");localStorage.setItem("history_colorpane_"+a,n)},Ie={def:{h1:function(e){Ce("# ","","一级标题")},h2:function(e){Ce("## ","","二级标题")},h3:function(e){Ce("### ","","三级标题")},h4:function(e){Ce("#### ","","四级标题")},h5:function(e){Ce("##### ","","五级标题")},h6:function(e){Ce("###### ","","六级标题")},bold:function(e){je("**","**","加粗")},italic:function(e){je("*","*","斜体")},strikeThrough:function(e){je("~~","~~","删除线")},firstUpperCase:function(e){for(var a=o.getSelections(),t=o.listSelections(),n=[],i=0,s=a.length;i<s;i++)n.push(a[i].firstUpperCase());o.replaceSelections(n),Be(t)},upperCase:function(e){for(var a=o.getSelections(),t=o.listSelections(),n=[],i=0,s=a.length;i<s;i++)n.push(a[i].toUpperCase());o.replaceSelections(n),Be(t)},lowerCase:function(e){for(var a=o.getSelections(),t=o.listSelections(),n=[],i=0,s=a.length;i<s;i++)n.push(a[i].toLowerCase());o.replaceSelections(n),Be(t)},quote:function(e){Ce("> ","","引用内容")},orderedList:function(e){Ce("","","有序列表",function(e){for(var a=e.split("\n"),t=0,n=a.length;t<n;t++)a[t]=t+1+". "+a[t];return a.join("\n")},!0)},unorderedList:function(e){Ce("","","无序列表",function(e){for(var a=e.split("\n"),t=0,n=a.length;t<n;t++)a[t]="- "+a[t];return a.join("\n")},!0)},hr:function(e){for(var a=o.listSelections(),t=null,n=null,i=[],s=0,l=a.length;s<l;s++)t=a[s].head,n=a[s].anchor,t.ch>0&&n.ch>0?i.push("\n\n---\n"):i.push("---\n");o.replaceSelections(i)},undo:function(){o.undo()},repeat:function(){o.redo()},fullView:function(e){!q.hasClass("editor_fullView")&&(ve=WIN.scrollTop()),HTML.toggleClass("editor_fullView"),q.toggleClass("editor_fullView"),q.hasClass("editor_fullView")?(ce.hide(),ue.show()):(ce.show(),ue.hide(),WIN.scrollTop(ve)),setTimeout(O,400)},fullScreenView:function(){!e.utils.Fullscreen.isEnable(BODY)&&(_e=WIN.scrollTop()),e.utils.Fullscreen.isEnable(BODY)?(me.show(),he.hide(),pe.show(),e.utils.Fullscreen.disable(BODY),HTML.removeClass("editor_fullView"),q.removeClass("editor_fullView editor_fullscreen"),WIN.scrollTop(_e)):(me.hide(),he.show(),pe.hide(),e.utils.Fullscreen.enable(BODY),HTML.addClass("editor_fullView"),q.addClass("editor_fullView editor_fullscreen"),_e=WIN.scrollTop()),setTimeout(O,400)}},popover:{textcolor:function(t,n){var i=t.find("i:first");t.click(function(){var e=t.data("color");e=e||"000",i.css("background","#"+e),t.data("color",e),je("[color=#"+e+"]","[/color]","文字颜色")});var o=e('<div class="popover bs-popover-bottom editor_popover shadow" role="文字颜色面板"><i class="arrow"></i><div class="popover-body"></div></div>'),s=null,l=null,d=function(){s=o.find(".popover-body"),s.html(Te(!0,"textcolor")),l=s.find("dl."+a+"_colorpanel dd em"),l.click(function(){var a=e(this),n=a.data("color");i.css("background","#"+n),t.data("color",n),Me(n,"textcolor"),je("[color=#"+n+"]","[/color]","文字颜色"),d(),o.hide(),setTimeout(function(){o.show()},200)})};d(),n.append(o)},textbgcolor:function(t,n){var i=t.find("i:first");t.click(function(){var e=t.data("color");e=e||"000",i.css("background","#"+e),t.data("color",e),je("[bgcolor=#"+e+"]","[/bgcolor]","文字背景颜色")});var o=e('<div class="popover bs-popover-bottom editor_popover shadow" role="文字背景面板"><i class="arrow"></i><div class="popover-body"></div></div>'),s=null,l=null,d=function(){s=o.find(".popover-body"),s.html(Te(!0,"bgcolor")),l=s.find("dl."+a+"_colorpanel dd em"),l.click(function(){var a=e(this),n=a.data("color");i.css("background","#"+n),t.data("color",n),Me(n,"bgcolor"),je("[bgcolor=#"+n+"]","[/bgcolor]","文字背景颜色"),d(),o.hide(),setTimeout(function(){o.show()},200)})};d(),n.append(o)},table:function(n,o){var s=function(e,a,t){var n="";switch(t){case"left":t=":-";break;case"center":t=":-:";break;case"right":t="-:";break;default:t="-"}e=e||1,a=a||1,e++;for(var i,o=0;o<e;o++){for(var s=0;s<=a;s++)n+=0==o?"|T"+(s+1):1==o?"|"+t:"| ";i=new RegExp("(\\| |\\|"+t+"|\\|T\\d+)$"),n=n.replace(i,"|"),n+="\n"}Se(n)};!function(t){var n=e('<div class="popover bs-popover-bottom editor_popover editor_popover_table shadow" role="插入表格"><i class="arrow"></i><h3 class="popover-header">插入表格</h3><div class="popover-body"></div></div>'),i=n.find(".popover-header:first"),o=null,l=function(t){for(var n='<div class="'+a+'_tablepanel clearfix">',i=0;i<8;i++)for(var o=0;o<10;o++)n+='<i data-posx="'+o+'" data-posy="'+i+'"></i>';return n+="</div>",t?n:e(n)}(),d=l.find("i");!function(){o=n.find(".popover-body"),o.html(l);var a=1,t=1;d.hover(function(){var n=e(this);a=parseInt(n.data("posx")),t=parseInt(n.data("posy"));for(var o=0,s=d.length,l=null;o<s;o++)l=d.eq(o),parseInt(l.data("posx"))<=a&&parseInt(l.data("posy"))<=t&&l.addClass("active");i.text(a+1+" x "+(t+1)+" 表格")},function(){d.removeClass("active")}).click(function(){var i=e(this);a=parseInt(i.data("posx")),t=parseInt(i.data("posy")),s(t+1,a+1),n.hide(),setTimeout(function(){n.show()},200)})}(),t.hover(function(){i.text("插入表格"),d.removeClass("active")}).append(n)}(n),function(a){var n=e('<div class="popover bs-popover-bottom editor_popover editor_popover_table shadow" role="插入表格"><i class="arrow"></i><h3 class="popover-header">插入表格</h3><div class="popover-body"></div></div>'),o=(n.find(".popover-header:first"),n.find(".popover-body:first"));w.clear(),w.append('<form class="form-inline">'),w.append('<div class="form-group">'),w.append('<label for="table-rows-'+i+'">行数：</label>'),w.append('<input id="table-rows-'+i+'" class="form-control mgr6" type="number" min="1" value="1">'),w.append('<label for="table-cols-'+i+'">列数：</label>'),w.append('<input id="table-cols-'+i+'" class="form-control" type="number" min="1" value="1">'),w.append("</div>"),w.append('<div class="form-justify">'),w.append("<label>对齐：</label>"),w.append('<div class="justify-group">'),w.append('<svg viewBox="0 0 1024 1024" class="active" data-justify="default"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyDefault"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="left"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyLeft"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="center"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyCenter"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="right"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyRight"></use></svg>'),w.append("</div>"),w.append("</div>"),w.append("</form>"),w.append('<button type="button" class="dh300">重置</button><button type="button" class="text-primary dh300">插入</button>'),o.append(w.toString());var l=o.find(".form-inline .form-group input"),d=o.find(".form-justify .justify-group svg"),r=o.find("button");d.click(function(){d.removeClass("active"),e(this).addClass("active")}),r.eq(0).click(function(){d.removeClass("active").eq(0).addClass("active"),l.val(1)}),r.eq(1).click(function(){s(l.eq(0).val(),l.eq(1).val(),o.find(".form-justify .justify-group svg.active").data("justify")),n.hide(),setTimeout(function(){n.show()},200)}),a.append(n)}(o)}},dialog:{link:function(e){w.clear(),w.append('<div class="mgb10 input-group">'),w.append('<label class="input-group-addon" for="editor_inplink_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#link"></use></svg></label>'),w.append('<input id="editor_inplink_'+i+'" class="form-control" type="text" placeholder="https://www.example.com/">'),w.append("</div>");var a=Le("link","插入链接",w.toString()),n=(a.find(".modal-body"),a.find("#editor_inplink_"+i)),o=a.find(".modal-footer button"),s=function(){var e=n.val();e=e||"https://www.example.com/",!(e.match("(.*?)://")instanceof Array)&&(e="http://"+e),je("[","]("+e+")","链接标题"),dialog.close(a)};o.eq(1).click(s),n.keyup(function(e){13==e.which&&s()}),e.click(function(){dialog.open(a),setTimeout(function(){n.val("").focus()},400)})},linkquote:function(e){w.clear(),w.append('<div class="mgb10 input-group">'),
    w.append('<label class="input-group-addon" for="linkquote_id_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flag"></use></svg></label>'),w.append('<input id="linkquote_id_'+i+'" class="form-control" type="text" placeholder="链接标记">'),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="linkquote_address_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#link"></use></svg></label>'),w.append('<input id="linkquote_address_'+i+'" type="text" class="form-control" placeholder="链接地址，例如：https://www.example.com/">'),w.append("</div>");var a=Le("linkquote","插入引用链接",w.toString()),n=a.find(".form-control"),s=a.find("#linkquote_id_"+i),l=a.find("#linkquote_address_"+i),d=a.find(".modal-footer button"),r=function(){var e=s.val(),t=l.val();t=t||"https://www.example.com/",!(t.match("(.*?)://")instanceof Array)&&(t="http://"+t),dialog.close(a),e=e||"链接标记";var n=R.scrollTop(),i=je("[","]["+e+"]","链接标题");e&&t&&(o.setCursor(o.lineCount()),o.replaceSelection("\n["+e+"]:"+t)),o.setSelections(i),R.scrollTop(n)};d.eq(1).click(r),n.keyup(function(e){13==e.which&&r()}),e.click(function(){dialog.open(a),setTimeout(function(){n.val(""),s.focus()},400)})},footnotes:function(a){w.clear(),w.append('<div class="mgb10 input-group">'),w.append('<label class="input-group-addon" for="footnotes_name_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#tag"></use></svg></label>'),w.append('<input id="footnotes_name_'+i+'" class="form-control" type="text" placeholder="脚注名称">'),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="footnotes_detailed_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#caption"></use></svg></label>'),w.append('<input id="footnotes_detailed_'+i+'" type="text" class="form-control" placeholder="脚注说明">'),w.append("</div>");var n=Le("linkquote","插入脚注",w.toString()),s=n.find(".form-control"),l=n.find("#footnotes_name_"+i),d=n.find("#footnotes_detailed_"+i),r=n.find(".modal-footer button"),p=function(){dialog.close(n);var a=l.val(),t=d.val();a=a||"脚注名称-"+e.utils.timestamp();var i=R.scrollTop(),s=je("","[^"+a+"]","");o.setCursor(o.lineCount()),o.replaceSelection("\n\n[^"+a+"]:"+(t||"脚注说明")),o.setSelections(s),R.scrollTop(i)};r.eq(1).click(p),s.keyup(function(e){13==e.which&&p()}),a.click(function(){dialog.open(n),setTimeout(function(){s.val(""),l.focus()},400)})},todoList:function(e){w.clear(),w.append('<div class="mgb10 input-group">'),w.append('<span class="input-group-addon"><input type="checkbox" aria-label="待办事项复选框"></span>'),w.append('<input type="text" class="form-control" aria-label="待办事项文本框">'),w.append("</div>"),bodyhtml_tmplate=w.toString();var a,t,n,i=Le("todoList","插入待办事项",bodyhtml_tmplate),s=i.find(".modal-dialog .modal-content .modal-body"),l=i.find(".modal-footer button"),d=function(e){var n=!1,s="",l="",d=o.listSelections(),r=[];a.each(function(e,i){n=t.eq(e).prop("checked"),s=a.eq(e).val(),l+=s?"- ["+(n?"x":" ")+"] "+s+"\n":""}),l="\n"+l;for(var p=0,c=d.length;p<c;p++)r.push(l);o.replaceSelections(r),dialog.close(i)};l.eq(1).click(d),e.click(function(){bodyhtml=bodyhtml_tmplate,bodyhtml+=bodyhtml+=bodyhtml,bodyhtml+='<a class="btnadd primary hand" href="javascript:;"><span>+</span> 新增</a>',s.html(bodyhtml),a=i.find(".form-control"),t=i.find(":checkbox"),n=i.find("a.btnadd:first"),n.click(function(){n.before(bodyhtml_tmplate),a=i.find(".form-control"),t=i.find(":checkbox")}),dialog.open(i),setTimeout(function(){a.eq(0).focus()},400)})},code:function(a){e.utils.loadjs("plugin/codemirror/htmlmixed/core.js",function(){w.clear(),w.append('<div class="dropdown select">'),w.append('<button class="btn btn-primary dropdown-toggle" type="button" id="codetype_'+i+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">代码类型：HTML</button>'),w.append('<div class="dropdown-menu shadow" aria-labelledby="codetype_'+i+'">'),w.append('<span class="dropdown-item active">HTML</span>'),w.append('<span class="dropdown-item">CSS</span>'),w.append('<span class="dropdown-item">LESS</span>'),w.append('<span class="dropdown-item">SASS/SCSS</span>'),w.append('<span class="dropdown-item">Stylus</span>'),w.append('<span class="dropdown-item">JavaScript</span>'),w.append('<span class="dropdown-item">JSON</span>'),w.append('<span class="dropdown-item">XML</span>'),w.append("</div>"),w.append("</div>"),w.append('<textarea class="form-control insert_codebox"></textarea>'),w.append('<label class="checkbox checkbox_primary" for="editor_cb_runcode_'+i+'">'),w.append('<input id="editor_cb_runcode_'+i+'" type="checkbox" data-toggle="checkbox" checked="checked">'),w.append('<span class="checkbox_text">可运行代码</span>'),w.append("</label>");var t=Le("code","插入代码",w.toString(),'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light dh300">清空代码</button><button type="button" class="col btn-light text-primary dh300">插入</button></div>'),n=t.find(".dropdown"),o=n.find("button:first"),s=n.find(".dropdown-menu .dropdown-item"),l=t.find(".insert_codebox:first"),d=t.find("#editor_cb_runcode_"+i),r=t.find(".modal-footer button"),p=null;d.radiocheck();var c=function(e){return arr.in_array(e.toLowerCase(),["css","sass/scss","sass","scss","less","stylus"])};s.mousedown(function(a){var t=e(this),n=t.text();s.removeClass("active"),t.addClass("active"),d.prop("disabled",c(n)),o.text("代码类型："+n),codebox.codeMirror.loadmode(p,n)}),r.eq(1).click(function(){p.setValue("")}),r.eq(2).click(function(){var e=p.getOption("codetype").toLowerCase(),a=d.prop("checked")&&!c(e),n=p.getValue();p.setValue(""),Se("```"+("sass"==e||"scss"==e?"sass/scss":e)+(a?":run":"")+"\n"+n+"\n```\n","\n"),dialog.close(t)}),a.click(function(){dialog.open(t),setTimeout(function(){codebox.codeMirror.create(l,"html"),p=l.data("editor")},300),setTimeout(function(){p.focus()},700)})})},formula:function(e){var a='<span class="deftext">此处可预览公式</span>',t="editor_formula_preview_"+i;w.clear(),w.append('<div id="'+t+'_temp" class="editor_formula_preview hide"></div>'),w.append('<div id="'+t+'" class="editor_formula_preview mgb10">'+a+"</div>"),w.append('<textarea class="form-control" placeholder="请在此输入公式代码"></textarea>'),w.append('<label class="checkbox checkbox_primary" for="editor_cb_formula_'+i+'">'),w.append('<input id="editor_cb_formula_'+i+'" type="checkbox" data-toggle="checkbox" checked="checked">'),w.append('<span class="checkbox_text">独占一行</span>'),w.append("</label>");var n=Le("formula","插入数学公式",w.toString()),o=n.find(".editor_formula_preview:last"),s=n.find(".editor_formula_preview:first"),l=n.find("textarea:first"),d=n.find("#editor_cb_formula_"+i),r=n.find(".modal-footer button"),p="$$",c="",u=null;d.radiocheck();var f=function(e){return e.replace(/(\s|)*\\\\(\s|)*/gm,"")},m=function(){c=l.val(),""!==c?(d.prop("checked")?(p="$$",s.text(p+l.val()+p)):(p="$",s.text(p+f(l.val())+p)),mathjax_refresh(t+"_temp")):s.html(a),clearTimeout(u),u=setTimeout(function(){o.html(s.html())},500)};l.keyup(m),d.change(m),r.eq(0).click(function(){l.val(""),s.html(""),o.html(a)}),r.eq(1).click(function(){Se(p+l.val()+p+("$"==p?"":"\n"),"\n\n"),dialog.close(n),l.val(""),s.html(""),o.html(a)}),e.click(function(){dialog.open(n),setTimeout(function(){l.focus()},400)})},flow:function(a){var n='<span class="btn btn-primary btn-sm">此处可预览流程图</span>';w.clear(),w.append('<div class="flowoptions cl">'),w.append("<h6>已选择：起始框</h6>"),w.append('<div class="input-group hide">'),w.append('<label class="input-group-addon" for="editor_flow_namelist_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_namelist"></use></svg></label>'),w.append('<div class="form-control pd6">'),w.append('<select id="editor_flow_namelist_'+i+'"></select>'),w.append("</div>"),w.append("</div>"),w.append('<ul class="flowtoolbar cl">'),w.append('<li class="active" data-toggle="tooltip" data-placement="top" data-container="body" title="起始框" data-type="start"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_start_or_end"></use></svg></li>'),w.append('<li data-toggle="tooltip" data-placement="top" data-container="body" title="执行处理框" data-type="operation"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_operation"></use></svg></li>'),w.append('<li data-toggle="tooltip" data-placement="top" data-container="body" title="子执行处理框" data-type="subroutine"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_subroutine"></use></svg></li>'),w.append('<li data-toggle="tooltip" data-placement="top" data-container="body" title="条件判断框" data-type="condition"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_condition"></use></svg></li>'),w.append('<li data-toggle="tooltip" data-placement="top" data-container="body" title="输入输出框" data-type="inputoutput"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_inputoutput"></use></svg></li>'),w.append('<li data-toggle="tooltip" data-placement="top" data-container="body" title="结束框" data-type="end"><svg width="26" height="26" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#qdfuns_mdeditor_flow_start_or_end"></use></svg></li>'),w.append("</ul>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="editor_flow_name_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#tag"></use></svg></label>'),w.append('<input id="editor_flow_name_'+i+'" class="form-control" type="text" placeholder="流程框名称，一般为英文，就像变量一样">'),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="editor_flow_text_'+i+'"><svg class="mgt3" viewBox="0 0 1024 1024"><use xlink:href="'+t+'#text"></use></svg></label>'),w.append('<input id="editor_flow_text_'+i+'" class="form-control" type="text" placeholder="流程框文本">'),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="editor_flow_inplink_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#link"></use></svg></label>'),w.append('<input id="editor_flow_inplink_'+i+'" class="form-control" type="text" placeholder="可选，案例：https://www.example.com/">'),w.append("</div>"),w.append('<button type="button" class="btn btn-light btn-sm">生成流程框代码并添加到下方代码框</button>'),w.append("</div>"),w.append('<textarea class="form-control mgb10" placeholder="请在此输入流程图代码"></textarea>'),w.append('<div class="editor_flow_preview preview_tip">'+n+"</div>");var o=Le("flow","插入流程图",w.toString(),'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light dh300">清空代码</button><button type="button" class="col btn-light text-primary dh300">插入</button></div>'),s=null,l=!1,d=o.find(".editor_flow_preview:first"),r=(d.find(".btn:first"),o.find(".input-group")),p="",c="",u="",f="",m=o.find(".flowtoolbar:first li"),h=null,v=o.find("h6:first"),_=o.find("#editor_flow_namelist_"+i),g="",b=o.find("#editor_flow_name_"+i),k=o.find("#editor_flow_text_"+i),y=o.find("#editor_flow_inplink_"+i),x=new StringBuffer,q=o.find(".flowoptions:first button:first"),C=o.find("textarea:first"),j=o.find(".modal-footer button");C.autoheight({maxHeight:3e3}),m.tooltip(),m.click(function(){var a=e(this);m.removeClass("active"),a.addClass("active"),v.text("已选择："+a.attr("data-original-title"))});var S=function(e){l=!0,q.addClass("btn-danger").removeClass("btn-light").text(e),setTimeout(function(){q.addClass("btn-light").removeClass("btn-danger").text("生成流程框代码并添加到下方代码框"),l=!1},2500)},B=function(e){x.clear();var a=e.match(/.*\=\>\w*/gm);a=a||[],x.append('<option value="0">请选择，被链接流程框名称</option>');for(var t=0,n=a.length;t<n;t++)a[t]=a[t].split("=>"),"condition"==a[t][1]?(x.append('<option value="'+a[t][0]+'(yes)">'+a[t][0]+"（条件成立）</option>"),x.append('<option value="'+a[t][0]+'(no)">'+a[t][0]+"（条件不成立）</option>")):x.append('<option value="'+a[t][0]+'">'+a[t][0]+"</option>");x.length>1?r.eq(0).removeClass("hide"):r.eq(0).addClass("hide"),_.html(x.toString())},T=function(){p=C.val(),C.focus()},M=function(){p=c=u="",b.val(""),k.val(""),y.val(""),d.removeClass("errorflow").addClass("preview_tip").html(n),r.eq(0).addClass("hide"),_.html(""),m.removeClass("active").eq(0).addClass("active"),C.val("").focus(),v.text("已选择：启始框")};q.click(function(){d.removeClass("errorflow");var a=b.val(),t=k.val(),n=y.val();if(!l)if(e.utils.empty(a))S("流程框名称是必填项");else if(e.utils.empty(t))S("流程框文本是必填项");else{if(!e.utils.empty(n)&&!(n.match("(.*?)://")instanceof Array)&&(n="http://"+n),(""==(g=_.val())||0==g)&&_.find("option").length>0&&!_.hasClass("hide"))return S("请选择，被链接流程框名称"),!1;h=o.find(".flowtoolbar:first li.active:first"),f=h.data("type"),f=arr.in_array(f,["start","operation","subroutine","condition","inputoutput","end"])?f:"start",c+=a+"=>"+f+": "+t+(n?":>"+n:"")+"\n",u+=(""!=g||0!=g)&&_.find("option").length>0?g+"->"+a+"\n":"",b.val(""),k.val(""),y.val("");try{p=c+"\n"+u,p=p.replace(/\n$/,""),B(p),C.val(p),T(),d.removeClass("preview_tip").html(""),flowcharts.create(d,p,12,1.5,20,10)}catch(e){d.addClass("preview_tip").html('<span class="btn btn-danger btn-sm">流程图不完整或语法错误</span>')}}}),C.keyup(function(){clearTimeout(s),s=setTimeout(function(){var a=C.val();try{e.utils.empty(a)?M():(B(a),d.removeClass("preview_tip").html(""),flowcharts.create(d,a,12,1.5,20,10),T())}catch(e){d.addClass("preview_tip").html('<span class="btn btn-danger btn-sm">流程图不完整或语法错误</span>')}},500)}).on("paste",function(){setTimeout(function(){T()},100)}),j.eq(1).click(M),j.eq(2).click(function(){Se("```flow\n"+p+"\n```\n","\n"),dialog.close(o),M()}),a.click(function(){dialog.open(o),setTimeout(function(){C.focus()},400)})},sequence:function(a){var t='<span class="btn btn-primary btn-sm">此处可预览序列图</span>';w.clear(),w.append('<div class="editor_sequence_preview preview_tip mgb10">'+t+"</div>"),w.append('<textarea class="form-control" placeholder="请在此输入序列图代码"></textarea>');var n=Le("sequence","插入序列图",w.toString(),'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light dh300">清空代码</button><button type="button" class="col btn-light text-primary dh300">插入</button></div>'),i=n.find(".editor_sequence_preview:first"),o=n.find("textarea:first"),s=n.find(".modal-footer button");o.autoheight({maxHeight:3e3}),o.keyup(function(){var a=o.val();try{e.utils.empty(a)?i.html(t):(i.html(""),sequence.create(i,a))}catch(e){i.addClass("preview_tip").html('<span class="btn btn-danger btn-sm">序列图不完整或语法错误</span>')}}),s.eq(1).click(function(){i.html(t),o.val("")}),s.eq(2).click(function(){Se("```sequence\n"+o.val()+"\n```\n","\n"),dialog.close(n)}),a.click(function(){dialog.open(n),setTimeout(function(){o.focus()},400)})},picture:function(a){if(!d)return!1;var n=d.split(",");w.clear(),w.append('<ul class="pdl15 nav nav-tabs" role="tablist">'),w.append('<li class="nav-item"><a class="nav-link active" role="tab" data-toggle="tab" aria-controls="#editor_dialog_picture_upload_'+i+'" aria-expanded="false" href="#editor_dialog_picture_upload_'+i+'">上传</a></li>'),w.append('<li class="nav-item"><a class="nav-link" role="tab" data-toggle="tab" aria-controls="#editor_dialog_picture_link_'+i+'" aria-expanded="false" href="#editor_dialog_picture_link_'+i+'">远程</a></li>'),w.append("</ul>");var o=e(w.toString()),s=e('<div class="tab-content"></div>');w.clear(),w.append('<div id="editor_dialog_picture_upload_'+i+'" role="tabpanel" class="tab-pane active" aria-labelledby="上传本地图片">'),w.append('<i data-toggle="ajaxupload" '),w.append('data-filetype="picture" '),w.append('data-operation="insert" '),w.append('data-maxheight="280" '),w.append('data-thumbsize="130,130" '),w.append('data-reqname="'+n[0]+'" '),w.append('data-dowhat="'+l+'" '),w.append('data-filenum="'+parseInt(n[1])+'" '),w.append('data-filesize="'+1024*parseInt(n[2])+'" '),w.append('data-inc="'+n[3]+'" '),w.append('data-do="'+n[4]+'" '),!!n[5]&&w.append('data-channel="'+n[5]+'" '),w.append('data-picext="thumb!/max/130">正在初始化，请稍后...</i>'),w.append("</div>");var r=e(w.toString());w.clear();var c=w.append('<div id="editor_dialog_picture_link_'+i+'" role="tabpanel" class="tab-pane" aria-labelledby="插入远程图片">');w.append('<div class="form-justify">'),w.append("<label>对齐方式：</label>"),w.append('<div class="mgb10 justify-group">'),w.append('<svg viewBox="0 0 1024 1024" class="active" data-justify="left"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyLeft"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="center"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyCenter"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="right"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyRight"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="left textwrap"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyLeftTextWrap"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="right textwrap"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyRightTextWrap"></use></svg>'),w.append("</div>"),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" for="linkquote_address_'+i+'"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#link"></use></svg></label>'),w.append('<div class="picture_url_box"><input type="text" class="picture_url form-control" placeholder="远程图片地址，例如：https://www.example.com/demo.jpg" aria-label="远程图片地址"/></div>'),w.append('<input type="number" class="picture_width form-control" min="15" max="1920" placeholder="auto" aria-label="图片宽度" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="原宽度：既图片原始宽度，最小16px"/>'),w.append('<input type="number" class="picture_height form-control" min="15" max="1080" placeholder="auto" aria-label="图片高度" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="原高度：既图片原始高度，最小16px"/>'),w.append('<div class="picture_title_box"><input type="text" class="picture_title form-control" placeholder="好的图片描述，有利于搜索引擎，提高曝光率" aria-label="好的图片描述，有利于搜索引擎，提高曝光率"/></div>'),w.append("</div>"),w.append("</div>");var c=e(w.toString()),u='<div id="editor_dialog_picture_bag_'+i+'" role="tabpanel" class="tab-pane" aria-labelledby="从图片库中选择"></div>';s.append(r),s.append(c),s.append(u);var f=Le("picture","插入图片",s),m=(f.find(".modal-dialog:first"),f.find(".modal-header:first"));m.addClass("pdl0 pdr0"),m.append(o),m.find(".modal-title:first").remove();var v=f.find(".modal-footer:first");v.hide(),f.find("[data-toggle=tooltip]").tooltip(),f.find("[data-toggle=popover]").popover();var _=c.find(".justify-group svg"),g=c.find(".picture_width:first,.picture_height:first"),b=g.eq(0),y=g.eq(1),x=c.find(".picture_title:first"),q=c.find(".picture_url:first"),C="",j="",S=v.find("button"),B=function(){_.removeClass("active").eq(0).addClass("active"),b.val(""),y.val(""),x.val(""),q.val("")};_.click(function(){_.removeClass("active"),e(this).addClass("active")});var T=function(){var a=e(this),t=a.val();a.val(t<16?"":t)},M=function(e,a){var t=e.val(),n=a.val();return t=!/\d*/.test(t)||t<16?"auto":t,n=!/\d*/.test(n)||n<16?"auto":n,[t,n]};g.change(T).blur();var I=function(){C=c.find(".form-justify .justify-group svg.active").data("justify")},L=function(a){I();var t=null,i=M(b,y),o=x.val(),s=q.val();j=o||"图片描述","left"!=C&&(j+="|"+C),"auto"!=i[0]&&"auto"!=i[1]&&(j+="|"+i[0]+" x "+i[1]),s&&e.utils.button_tip.check(a)&&(HTML.data("init")(),t={mod:"upload",inc:n[3],do:"editor_pics",ajaxsub:!0,formhash:formHash,randoms:Math.random()},t["memberid_"+formHash]=e.utils.urlencode(MEMBER_ID),t["picspath_"+formHash]=e.utils.urlencode(s),t["dowhat_"+formHash]=l,!!n[5]&&(t["channel_"+formHash]=n[5]),e.ajax({type:"POST",cache:!1,url:"/ajax.php",dataType:"json",data:e.param(t),beforeSend:function(){e.utils.button_tip.set(a,!0,"下载中...")},success:function(e){Se(1==e.state?"!["+j+"](attimg://"+e.path.replace(/^(extend\/)/,"")+")":"!["+j+"]("+s+")"+(/^(left\s|right\s|)textwrap(left\s|right\s|)$/.test(C)?"":"\n"))},complete:function(){e.utils.button_tip.reset(a),setTimeout(function(){dialog.close(f)},600)},error:function(){Se("!["+j+"]("+s+")"+(/^(left\s|right\s|)textwrap(left\s|right\s|)$/.test(C)?"":"\n"))}})),B()};S.eq(0).click(B),S.eq(1).click(function(){c.hasClass("active")?L(e(this)):r.hasClass("active")||u.hasClass("active")}),o.find("li").on("shown.bs.tab",function(e){r.hasClass("active")?v.hide():c.hasClass("active")?v.show():u.hasClass("active")&&v.hide()});var E=r.find("[data-toggle=ajaxupload]:first");E.data("insert_callback",function(e){var a=e.find(".pic_insert:first").data("insert_path");Se("![图片描述](attimg://"+a.replace(/^(extend\/)/,"")+")")});var A=a.data("attach_post");A=A||[],E.data("post_target_elem",a);var $=function(){a.data("used_attach_onece")||(a.data("used_attach_onece",!0),k=setInterval(function(){if(h){clearInterval(k);for(var t=0,n=h.length;t<n;t++)A.push({md5:h[t].aid,isimage:h[t].isimage,path:h[t].attachment});a.data("attach_post",A),E.data("used_attach_data",h),e.utils.loadcss("plugin/ajax_upload",function(){e.utils.loadjs("plugin/ajax_upload/core.js",function(){E.ajaxUpload()})})}},1e3))};p&&function(){var e=setInterval(function(){h.length>0&&(clearInterval(e),a.addClass("used_attach_data_new"))},1e3)}(),a.click(function(){a.removeClass("used_attach_data_new"),dialog.open(f),$(),setTimeout(function(){q.focus()},400)})},attachment:function(a){if(!r)return!1;var t=r.split(",");w.clear(),w.append('<i data-toggle="ajaxupload" '),w.append('data-filetype="zip" '),w.append('data-operation="insert" '),w.append('data-maxheight="!300" '),w.append('data-reqname="'+t[0]+'" '),w.append('data-dowhat="'+l+'" '),w.append('data-filenum="'+parseInt(t[1])+'" '),w.append('data-filesize="'+1024*parseInt(t[2])+'" '),w.append('data-inc="'+t[3]+'" '),w.append('data-do="'+t[4]+'"'),!!t[5]&&w.append('data-channel="'+t[5]+'"'),w.append(">正在初始化，请稍后...</i>");var n=e(w.toString()),i=Le("attachment","插入附件",n,"no");i.find(".modal-body").addClass("pdt10"),i.hover(function(e){e.stopPropagation()},function(e){e.stopPropagation()});var o=(i.find(".modal-dialog:first"),n);o.data("insert_callback",function(e){var a=e.find(".file_insert:first").data("aid");Se("[附件描述](attach://"+a+")")});var s=a.data("attach_post");s=s||[],o.data("post_target_elem",a);var d=function(){a.data("used_attach_onece")||(a.data("used_attach_onece",!0),k=setInterval(function(){if(v){clearInterval(k);for(var t=0,i=v.length;t<i;t++)s.push({md5:v[t].aid,isimage:v[t].isimage,path:v[t].attachment});a.data("attach_post",s),o.data("used_attach_data",v),e.utils.loadcss("plugin/ajax_upload",function(){e.utils.loadjs("plugin/ajax_upload/core.js",function(){n.ajaxUpload()})})}},1e3))};p&&function(){var e=setInterval(function(){v.length>0&&(clearInterval(e),a.addClass("used_attach_data_new"))},1e3)}(),a.click(function(){d(),a.removeClass("used_attach_data_new"),dialog.open(i)})},video:function(a){e('<div class="tab-content"></div>');w.clear(),w.append('<div class="form-justify mgb15">'),w.append("<label>对齐方式：</label>"),w.append('<div class="justify-group">'),w.append('<svg viewBox="0 0 1024 1024" class="active" data-justify="left"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyLeft"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="center"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyCenter"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="right"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyRight"></use></svg>'),w.append("</div>"),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="选中后，为自动播放模式">'),w.append('<input id="video-isauto_'+i+'" type="checkbox" aria-label="是否自动播放">'),w.append("</label>"),w.append('<input type="number" class="video_width form-control" min="300" max="1920" value="600" placeholder="宽度" aria-label="视频宽度" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="视频宽度">'),w.append('<input type="number" class="video_height form-control" min="225" max="1080" value="400" placeholder="高度" aria-label="视频高度" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="视频高度">'),w.append('<div class="video_url_box"><input type="text" class="video_url form-control" placeholder="https://v.youku.com/v_show/id_XMTg0NzcyODg1Mg==.html" aria-label="远程视频地址" data-toggle="tooltip" data-placement="top" data-container="body" data-html="true" data-trigger="hover" title="目前支持：A站，B站，优酷，土豆，腾讯视频，乐视、音悦Tai和浏览器支持HTML5的视频格式(如MP4、MPEG4、WebM等)<br/>注意：A站和土豆不支持HTTPS协议，可能会导致视频无法播放。"></div>'),w.append("</div>");var n=Le("video","插入视频",w.toString());n.find("[data-toggle=tooltip]").tooltip();var o=n.find(".input-group:first"),s=o.find("#video-isauto_"+i),l=n.find(".form-justify:first"),d=l.find(".justify-group svg"),r=n.find(".video_width:first"),p=n.find(".video_height:first"),c=n.find(".video_url:first"),u=n.find(".modal-footer button"),f=0,m=0,h="",v="",_=function(){d.removeClass("active").eq(0).addClass("active"),s.prop("checked",!1),r.val(600),p.val(400),c.val("")};d.click(function(){d.removeClass("active"),e(this).addClass("active")}),u.eq(0).click(_),u.eq(1).click(function(){h=l.find(".justify-group svg.active").data("justify"),f=parseInt(r.val()),m=parseInt(p.val()),f=!/\d*/.test(f)||f<300?300:f,m=!/\d*/.test(m)||m<225?225:m,v=f+","+m+("left"==h?"":","+h)+(s.prop("checked")?",auto":""),Se("[video="+v+"]("+c.val()+")\n"),dialog.close(n),_()}),a.click(function(){dialog.open(n),setTimeout(function(){c.focus()},400)})},audio:function(a){w.clear(),w.append('<div class="form-justify mgb15">'),w.append("<label>对齐方式：</label>"),w.append('<div class="justify-group">'),w.append('<svg viewBox="0 0 1024 1024" class="active" data-justify="left"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyLeft"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="center"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyCenter"></use></svg>'),w.append('<svg viewBox="0 0 1024 1024" data-justify="right"><use xlink:href="'+t+'#qdfuns_mdeditor_justifyRight"></use></svg>'),w.append("</div>"),w.append("</div>"),w.append('<div class="input-group">'),w.append('<label class="input-group-addon" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="选中后，为自动播放模式">'),w.append('<input id="music-isauto_'+i+'" type="checkbox" aria-label="是否自动播放">'),w.append("</label>"),w.append('<div class="audio-conf">'),w.append('<div class="audio_url_box"><input type="text" class="audio_url form-control" placeholder="远程音频地址，例如：https://www.example.com/demo.mp3" aria-label="远程音频地址" data-toggle="tooltip" data-placement="top" data-container="body" data-html="true" data-trigger="hover" title="HTML5浏览器支持的音频格式(如MP3、WAV和OGG等)<br/>最好是支持HTTPS协议的地址，否则可能会导致视频无法播放。"></div>'),w.append('<input type="text" class="audio_title form-control" placeholder="标题" aria-label="音频名称" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="音频名称">'),w.append('<input type="number" class="audio_volume form-control" min="0" max="100" value="100" placeholder="音量" aria-label="音量" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" title="音量">'),w.append("</div>"),w.append("</div>");var n=Le("audio","插入音频",w.toString());n.find("[data-toggle=tooltip]").tooltip();var o=n.find(".input-group:first"),s=o.find("#music-isauto_"+i),l=n.find(".form-justify:first"),d=l.find(".justify-group svg"),r=n.find(".audio_title:first"),p=n.find(".audio_volume:first"),c=n.find(".audio_url:first"),u=n.find(".modal-footer button"),f="",m=100,h="",v=[],_=function(){d.removeClass("active").eq(0).addClass("active"),s.prop("checked",!1),r.val(""),p.val(100),c.val("")};d.click(function(){d.removeClass("active"),e(this).addClass("active")}),u.eq(0).click(_),u.eq(1).click(function(){v=[],h=l.find(".justify-group svg.active").data("justify"),f=r.val(),m=parseInt(p.val()),m=!/\d*/.test(m)||m<=100?m:100,!!f&&v.push(f),v.push(m),"left"!=h&&v.push(h),s.prop("checked")&&v.push("auto"),Se("[audio="+v.join(",")+"]("+c.val()+")\n"),dialog.close(n),_()}),a.click(function(){dialog.open(n),setTimeout(function(){c.focus()},400)})},emot:function(a){var t=[{title:"QQ表情",key:"qq",path:"qq",size:141,active:!0},{title:"Emoji",key:"emoji",path:"emoji",size:877,names:{people:{title:"表情符号、人物",name:["bowtie","smile","simple_smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"],opened:!0},nature:{title:"自然、动物",
    name:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","crescent_moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"],opened:!1},places:{title:"旅行、地点",name:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"],opened:!1},objects:{title:"物品",name:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"],opened:!1},symbols:{title:"符号",name:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"],opened:!1}},active:!1}],n=e('<ul class="pdl15 nav nav-tabs" role="tablist"></ul>'),o="",s=e('<div class="tab-content"></div>'),l=null,d=null,r=1;w.clear();for(var p=0,c=t.length,u="",f=[];p<c;p++){if(f=t[p],u="editor_dialog_emoticon_"+f.key+"_"+i,o+='<li class="nav-item"><a class="nav-link'+(f.active?" active":"")+'" role="tab" data-toggle="tab" aria-controls="#'+u+'" aria-expanded="false" href="#'+u+'">'+f.title+"</a></li>",l=e('<div id="'+u+'" role="tabpanel" class="tab-pane" aria-labelledby="'+f.title+'"></div>'),d=e('<div class="emots_list"></div>'),r=1,w.clear(),f.names){d=e('<dl class="emots_preview clearfix"></dl>');for(var m in f.names){w.append("<dt>"+f.names[m].title+"</dt>"),w.append('<dd class="dh300'+(f.names[m].opened?" opened":"")+' clearfix">');for(var h=0,v=f.names[m].name,_=v.length;h<_;h++)w.append('<span data-type="'+f.key+'" data-name="'+v[h]+'"><i class="emoticon_'+f.key+" emoticon_"+f.key+"_"+v[h]+'" data-key='+r+"></i></span>"),r++;w.append("</dd>")}}else{d=e('<ul class="emots_preview clearfix"></ul>'),w.append('<li class="clearfix">');for(var h=1,_=f.size;h<_;h++,r++)w.append('<span data-type="'+f.key+'" data-name="'+h+'"><i class="emoticon_'+f.key+" emoticon_"+f.key+"_"+r+'" data-key='+r+"></i></span>");w.append("</li>")}d.append(w.toString()),l.append(d),f.active&&l.addClass("active"),s.append(l)}n.append(o);var g=Le("emots","插入表情",s),b=g.find(".modal-header:first");b.append(n).addClass("pdl0 pdr0"),b.find(".modal-title:first").remove();var k=s.find("dl.emots_preview dt"),y=s.find("dl.emots_preview dd"),x=s.find("dl.emots_preview dd span, ul.emots_preview li span"),q=g.find(".modal-footer button");k.click(function(){var a=e(this).next("dd:first");a.hasClass("opened")?(a.removeClass("opened"),setTimeout(function(){a.height(0)},300)):(a.height(a.data("height")),setTimeout(function(){a.addClass("opened")},300))});var C="";x.click(function(){var a=e(this);a.toggleClass("selected"),a.hasClass("selected")?C+="["+a.data("type")+":"+a.data("name")+"]":C=C.replace("["+a.data("type")+":"+a.data("name")+"]","")}),n.find("a[data-toggle='tab']").one("shown.bs.tab",function(){y.each(function(a,t){var n=e(t);n.data("height",n.height()+5),n.height(n.hasClass("opened")?n.height():0)})}),q.eq(1).click(function(){!!C&&Se(C,""),x.removeClass("selected"),dialog.close(g)}),a.click(function(){dialog.open(g),C="",x.removeClass("selected")})},symbol:function(a){var t=["&#64;","&copy;","&reg;","&trade;","&hearts;","&amp;","&#36;","&cent;","&pound;","&yen;","&euro;","&quot;","&ldquo;","&rdquo;","&lsquo;","&rsquo;","&laquo;","&raquo;","&lsaquo;","&rsaquo;","&sect;","&micro;","&para;","&bull;","&middot;","&hellip;","&#124;","&brvbar;","&ndash;","&mdash;","&curren;","&#33;","&#35;","&#39;","&#40;","&#41;","&#42;","&#43;","&#44;","&#45;","&#46;","&#47;","&#48;","&#49;","&#50;","&#51;","&#52;","&#53;","&#54;","&#55;","&#56;","&#57;","&#58;","&#59;","&#61;","&#63;","&lt;","&gt;","&le;","&ge;","&times;","&divide;","&minus;","&plusmn;","&ne;","&sup1;","&sup2;","&sup3;","&frac12;","&frac14;","&frac34;","&permil;","&deg;","&radic;","&infin;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lceil;","&rceil;","&lfloor;","&rfloor;","&spades;","&clubs;","&hearts;","&diams;","&loz;","&dagger;","&Dagger;","&iexcl;","&iquest;","&#338;","&#339;","&#352;","&#353;","&#376;","&#402;","&not;","&ordf;","&uml;","&macr;","&acute;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&times;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&Iacute;","&icirc;","&iuml;","&#65;","&#66;","&#67;","&#68;","&#69;","&#70;","&#71;","&#72;","&#73;","&#74;","&#75;","&#76;","&#77;","&#78;","&#79;","&#80;","&#81;","&#82;","&#83;","&#84;","&#85;","&#86;","&#87;","&#88;","&#89;","&#90;","&#91;","&#92;","&#93;","&#94;","&#95;","&#96;","&#97;","&#98;","&#99;","&#100;","&#101;","&#102;","&#103;","&#104;","&#105;","&#106;","&#107;","&#108;","&#109;","&#110;","&#111;","&#112;","&#113;","&#114;","&#115;","&#116;","&#117;","&#118;","&#119;","&#120;","&#121;","&#122;","&#123;","&#124;","&#125;","&#126;"];w.clear();for(var n=0,i=t.length;n<i;n++)w.append('<li data-value="'+t[n].replace("&","&amp;")+'">'+t[n]+"</li>");var o=Le("symbol","插入特殊字符",'<ul class="symbol_box clearfix">'+w.toString()+"</ul>"),s=o.find(".symbol_box li"),l=o.find(".modal-footer button"),d="";s.click(function(){var a=e(this);a.toggleClass("selected"),a.hasClass("selected")?d+=a.data("value"):d=d.replace(a.data("value"),"")}),l.eq(1).click(function(){!!d&&Se(d+"\n"),s.removeClass("selected"),dialog.close(o)}),a.click(function(){dialog.open(o),d="",s.removeClass("selected")})},keyboard:function(a){w.clear(),w.append('<div id="keyboard_'+i+'" class="keyboard_area '+("mac"==OSNAME?"mac":"windows")+' select-no dh300 animated animated400">'),w.append('<div class="keyboard_box">'),w.append('<svg class="keyboard_close" viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_keyboard_close"></use>'),w.append("</svg>"),w.append('<div class="keyboard_head">'),w.append('<div class="keyboard_screen dh200">'),w.append('<span class="deftip">点击或按下对应按键即可在此处创建键盘标签</span>'),w.append('<div class="valbar"></div>'),w.append('<button type="button" class="btn btn-danger btn-clear dh200">清空</button>'),w.append('<button type="button" class="btn btn-'+("mac"==OSNAME?"primary":"mystery")+' btn-insert dh200">插入正文</button>'),w.append("</div>"),w.append('<ul class="keyboard_tabs clearfix">'),"mac"==OSNAME?(w.append('<li data-kbdtype="windows">Windows 键盘</li>'),w.append('<li class="active" data-kbdtype="mac">Mac 键盘</li>')):(w.append('<li data-kbdtype="mac">Mac键盘</li>'),w.append('<li class="active" data-kbdtype="windows">Windows键盘</li>')),w.append("</ul>"),w.append("</div>"),w.append('<ul class="keyboard-rows clearfix">'),w.append('<li><a href="javascript:;" class="esc key topfn" data-keycode="27" data-keytext="esc esc"><span>esc</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="112" data-keytext="f1 f1"><span>F1</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="113" data-keytext="f2 f2"><span>F2</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="114" data-keytext="f3 f3"><span>F3</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="115" data-keytext="f4 f4"><span>F4</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="116" data-keytext="f5 f5"><span>F5</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="117" data-keytext="f6 f6"><span>F6</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="118" data-keytext="f7 f7"><span>F7</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="119" data-keytext="f8 f8"><span>F8</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="120" data-keytext="f9 f9"><span>F9</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="121" data-keytext="f10 f10"><span>F10</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="122" data-keytext="f11 f11"><span>F11</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn" data-keycode="123" data-keytext="f12 f12"><span>F12</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn mackey" data-keytext="推出 推出"><span>Eject</span></a></li>'),w.append('<li><a href="javascript:;" class="key topfn winkey" data-keytext="home home"><span>Home</span></a></li>'),w.append("</ul>"),w.append('<ul class="keyboard-rows numbers clearfix">'),w.append('<li><a href="javascript:;" class="key" data-keycode="192" data-keytext="~ `"><b>~</b><span>`</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="49" data-keytext="! 1"><b>!</b><span>1</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="50" data-keytext="@ 2"><b>@</b><span>2</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="51" data-keytext="# 3"><b>#</b><span>3</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="52" data-keytext="$ 4"><b>$</b><span>4</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="53" data-keytext="% 5"><b>%</b><span>5</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="54" data-keytext="^ 6"><b>^</b><span>6</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="55" data-keytext="& 7"><b>&amp;</b><span>7</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="56" data-keytext="* 8"><b>*</b><span>8</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="57" data-keytext="( 9"><b>(</b><span>9</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="48" data-keytext=") 0"><b>)</b><span>0</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="189" data-keytext="_ -"><b>_</b><span>-</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="187" data-keytext="+ ="><b>+</b><span>=</span></a></li>'),w.append('<li><a href="javascript:;" class="delete key mackey" data-keycode="8" data-keytext="delete delete"><span>delete</span></a></li>'),w.append('<li><a href="javascript:;" class="delete key winkey" data-keycode="8" data-keytext="backspace backspace"><span>backspace</span></a></li>'),w.append("</ul>"),w.append('<ul class="keyboard-rows qwerty clearfix">'),w.append('<li><a href="javascript:;" class="tab key" data-keycode="9" data-keytext="tab tab"><span>tab</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="81" data-keytext="q q"><span>q</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="87" data-keytext="w w"><span>w</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="69" data-keytext="e e"><span>e</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="82" data-keytext="r r"><span>r</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="84" data-keytext="t t"><span>t</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="89" data-keytext="y y"><span>y</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="85" data-keytext="u u"><span>u</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="73" data-keytext="i i"><span>i</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="79" data-keytext="o o"><span>o</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="80" data-keytext="p p"><span>p</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="219" data-keytext="{ ["><b>{</b><span>[</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="221" data-keytext="} ]"><b>}</b><span>]</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="220" data-keytext="| \\"><b>|</b><span>\\</span></a></li>'),w.append("</ul>"),w.append('<ul class="keyboard-rows asdfg clearfix">'),w.append('<li><a href="javascript:;" class="caps key alt" data-keycode="20" data-keytext="capslock capslock"><b></b><span>caps lock</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="65" data-keytext="a a"><span>a</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="83" data-keytext="s s"><span>s</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="68" data-keytext="d d"><span>d</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="70" data-keytext="f f"><span>f</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="71" data-keytext="g g"><span>g</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="72" data-keytext="h h"><span>h</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="74" data-keytext="j j"><span>j</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="75" data-keytext="k k"><span>k</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="76" data-keytext="l l"><span>l</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="186" data-keytext=": ;"><b>:</b><span>;</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="222" data-keytext="dquote quote"><b>"</b><span>\'</span></a></li>'),w.append('<li><a href="javascript:;" class="enter key alt mackey" data-keycode="13" data-keytext="enter enter"><b class="text-right">enter</b><span class="text-right">return</span></a></li>'),w.append('<li><a href="javascript:;" class="enter key alt winkey" data-keycode="13" data-keytext="enter enter"><b class="text-right">Enter</b><span>&crarr;</span></a></li>'),w.append("</ul>"),w.append('<ul class="keyboard-rows zxcvb clearfix">'),w.append('<li><a href="javascript:;" class="key shiftleft shift" data-keycode="16" data-keytext="shift shift"><span>Shift</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="90" data-keytext="z z"><span>z</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="88" data-keytext="x x"><span>x</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="67" data-keytext="c c"><span>c</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="86" data-keytext="v v"><span>v</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="66" data-keytext="b b"><span>b</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="78" data-keytext="n n"><span>n</span></a></li>'),w.append('<li><a href="javascript:;" class="key" data-keycode="77" data-keytext="m m"><span>m</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="188" data-keytext="< ,"><b>&lt;</b><span>,</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="190" data-keytext="> ."><b>&gt;</b><span>.</span></a></li>'),w.append('<li><a href="javascript:;" class="key alt" data-keycode="191" data-keytext="? /"><b>?</b><span>/</span></a></li>'),w.append('<li><a href="javascript:;" class="key shiftright shift" data-keycode="16" data-keytext="shift shift"><span>Shift</span></a></li>'),w.append("</ul>"),w.append('<ul class="keyboard-rows bottomrow clearfix">'),w.append('<li><a href="javascript:;" class="fn key mackey" data-keytext="fn fn"><span>fn</span></a></li>'),w.append('<li><a href="javascript:;" class="control key mackey" data-keycode="17" data-keytext="control control"><span>control</span></a></li>'),w.append('<li><a href="javascript:;" class="control key winkey" data-keycode="17" data-keytext="ctrl ctrl"><span>Ctrl</span></a></li>'),w.append('<li><a href="javascript:;" class="optionleft key option mackey" data-keycode="18" data-keytext="option option"><b class="pdr2 text-right">alt</b><span>option</span></a></li>'),w.append('<li><a href="javascript:;" class="commandleft key command winkey" data-keycode="91" data-keytext="windows windows"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#windows"></use></svg></a></li>'),w.append('<li><a href="javascript:;" class="optionleft key option winkey" data-keycode="18" data-keytext="alt alt"><span>Alt</span></a></li>'),w.append('<li><a href="javascript:;" class="commandleft key command mackey" data-keycode="91" data-keytext="cmd cmd"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#command"></use></svg><span>command</span></a></li>'),w.append('<li><a href="javascript:;" class="spacebar key" data-keycode="32" data-keytext="space space"></a></li>'),w.append('<li><a href="javascript:;" class="optionleft key option winkey" data-keycode="18" data-keytext="alt alt"><span>Alt</span></a></li>'),w.append('<li><a href="javascript:;" class="commandright key command mackey" data-keycode="93" data-keytext="cmd cmd"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#command"></use></svg><span>command</span></a></li>'),w.append('<li><a href="javascript:;" class="commandright key command winkey" data-keycode="93" data-keytext="windows windows"><svg viewBox="0 0 1024 1024"><use xlink:href="'+t+'#windows"></use></svg></a></li>'),w.append('<li><a href="javascript:;" class="optionright key option mackey" data-keycode="18" data-keytext="option option"><b class="pdl2 text-left">alt</b><span>option</span></a></li>'),w.append('<li><a href="javascript:;" class="control key winkey" data-keycode="17" data-keytext="ctrl ctrl"><span>Ctrl</span></a></li>'),w.append('<ol class="clearfix">'),w.append('<li><a href="javascript:;" class="left key" data-keycode="37" data-keytext="&larr; &larr;"><span>&larr;</span></a></li>'),w.append("<li>"),w.append('<a href="javascript:;" class="up key" data-keycode="38" data-keytext="&uarr; &uarr;"><span>&uarr;</span></a>'),w.append('<a href="javascript:;" class="down key" data-keycode="40" data-keytext="&darr; &darr;"><span>&darr;</span></a>'),w.append("</li>"),w.append('<li><a href="javascript:;" class="right key" data-keycode="39" data-keytext="&rarr; &rarr;"><span>&rarr;</span></a></li>'),w.append("</ol>"),w.append("</ul>"),w.append("</div>"),w.append("</div>");var n=e(w.toString()),o=n.find(".keyboard_close"),s=n.find(".keyboard_box"),l=n.find(".keyboard_screen"),d=l.find(".valbar"),r=l.find(".btn-clear:first"),p=l.find(".btn-insert:first"),c=s.find(".keyboard_tabs"),u=c.find("li"),f=s.find(".caps"),m=s.find(".shift"),h=s.find("a.key"),v=new StringBuffer,_=!1;n.mouseenter(function(){n.removeClass("open")});var g=function(a){a.stopPropagation();var t=e(this),i=[];n.hasClass("fadeInUp")&&(a.stopPropagation(),a.preventDefault(),_=m.hasClass("keydown"),i=("keyup"==a.type?n.find("[data-keycode="+a.which+"]"):t).data("keytext").split(" "),_=f.hasClass("keydown")?!_:_,i[0]==i[1]?v.append("<kbd>"+(_?i[1].toUpperCase():i[1])+"</kbd>"):v.append("<kbd>"+(_?i[1]:i[0])+"</kbd>"),d.show().html(v.toString("+")))};u.click(function(){var a=e(this),t=a.data("kbdtype");u.removeClass("active"),a.addClass("active"),"mac"==t?(p.removeClass("btn-dark").addClass("btn-primary"),n.removeClass("windows").addClass("mac")):(p.removeClass("btn-primary").addClass("btn-dark"),n.removeClass("mac").addClass("windows"))}),h.click(g),BODY.keydown(function(e){n.hasClass("fadeInUp")&&(e.stopPropagation(),e.preventDefault(),s.find("[data-keycode="+e.which+"]").addClass("keydown"))}).keyup(function(e){n.hasClass("fadeInUp")&&(e.stopPropagation(),e.preventDefault(),s.find("[data-keycode="+e.which+"]").removeClass("keydown"),g(e))}),o.click(function(){n.removeClass("fadeInUp").addClass("fadeOutDown")}),r.click(function(){v.clear(),d.hide().html("")}),p.click(function(){v.length>0&&(Se(v.toString("+")),v.clear(),d.hide().html(""))}),a.click(function(){e("#keyboard_"+i).length<=0&&BODY.append(n),n.hasClass("fadeInUp")?n.removeClass("fadeInUp").addClass("fadeOutDown"):n.removeClass("fadeOutDown").addClass("fadeInUp open")})},import_md:function(a){w.clear(),w.append('<p class="alert alert-warning"><b>注意：</b>当前操作成功后就会覆盖当前编辑器中的数据，请确定是否导出保存或者发表后再进行导入操作。</p>'),w.append('<div class="dragarea">'),w.append('<svg viewBox="0 0 1024 1024">'),w.append('<use xlink:href="'+t+'#qdfuns_mdeditor_import_md"></use>'),w.append("</svg>"),w.append('<p class="dh300" data-text="点击 或 将.md文件拖拽至 此处">点击 或 .md将文件拖拽至 此处</p>'),w.append('<input class="file-input" type="file" accept="text/markdown"/>'),w.append("</div>");var n=Le("import_md","导入已有MarkDown文档",w.toString());n.find(".modal-footer:first").remove();var i=n.find(".modal-body:first"),s=i.find(".dragarea:first"),l=s.find("p:first"),d=s.find("input:first"),r=function(e){var a=e[0],t=new FileReader;"text/markdown"==a.type.toLowerCase()?a.size<=51200?(t.onload=function(){l.addClass("text-primary").text("文件读取中，请稍后..."+a.name),o.setValue(""),o.markClean();var e=this;setTimeout(function(){o.setValue(e.result),l.addClass("text-success").text("已成功导入文件 《"+a.name+"》"),setTimeout(function(){l.removeAttr("class").text(l.data("text")),d.val(""),s.removeClass("hover"),dialog.close(n)},1200)},600)},t.onerror=function(){l.addClass("text-danger").text("文件读取错误"),setTimeout(function(){s.removeClass("hover"),l.removeAttr("class").text(l.data("text")),d.val("")},2e3)},t.readAsText(a)):(l.addClass("text-danger").text("文件过大，影响导入效率，建议文件小于50K"),setTimeout(function(){s.removeClass("hover"),l.removeAttr("class").text(l.data("text")),d.val("")},2e3)):(l.addClass("text-danger").text("非MarkDown文件，请选择正确格式的文件"),setTimeout(function(){s.removeClass("hover"),l.removeAttr("class").text(l.data("text")),d.val("")},2e3))};e.utils.isSupportFileApi()?(d.change(function(){r(this.files)}),s.on("drop",function(e){e.preventDefault(),e.stopPropagation(),r(e.originalEvent.dataTransfer.files)}).on("dragenter",function(){l.addClass("text-primary").text("松开（释放）鼠标，开始导入文件"),s.addClass("hover")}).on("dragleave",function(){l.removeAttr("class").text(l.data("text")),d.val(""),s.removeClass("hover")})):l.attr("data-text","您的浏览器版本，不支持文件导入").text("您的浏览器版本，不支持文件导入"),a.click(function(){dialog.open(n),d.attr("accept","text/markdown")})},export_md:function(a){var t=new Date,n="",i="";w.clear(),w.append('<label for="md_savename">欲保存文件名称<small>（若无法下载保存，可能因为您的浏览器不支持此功能）</small>：</label>'),w.append('<div class="input-group">'),w.append('<input id="md_savename" class="form-control" type="text" value="'+i+'">'),w.append('<span class="input-group-addon">.md</span>'),w.append("</div>");var s=Le("export_md","导出MarkDown文档",w.toString(),'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light text-primary dh300">下载并保存</button></div>'),l=s.find("#md_savename"),d=s.find(".modal-footer button");l.focus(function(){l.select()}),d.eq(1).click(function(){var a=o.getValue();a=a.replace(/^\[toc\][ ]*$/gim,"");var t=document.createElement("a");a=a||"# 无内容 #";try{dialog.close(s),setTimeout(function(){t.href="data:text/markdown;charset=utf8,"+e.utils.urlencode(a),t.download=l.val()+".md",t.click()},300)}catch(e){}}),a.click(function(){x.length>0&&(n=x.val()),i=(n||"无标题")+" "+e.utils.zeroFill(t.getFullYear())+"-"+e.utils.zeroFill(t.getMonth()+1)+"-"+e.utils.zeroFill(t.getDate())+" "+e.utils.zeroFill(t.getHours())+":"+e.utils.zeroFill(t.getMonth())+":"+e.utils.zeroFill(t.getSeconds()),l.val(i),dialog.open(s),setTimeout(function(){l.focus()},400)})},clear:function(e){e.click(function(){o.setValue("")})},localStorage:function(e){e.click(we)}}},Le=function(e,a,t,n,i,s){return e="editor modal-editor-"+e,n=n||"no"==n?n:'<div class="modal-footer row cl"><button type="button" class="col btn-light dh300" data-dismiss="modal">取消</button><button type="button" class="col btn-light text-primary dh300">插入</button></div>',s=!1!==s,dialog.modal(t,a,n,i,s,e,!0,{close:function(){o.focus()}})
},te=0,ne=de.length;te<ne;te++)de.eq(te).click(function(){var a=e(this),t=a.data("edittoolkey");!!Ie.def[t]&&Ie.def[t](a)});if(MEMBER_ID>0){for(var te=0,ne=re.length,Ee=null,Ae="",$e=null,He=null;te<ne;te++)Ee=re.eq(te),Ae=Ee.data("edittoolkey"),$e=Ee.find("span:first"),He=Ee.find("span:last"),!!Ie.popover[Ae]&&Ie.popover[Ae]($e,He);for(var Ae in Ie.dialog)Ie.dialog[Ae](j.find("[data-edittoolkey="+Ae+"]:first"))}try{CodeMirror}catch(e){console.log("还未加载CodeMirror")}var Ve=function(){var a=n.val();!a&&(a=n.data("defval")),n.val(""),o=CodeMirror.fromTextArea(s[0],{theme:"default",styleActiveLine:!0,showCursorWhenSelecting:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:2,smartIndent:!1,tabSize:4,readOnly:!1,maxHighlightLength:"Infinity"}),o.setOption("mode","markdown"),o.setOption("codetype","markdown"),n.data({editor_state:!0,editor:o,clean:function(){o.setValue(""),be()},val:function(){return o.getValue().replace(/^\[toc\][ ]*$/gim,"")}});var t=n.data("event_editor_focus");t&&(t(n,o),o.focus());var l=n.data("event_editor_init");l&&l(o);var d=null;O=function(){clearTimeout(d);var e=j.outerHeight();(MEMBER_ID<=0&&m||m)&&(!!S&&S.css("top",e),!!T&&T.css("top",j.outerHeight())),M.css("top",e),I.css("top",e);var a=M.height();a-=120,M.find(".CodeMirror-lines:first").css("padding-bottom",a),D.css("padding-bottom",a);var t=q.width(),n=q.height();W.css("transform","translate("+(t-W.width()-20)+"px, "+(n-W.height()-20)+"px)"),d=setTimeout(function(){o.refresh()},600)},O(),WIN.on("resize",function(){setTimeout(function(){O()},650)});var r=HTML.data("md_converter_"+i);r||(r=Markdown.getSanitizingConverter(ee.analysis),HTML.data("md_converter_"+i,r),Markdown.Extra.init(r,{extensions:"all",table_class:"table table-bordered"}));var p={heading:{content:convert.md5(convert.md5("[Prefix Markdown Heading content]")+i)},code:{content:convert.md5(convert.md5("[Prefix Markdown Code content]")+i)},quote:{content:convert.md5(convert.md5("[Prefix Markdown Quote content]")+i)},table:{content:convert.md5(convert.md5("[Prefix Markdown Table content]")+i)},list:{content:convert.md5(convert.md5("[Prefix Markdown List content]")+i)},hr:{content:convert.md5(convert.md5("[Prefix Markdown HR content]")+i)}};p.heading.line=new RegExp("(^\\["+p.heading.content+"\\])(.*)"),p.code.line=new RegExp("(^\\["+p.code.content+"\\,(\\d*)\\])(.*)"),p.quote.line=new RegExp("(^\\["+p.quote.content+"\\,(\\d*)\\])(.*)"),p.table.line=new RegExp("(^\\["+p.table.content+"\\,(\\d*)\\])(.*)"),p.hr.line=new RegExp("(^\\["+p.hr.content+"\\,(\\d*)\\])(.*)"),p.list.line=new RegExp("(^\\["+p.list.content+"\\,(\\d*)\\])(.*)");var c=(convert.md5(convert.md5("[Markdown Placeholder content]")+i),[]),u={},f={},h=new StringBuffer,v=function(e){var a=0;return c=[],e=e.replace(/(^```)(.*?$)(\n[\s\S]*?)(^```$)/gm,function(e){return c.push(e),"["+p.code.content+"----------"+a+++"]"})},_=function(e){for(var a=0,t=c.length;a<t;a++)e=e.replace("["+p.code.content+"----------"+a+"]",c[a]);return e},k=function(e){u={footnotes:{},links:{}},h.clear();var a="",t="",n=/^[ ]{0,}(\!|)\[(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n?[ ]{0,}\S)|$)/gm,i=e.match(n),o=[],s=1,l={};for(var d in i)o=i[d].replace(/\s*/g,"").split("]:"),/^\[\^/.test(i[d])?l[o[0].replace(/^\[/g,"")]=o[1]:l[o[0].replace(/\[/g,"")]=o[1];for(var t in l)o=[t,l[t]],/^\^/.test(t)&&ee.analysis.footnotes?u.footnotes[t]=a:(ee.analysis.linkquote||ee.analysis.picture)&&(a=o[1],u.links[t]=a);if(e=C(e),ee.analysis.footnotes)for(var t in u.footnotes)a="["+s+++"] "+x(r.makeHtml(l[t])),u.footnotes[t]=a,h.append('<li><div class="footnote_text" data-inx="'+s+'">'+a+'<a id="fn:'+t+'" href="#fnref:'+t+'" data-toggle="tooltip" data-container="body" title="回到此脚注所在文章位置" class="goback_footnote">&#8617;</a></div></li>');return e},x=function(a){if(!a)return a;var t=/ /,n="",i="",o=[],s="";for(var l in u.links)if(i=u.links[l],t=new RegExp("(\\!\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[("+l+")\\])","gm"),(o=a.match(t))&&o.length>=1&&ee.analysis.picture)for(var d in o)a=o[d].replace(t,function(o,d,r){if(!e.utils.empty(r))return t=new RegExp("(\\!\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[("+l+")\\])"),n=md_createImageTag(r,i),s=convert.md5("quoteImages-"+n),f[s]=n,a=a.replace(t," "+s+" ")});else if(ee.analysis.linkquote){t=new RegExp("(|\\[(.*?)\\])(|\\n)\\[("+l+")\\]","gm"),o=arr.unique(a.replace(/^[ ]{0,}\[.*?\]:[ ]{0,}(\n|).*$/gm,"").match(t));for(var d in o)a=o[d].replace(t,function(o,d,r,p,c){if(!e.utils.empty(r)&&!e.utils.empty(c))return n=md_createLinkTag(r,i),s=convert.md5("quoteLinks-"+n),f[s]=n,t=new RegExp("(\\["+r+"\\](|\\n)\\["+l+"\\])","gm"),a=a.replace(t," "+s+" "),t=new RegExp("\\["+l+"\\]","gm"),a=a.replace(t,"["+s+"]")})}return a},w=function(e){if(!e)return e;var a=1,t=/ /,n="",i="";for(var o in u.footnotes)/^\^/.test(o)&&ee.analysis.footnotes&&(t=new RegExp("\\[\\"+o+"\\]","gm"),o=o.replace(/^\^/,""),n='<sup id="fnref:'+o+'"><a href="#fn:'+o+'" data-toggle="tooltip" data-container="body" title="保存后，在实际页面中，点击快速定位至下方的脚注'+a+'" class="md_footnote">'+a+++"</a></sup>",i=convert.md5("footNotes-"+n),f[i]=n,e=e.replace(t," "+i+" "));return e},C=function(e){return(ee.analysis.footnotes||ee.analysis.linkquote||ee.analysis.picture)&&(f={},(ee.analysis.linkquote||ee.analysis.picture)&&(e=x(e)),ee.analysis.footnotes&&(e=w(e))),e},B=function(e){if(!e)return e;var a=/^[ ]{0,}(\[| )[^\^].*?(\]| ):[ ]{0,}(\n|).*$/gm;if(e=e.replace(a,""),ee.analysis.footnotes||ee.analysis.linkquote||ee.analysis.picture)for(var t in f)a=new RegExp(" "+t+" ","gm"),e=e.replace(a,f[t],!0);return ee.analysis.formula&&mathjax_refresh(D[0]),e},L=function(e){if(h.array.length)for(var a in h.array)h.array[a]=B(h.array[a]);return e=B(e)},E=function(e){return e.replace(/([\s\S]*?)(\n*$)/,function(e,a,t){return a=a.split("\n"),"["+p.table.content+","+a.length+"]"+a.join("\n["+p.table.content+","+a.length+"]")+t})},A=function(e){return ee.analysis.textcolor&&(e=e.replace(/\[color\=([#A-Fa-f\d]{4,7})\]([\s\S].*?)\[\/color\]/g,function(e,a,t){return'<span style="color:'+a+'">'+t+"</span>"})),ee.analysis.textbgcolor&&(e=e.replace(/\[bgcolor\=([#A-Fa-f\d]{4,7})\]([\s\S].*?)\[\/bgcolor\]/g,function(e,a,t){return'<span style="background-color:'+a+'">'+t+"</span>"})),e},$=function(e){return/(^```)(.*?$)(\n[\s\S]*?)(^```$)/gm.test(e)?r.makeHtml(e):/^[ ]{0,3}[|](.+)\n[ ]{0,3}[|]([ ]*[-:]+[-| :]*)\n((?:[ ]*[|].*\n?)*)(?:\n|$)/gm.test(e)?(e=L(e),r.makeHtml(e)):/(\$\$)([\s\S]*?)(\$\$)[ \t]*/gm.test(e)?(e=e.replace(/(\$\$)([\s\S]*?)(\$\$)[ \t]*/gm,function(e,a){return e='<p class="mathjax_block">'+e+"</p>"}),e):(/(\$)([\s\S]*?)(\$)[ \t]*/gm.test(e)&&(e=e.replace(/(\$)([\s\S]*?)(\$)[ \t]*/gm,function(e,a){return e='<span class="mathjax_block">'+e+"</span>"})),e=v(e),(ee.analysis.footnotes||ee.analysis.linkquote||ee.analysis.picture)&&(e=L(e)),e=r.makeHtml(e),e=A(e),e=_(e))},H=function(){var a=o.getValue(),t=e.utils.getStrLength(a);t>y?(J.addClass("wordcount_error"),Q.data("num",t).text("已超："+(t-y)+" 字")):(J.removeClass("wordcount_error"),Q.data("num",t).text(t)),a+="\n",a=v(a),a=k(a),a=a.replace(/^\n[ ]{0,2}([ ]?-[ ]?){1,}[ \t]*$/gm,"\n["+p.hr.content+",1]-----"),a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"*****"),a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"-----"),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"_____"),a=_(a),a=a.replace(/(^```)(.*?$)(\n[\s\S]*?)(^```$)/gm,function(e,a,t,n,i){return n=n.split("\n"),a="["+p.code.content+","+n.length+"]"+a+t,n=n.join("\n["+p.code.content+","+n.length+"]"),a+n+i}),a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,a){return a.replace(/([\s\S]*?)(\n*$)/,function(e,a,t){return a=a.split("\n"),"["+p.quote.content+","+a.length+"]"+a.join("\n["+p.quote.content+","+a.length+"]")+t})}),a=a.replace(/^[ ]{0,3}[|](.+)\n[ ]{0,3}[|]([ ]*[-:]+[-| :]*)\n((?:[ ]*[|].*\n?)*)(?:\n|$)/gm,E),a=a.replace(/^[ ]{0,3}(\S.*[|].*)\n[ ]{0,3}([-:]+[ ]*[|][-| :]*)\n((?:.*[|].*\n?)*)(?:\n|$)/gm,E),a=a.replace(/^[ \t]*([\*\+\-]|\d+\.)[ \t].*(\n|([ \t\*\+\-]|[ \d]).*?\n)*/gm,function(e){return e.replace(/([\s\S]*?)(\n*$)/,function(e,a,t){return a=a.split("\n"),"["+p.list.content+","+a.length+"]"+a.join("\n["+p.list.content+","+a.length+"]")+t})}),a=a.replace(/^#{1,6}(.*?)(|#{1,6})$/gm,function(e){return"["+p.heading.content+"]"+e}),a=a.replace(/(\n$)/,"");for(var n=a.split("\n"),i=0,s=1,l=0,d=0,r=n.length,c="";i<r;i++,s++)l=s,d=i,c=n[i],p.heading.line.test(c)?c.replace(p.heading.line,function(e,a,t){n[i]=["heading",l,l,t]}):p.code.line.test(c)?c.replace(p.code.line,function(e,a,t,o){t=parseInt(t),n[i]=["code",l,d+t,o]}):p.quote.line.test(c)?c.replace(p.quote.line,function(e,a,t,o){t=parseInt(t),n[i]=["quote",l,d+t,o]}):p.table.line.test(c)?c.replace(p.table.line,function(e,a,t,o){t=parseInt(t),n[i]=["table",l,d+t,o]}):p.list.line.test(c)?c.replace(p.list.line,function(e,a,t,o){t=parseInt(t),n[i]=["list",l,d+t,o]}):p.hr.line.test(c)?c.replace(p.hr.line,function(e,a,t,o){t=parseInt(t),n[i]=["hr",l,l,o]}):/(\[video(|\s)\=(|\s)(\d+|auto)\,(|\s)(\d+)(|\,(|\s)*(left|center|right))(|\,(|\s)*(auto))\][ ]*\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g.test(c)?n[i]=["video",l,l,c]:/\[(audio)(|\s)\=(|\s)(.*?)\][ ]*\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\)/g.test(c)?n[i]=["audio",l,l,c]:n[i]=["p",l,l,c],l=0,d=0;for(var i=0,s=n.length,u=0,f=0;i<s;)if("p"==n[i][0]&&n[i][3]){u=i+1;do{i++}while(i<s&&"p"==n[i][0]&&n[i][3]);f=i,i=u-1;do{n[i][1]=u,n[i][2]=f,i++}while(i<s&&"p"==n[i][0]&&n[i][3])}else i++;return n},V=function(e){for(var a=[],t=0,n=0,i=e.length,o=[],s=[],l="";n<i;)if(o=e[n],o[1]==o[2])l=o[3],!!l&&a.push({sn:o[1],en:o[2],md5:convert.md5(l+n+i),text:l}),n++;else if(o[1]<o[2]){l="",s=e.slice(o[1]-1,o[2]),t=s.length;for(var d=0;d<t;d++)s[d]=s[d][3];l=s.join("\n"),t+=n,!!l&&a.push({sn:n+1,en:t,md5:convert.md5(l+n+i),text:l}),n=t}return a},z=function(e,a,t,n){return n=ee.analysis.footnotes?n.replace(/^\s{0,}\[.*?\]\:\s{0,}.*?$/gm,""):n,'<div data-start="'+e+'" data-end="'+a+'" data-limit="'+e+","+a+'" data-md5="'+t+'">'+$(n)+"</div>"},P=null,U=[],N=[],Y=[],G=[],K=function(a){for(var t=null,n=null,i=null,o={},s={},l=0,d=a.length;l<d;l++)o=a[l],n=D.find(" > [data-limit='"+o.sn+","+o.en+"'][data-md5='"+o.md5+"']:first"),n.length<=0&&(i=e(z(o.sn,o.en,o.md5,o.text)),!!t&&t.length>0&&!!i&&i.length>0&&t.after(i),i=null),D.find(" > [data-limit='"+o.sn+","+o.en+"'][data-md5='"+o.md5+"']:gt(0)").remove(),s[o.md5]=!0,t=n;o=!1},X=function(){for(var e=(D.find(" > div[data-limit]"),null),a=0,t=0,n=null,i=0,o=0,s=0,l=D.length;s<l;s++)e&&e.length>0&&(a=parseInt(e.data("start")),t=parseInt(e.data("end")),i=parseInt(n.data("start")),o=parseInt(n.data("end")),(a<=i||t<=o)&&n.remove())},Z=function(e,a){var t=e.length-a.length;e=V(e),Y=a=V(a);e.length>a.length?e.length:a.length;if(t<=0)for(var n=0,i=0,o={},s=e.length,l={},d=a.length,r=null;n<s||i<d;){if(o=e[n],l=a[i],t<=0&&n<s&&l&&o.md5!=l.md5&&o.text==l.text?(r=D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5})):t<=0&&n>=s&&i<d&&!o&&l&&e[n-1]&&e.length>1&&n<i&&(r=D.find(' > [data-limit="'+e[n-1][0]+","+e[n-1][1]+'"][data-md5="'+e[n-1][2]+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5})),t<=0&&n<s&&s==d&&o.md5!=l.md5&&o.text!=l.text)r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text));else{if(t<=0&&n<s&&s<d&&o.md5!=l.md5&&o.text!=l.text){if(0==n){r?(r.after(z(l.sn,l.en,l.md5,l.text)),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"][data-md5="'+l.md5+'"]:first'),Math.abs(s-d)<=i&&n++):(D.prepend(z(l.sn,l.en,l.md5,l.text)),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"][data-md5="'+l.md5+'"]:first')),o.sn<=l.sn&&o.md5!=l.md5&&D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first').remove(),i++;continue}if(Math.abs(s-d)<i&&o.sn<=l.sn&&o.en<=l.en){D.find(' > [data-md5="'+o.md5+'"]:first').remove(),n++;continue}if(o.sn<=l.sn){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text)),n++,i++;continue}if(o.sn>l.sn){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.before(z(l.sn,l.en,l.md5,l.text)),i++;continue}r||(r=D.find('[data-limit="'+e[n-1][0]+","+e[n-1][1]+'"]:first')),r.after(z(l.sn,l.en,l.md5,l.text)),r=D.find('[data-limit="'+l.sn+","+l.en+'"]:first'),i++;continue}if(t<=0&&n>=s&&i<d&&s<d&&!o&&l)D.append(z(l.sn,l.en,l.md5,l.text));else{if(0==t&&n<s&&s>d&&o&&l&&o.sn>=l.sn&&o.en<=l.en&&o.md5!=l.md5&&o.text!=l.text){n==i?(r=D.find(' > [data-limit="'+e[n].sn+","+e[n].en+'"]:first'),r.before(z(l.sn,l.en,l.md5,l.text)),r.remove()):(D.find('[data-limit="'+e[n].sn+","+e[n].en+'"]:first').remove(),i++),n++;continue}if(t<=0&&!l&&n<s&&s>d){D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first').remove(),n++;continue}if(t<=0&&l&&n<s&&s>d&&o.md5!=l.md5&&o.text!=l.text){/(^```)(.*?$)(\n[\s\S]*?)(^```$)/gm.test(l.text)?(D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first').before(z(l.sn,l.en,l.md5,l.text)),i++):/^[ \t]*([*+\-]|\d+\.)[ \t].*(\n|[ \t\d+-].*\n)*/gm.test(l.text)&&(o.sn<=l.sn&&o.en>=l.en&&D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first').before(z(l.sn,l.en,l.md5,l.text)),i++),D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first').remove(),n++;continue}if(t<0&&l&&n<s&&s>d&&o.sn>=l.sn&&o.en<=l.en&&o.md5!=l.md5&&o.text!=l.text){n==i?(r=D.find(' > [data-limit="'+e[n].sn+","+e[n].en+'"]:first'),r.before(z(l.sn,l.en,l.md5,l.text)),r.remove()):D.find(' > [data-limit="'+e[n].sn+","+e[n].en+'"]:first').remove(),n++;continue}}}n++,i++}else if(t>0)for(var n=0,i=0,o={},s=e.length,l={},d=a.length,r=null;n<s||i<d;){if(o=e[n],l=a[i],n<s&&o&&l&&o.sn<o.en&&l.sn<l.en&&o.sn==l.sn&&o.en>l.en&&o.md5!=l.md5&&o.text!=l.text)r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text));else{if(n<s&&s<d&&o.md5!=l.md5&&o.text!=l.text){if(0==n){r?(r.after(z(l.sn,l.en,l.md5,l.text)),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"][data-md5="'+l.md5+'"]:first'),Math.abs(s-d)<=i&&n++):(D.prepend(z(l.sn,l.en,l.md5,l.text)),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"][data-md5="'+l.md5+'"]:first')),o.sn==l.sn&&D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first').remove(),i++;continue}if(Math.abs(s-d)<i&&o.sn>l.sn&&o.en>l.en){D.find(' > [data-md5="'+o.md5+'"]:first').remove(),n++;continue}if(o.sn<=l.sn){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text)),n++,i++;continue}if(o.sn>l.sn){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.before(z(l.sn,l.en,l.md5,l.text)),i++;continue}r||(r=D.find(' > [data-limit="'+e[n-1][0]+","+e[n-1][1]+'"]:first')),r.after(z(l.sn,l.en,l.md5,l.text)),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"]:first'),i++;continue}if(n>=s&&i<d&&s<d&&!o&&l)D.append(z(l.sn,l.en,l.md5,l.text));else if(n<s&&i>=d&&o&&!l)D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first').remove();else{if(n<s&&s>d&&o&&!l){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.remove(),n++;continue}if(n<s&&s>d&&o.sn>l.sn&&o.en>l.en&&o.md5!=l.md5&&o.text!=l.text){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text)),n++,i++;continue}if(n<s&&s>d&&o.sn!=l.sn&&o.en!=l.en&&o.md5!=l.md5&&o.text!=l.text){r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.remove(),n++;continue}if(n<s&&s>=d&&o.sn==l.sn&&o.en!=l.en&&o.md5!=l.md5&&o.text!=l.text)r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text));else if(n<s&&s<=d&&o.sn!=l.sn&&o.en!=l.en&&o.md5!=l.md5&&o.text!=l.text)r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text));else{if(n<s&&s<=d&&o.sn==l.sn&&o.en!=l.en&&o.md5!=l.md5&&o.text!=l.text){r||(r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first')),r.after(z(l.sn,l.en,l.md5,l.text)),r.remove(),r=D.find(' > [data-limit="'+l.sn+","+l.en+'"]:first'),i++;continue}if(n<s&&s>d&&o.sn==l.sn&&o.en==l.en&&o.md5!=l.md5&&o.text!=l.text)r=D.find(' > [data-limit="'+o.sn+","+o.en+'"]:first'),r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}).html($(l.text));else if(n<s&&o&&l&&o.sn<o.en&&l.sn==l.en&&o.md5!=l.md5&&o.text!=l.text){D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first').remove(),n++;continue}}}}i<d&&o&&o.md5!=l.md5&&o.text==l.text&&(r=D.find(' > [data-limit="'+o.sn+","+o.en+'"][data-md5="'+o.md5+'"]:first'))&&r.length>0&&r.attr({"data-start":l.sn,"data-end":l.en,"data-limit":l.sn+","+l.en,"data-md5":l.md5}),n++,i++}K(a)};R=q.find(".CodeMirror-scroll:first"),F=q.find(".CodeMirror_code:first");var ae=0,te=0,ne=null,ie=[],oe=0,se=function(){oe=D.scrollTop(),D.scrollTop(0),ne=D.find(" > div[data-limit]"),ae=0,ie=[],md_lh_obj={};for(var e=0,a=0,t=0,n=o.lineCount(),i=Y.length,s={},l=[],d=null,r=null;e<n;)if((d=o.getLineHandle(e))&&a<i){if(""==d.text){e++,ae+=d.height,l=r&&r.length?{sn:e,en:e,lh:d.height,sum_lh:ae,elem_top:r.position().top+r.outerHeight(),elem_h:0,elem_bt:0,type:"empty"}:{sn:e,en:e,lh:d.height,sum_lh:ae,elem_top:0,elem_h:0,elem_bt:0,type:"empty"},ie.push(l);continue}if(a<i){if(s=Y[a],s.sn==s.en){d=o.getLineHandle(s.sn-1),ae+=d.height,r=ne.eq(a),r.length>0&&(l={sn:s.sn,en:s.en,lh:d.height,sum_lh:ae,elem_top:r.position().top,elem_h:r.outerHeight(),elem_bt:r.position().top+r.outerHeight(),type:"single"},ie.push(l)),a++,e++;continue}if(s.sn<s.en){for(t=s.sn-1,te=0;t<s.en;)d=o.getLineHandle(t),d&&(ae+=d.height,te+=d.height),t++;r=ne.eq(a),r.length>0&&(l={sn:s.sn,en:s.en,lh:te,sum_lh:ae,elem_top:r.position().top,elem_h:r.outerHeight(),elem_bt:r.position().top+r.outerHeight(),type:"more"},ie.push(l)),t=0,a++,e+=s.en-s.sn+1;continue}}}else e++;D.scrollTop(oe)},le=function(e,a){var t=[];try{for(var n=0,i=1,o=ie.length;n<o;n++,i++)if(t=ie[n],a){if(e<=t.elem_bt)break}else if(e<=t.sum_lh)break}catch(e){}return t},de=null,re=null,pe=0,ce=0,ue=0,de=0,fe=0,me="left",he=!0,ve=!1;o.on("keydown",function(a,t){var n=(e(this),"");if(my_keyboard.comdctrl(t)&&t.which){n=((t.altKey?"alt + ":"")+String.fromCharCode(t.which)).toLowerCase();for(var i in ee.icons)(ee.icons[i][1]?ee.icons[i][1].toLowerCase():"")==n&&(t.preventDefault(),j.find("[data-edittoolkey="+i+"]").trigger("click"))}}),o.on("update",function(){g=!0});var _e=function(){"left"==me&&e.utils.maxWidth()>768&&(ve&&(clearTimeout(ve),ve=!1),ve=setTimeout(function(){g&&(se(),g=!1),de=parseInt(R.scrollTop()),re=le(de),fe=1-Math.abs(de-re.sum_lh)/re.lh,pe=re.elem_h,ce=re.elem_top,ue=ce+pe*fe,D.stop(!0,!0).animate({scrollTop:ue},400)},250))};M.mousemove(function(){me="left"}),o.on("scroll",_e);var ke=function(){"right"==me&&he&&e.utils.maxWidth()>768&&(ve&&(clearTimeout(ve),ve=!1),he=!1,ve=setTimeout(function(){g&&(se(),g=!1),de=parseInt(D.scrollTop()),re=le(de,!0),fe=(de-re.elem_top)/re.elem_h,fe=fe<0?0:fe,ue=re.sum_lh-re.lh+re.lh*fe,R.stop(!0,!0).animate({scrollTop:ue},400,function(){he=!0,ke()})},250))};D.mousemove(function(){me="right"}).on("scroll",ke);var ye=function(e,t){ge.removeClass("saveing saveok").addClass("write"),clearTimeout(P),P=setTimeout(function(){if("setValue"!=t.origin?we():ge.removeClass("write"),U=H(),G=[],b){Y=V(U);for(var e=0,n=Y.length,i={};e<n;e++)i=Y[e],G.push(z(i.sn,i.en,i.md5,i.text));D.html(G.join("")),N=U,b=!1}else{if(a&&"setValue"==t.origin){Y=V(U),a=!1;for(var e=0,n=Y.length,i={};e<n;e++)i=Y[e],G.push(z(i.sn,i.en,i.md5,i.text));D.html(G.join(""))}else Z(N,U);N=U}ee.analysis.formula&&mathjax_refresh(D[0]),ee.analysis.flow&&(flowcharts.refresh(D),flowcharts.zoom(D)),ee.analysis.sequence&&(sequence.refresh(D),sequence.zoom(D)),ee.analysis.code&&create_codebox(D),X(),ee.analysis.footnotes&&D.find(".footnote_area:first").remove(),ee.analysis.footnotes&&D.append('<div class="footnote_area"><ol class="footnote_list">'+h.toString()+"</ol></div>")},300)},xe=0,qe=0,Ce=0;o.on("beforeSelectionChange",function(e,a){xe=e.firstLine(),qe=e.lastLine(),Ce=e.getLine(qe).length,1==a.ranges.length&&(a.ranges[0].head.line==xe&&0==a.ranges[0].head.ch&&a.ranges[0].anchor.line==qe&&a.ranges[0].anchor.ch==Ce||a.ranges[0].anchor.line==xe&&0==a.ranges[0].anchor.ch&&a.ranges[0].head.line==qe&&a.ranges[0].head.ch==Ce)&&(b=!0)}),o.on("change",ye),!!a&&o.setValue(a)};e.utils.loadjs("plugin/codemirror/markdown/core.js",function(){e.utils.loadjs("plugin/"+a+"_down/core.js",function(){Ve()})}),q.removeClass("loading"),setTimeout(function(){C.remove()},500)},a=String.fromCharCode(113,100,102,117,110,115,95,101,100,105,116,111,114),t=String.fromCharCode(47,114,101,115,47,115,118,103,47,99,111,109,109,111,110,46,115,118,103);e.fn.qdfuns_editor=function(){return this.each(function(t,i){var o=e(i),s=null;if(!o.data(a)){s=o.data();for(var l in s)"toggle"!=l&&"focusCreate"!=l&&o.removeAttr("data-"+l);o.data(s),o.data("focus-create")?o.data("showlogin")&&MEMBER_ID<=0||o.data("disable")?o.data(a,new n(o,t)):(o.removeAttr("data-toolbtn").data("defval",o.val()).val(""),o.one("click",function(){o.addClass("animated animated600 fadeOut"),setTimeout(function(){o.removeClass("animated animated600 fadeOut").data(a,new n(o,t))},600)})):o.data(a,new n(o,t))}})},e(function(){HTML.data("init")(),BODY.find("[data-toggle="+a+"]").qdfuns_editor()})}(jQuery);

/* COMBO: filename = plugin/pin/core.min.js, type = application/javascript, resp = 200 */
!function(t){"use strict";t.Zebra_Pin=function(s,n){var i={class_name:"",contain:!1,hard:!1,top_spacing:0,bottom_spacing:0,z_index:0,onPin:null,onUnpin:null},o=this,e=(Math.random()+1).toString(36).substring(2,7),a=t(window);o.settings={};o.update=function(){s.each(function(s){void 0===t(this).data("Zebra_Pin_Position")?t(this).data("Zebra_Pin_Position",t(this).css("position")):t(this).css("position",t(this).data("Zebra_Pin_Position"));var n,i,p,g,c=t(this),l=c.offset(),_=c.position(),f=c.outerHeight(),r=parseInt(c.css("marginTop"),10)||0,d={};l.left="initial",_.left="initial",l.top-=r,o.settings.contain&&(n=c.parents("[data-pin-box]:first"),n.length<=0&&(n=c.parent()),i=n.height(),p=n.offset()),o.settings.hard?(d={position:"fixed",left:l.left,top:l.top},!!o.settings.z_index&&(d.zIndex=o.settings.z_index),c.css(d).addClass(o.settings.class_name)):(!!o.settings.z_index&&(d.zIndex=o.settings.z_index),c.css(d).removeClass(o.settings.class_name),g=".Zebra_Pin_"+e+"_"+s,a.off("scroll"+g).on("scroll"+g,function(){var t=a.scrollTop();t>=l.top-o.settings.top_spacing&&(!o.settings.contain||t<=p.top+i-o.settings.top_spacing-f-o.settings.bottom_spacing)&&"fixed"!==c.css("position")?(c.css({position:"fixed",left:l.left,top:o.settings.top_spacing}),!!o.settings.class_name&&c.addClass(o.settings.class_name),o.settings.onPin&&"function"==typeof o.settings.onPin&&o.settings.onPin(l.top-o.settings.top_spacing,c,s)):t<l.top-o.settings.top_spacing&&"absolute"!==c.css("position")?(c.css({position:"absolute",left:_.left,top:_.top}).removeClass(o.settings.class_name),o.settings.onUnpin&&"function"==typeof o.settings.onUnpin&&o.settings.onUnpin(l.top-o.settings.top_spacing,c,s)):o.settings.contain&&t>=p.top+i-o.settings.top_spacing-f-o.settings.bottom_spacing&&"absolute"!==c.css("position")&&(c.css({position:"absolute",left:_.left,top:i-f-o.settings.bottom_spacing-o.settings.bottom_spacing}).removeClass(o.settings.class_name),o.settings.onUnpin&&"function"==typeof o.settings.onUnpin&&o.settings.onUnpin(p.top+i-f-o.settings.bottom_spacing,c,s))}),a.trigger("scroll"+g))})},function(){o.settings=t.extend({},i,n),o.update(),a.on("resize",function(){o.update()})}()}}(jQuery);

/* COMBO: filename = plugin/console/glory.min.js, type = application/javascript, resp = 200 */
!function(i){i(function(){HTML.data("init")();var i='font-family:"Helvetica Neue", Helvetica, Microsoft Yahei, Hiragino Sans GB, WenQuanYi Micro Hei, Microsoft YaHei, sans-serif;';"portal"==CURSCRIPT?(console.clear(),console.log("%c\n-= 荣耀堂 · 首页 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢以下朋友的共同努力（排名不分先后，%c永久保留%c）：%clzh2740128806（贡献2次）, 阿波罗D波, q889518","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i)):"note"==CURSCRIPT?(console.clear(),console.log("%c\n-= 荣耀堂 · 笔记频道 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢以下朋友的共同努力（排名不分先后，%c永久保留%c）：%c两栖猎手","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i),console.log("%c更新：2018-04-21","display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#999;"+i)):"tag"==CURSCRIPT?(console.clear(),console.log("%c\n-= 荣耀堂 · 充电频道 > 播放 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢以下朋友的共同努力（排名不分先后，%c永久保留%c）：%c18537072217","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i),console.log("%c更新：2018-04-21","display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#999;"+i)):"study"==CURSCRIPT&&"watch"==INC?(console.clear(),console.log("%c\n-= 荣耀堂 · 标签频道 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢以下朋友的共同努力（排名不分先后，%c永久保留%c）：%c485890556","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i)):"search"==CURSCRIPT?(console.clear(),console.log("%c\n-= 荣耀堂 · 搜索 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢各位朋友的共同努力（排名不分先后，%c永久保留%c）：%cwc9694, xiao2122451, 3181925, 568687535, 浮尘, 小舟寄余生, chengshichu, lawrence, gaol677764016, DominicAblert, 闹不住菇2333, 杨小修, 461255824, wuguide, pwbwx, 13087077376, 17317443, 539570299@qq.co, yxchun, 乖乖做女汉子, 陶陶, 骷髅王, 萝卜很特, 搬砖手, 花生家的洗手间, zzmisss, luotingv1, NAI, 18867513490, y_lin_sheng, 秀丽江山, 秋水天长, Mengxuan01, 戒不掉的殇, huangqimei, ep_ling0, Ason212, 君邪儿, emptytouch, 乐小胖同学, lalal, PursuitStar, 15616397727, airo, byyb11, 张萌萌, 远望, one852, aqingxin, xiaomo","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i),console.log("%c更新：2018-04-21","display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#999;"+i)):"feedback"==CURSCRIPT&&"list"==MOD&&(console.clear(),console.log("%c\n-= 荣耀堂 · 反馈 > 列表 =-\n\n","display:block; padding:5px; height:30px; line-height:30px; font-size:24px;"+i),console.log("%c感谢以下朋友的共同努力（排名不分先后，%c永久保留%c）：%clzh2740128806","display:block; padding:5px 0 5px 5px; text-align:right; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:inline-block; padding:5px 0; height:20px; line-height:20px; font-size:14px; color:#f00;"+i,"display:inline-block; padding:5px 5px 5px 0; height:20px; line-height:20px; font-size:14px; color:#666;"+i,"display:block; padding:5px; height:20px; line-height:20px; font-size:14px; color:#666;"+i))})}(jQuery);

/* COMBO: filename = plugin/comment/core.min.js, type = application/javascript, resp = 200 */
!function(a){a(function(){HTML.data("init")(),REQUEST_FIRST_DATA=!0;var e=COMMENT_AUTHORID,t={},n=(a("html,body"),BODY.find(".comment_area:first")),s=n.find(".comment_editor_area:first"),o=s.find(".comment_editor_body:first"),i=s.find(".comment_editor_footer:first"),d=o.find('[data-toggle="qdfuns_editor"]'),r=d.data(),p=null,l=null,m=null,c=null,u=null,f=null,_=null,v=!!n.data("replace-admin");if(_=n.data("comment-conf"),n.removeAttr("data-comment-conf"),!_)return!1;_=_.split(",");var h=_[0],g=_[1],y=_[2],b=n.data("comment-first-query-script");r&&(delete r.qdfuns_editor,p=d[0].outerHTML,l=i.html(),m=i.find("button:first")),c="/"+location.href.replace(SITEURL,"").replace(/\/page\/\d*(\.html|)/,"$1").replace(/\&page\=\d*.*/,""),u=new StringBuffer,f={};var x=0,n=BODY.find("#"+h+"_comment_hot_area:first,#"+h+"_comment_new_area:first"),w=BODY.find("#"+h+"_comment_hot_area:first"),T=BODY.find("#"+h+"_comment_new_area:first"),H=T.find(".loadingbox:first"),D=T.find(".comment_list:first"),k=null,j=null,I=null,B=null,O=null,C="",M=function(e,t,n,s,o,i,d){var r="";a.utils.button_tip.check(e)&&(r="/"+(i||"ajax")+".php","/ajax.php"!=r&&(r+=MOD?"?mod="+MOD:"",r+=INC?"&inc="+INC:"",r+=DO?"&do="+DO:""),a.ajax({type:"POST",cache:!1,url:r,dataType:d?"text":"json",data:a.param(t),beforeSend:function(a){n&&n(a)},success:function(a){s&&s(a)},complete:function(a){o&&o(a)}}))},S=function(e){BODY.find("[data-comment-count]").each(function(t,n){n=a(n);var s=parseInt(n.data("comment-count"))+(e?1:-1);n.data("comment-count",s).text(convert.myria_billion(s,1))})};d.data("event_editor_focus",function(a,e){a.parents(".comment_editor_area:first").find(".comment_editor_footer:first button").removeClass("disabled").removeAttr("disabled")});var E=function(e,t){c=location.pathname.replace(/\/page\/\d*(\.html|)/,"$1").replace(/\&page\=\d*.*/,""),e.praisenum=parseInt(e.praisenum),e.praisenum=e.praisenum?e.praisenum:0,e.praisenum_w=convert.myria_billion(e.praisenum,1),e.replynum=parseInt(e.replynum),e.replynum=e.replynum?e.replynum:0,e.replynum_w=convert.myria_billion(e.replynum,1),e.rstorey=parseInt(e.rstorey);var n=!!e.rstorey&&!t,s=[];return u.clear(),u.append('<section class="comment_item" data-anchor="'+e.storey+'F" data-comment-ids="'+e.md5+'">'),"issue"==e.type&&e.adopt_enable&&(u.append('<div class="signet danger">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#signet"></use></svg>'),u.append("<span>已采纳</span>"),u.append("</div>")),u.append('<div class="comment_head clearfix">'),v&&e.isadmin?(u.append('<div class="comment_item_avatar">'),u.append('<a href="javascript:;" class="dhnone">'),u.append('<img alt="管理员" src="'+e.avatar+'"/>'),u.append("</a>"),u.append("</div>"),u.append('<a href="javascript:;" class="'+(e.isadmin?"danger_force":"primary")+" font14"+(n?" float-left":"")+'">管理员</a>')):(u.append('<div class="comment_item_avatar">'),u.append('<a href="/'+(e.address?"s":"u")+".php?uid="+(e.ukey?e.ukey:e.uid)+'" target="_blank" class="dhnone" data-toggle="usercard" data-uid="'+e.uid+'">'),s=e.avatar.split("!"),u.append('<img alt="'+a.utils.urldecode(e.username)+'" src="'+s[0]+(/^\/\//.test(s[0])?"!/fw/50":"")+'"/>'),u.append("</a>"),u.append("</div>"),u.append('<a href="/'+(e.address?"s":"u")+".php?uid="+(e.ukey?e.ukey:e.uid)+'" class="primary font14'+(n?" float-left":"")+'" data-toggle="usercard" data-uid="'+e.uid+'">'+a.utils.urldecode(e.username)+"</a>")),n&&(u.append('<a href="javascript:;" class="comment-reply-view hand" data-id="'+e.md5+'" data-storey="'+e.rstorey+'">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#works_info_comment_reply_goback"></use></svg>'),u.append("<span>"+e.rstorey+"F</span>"),u.append("</a>")),u.append('<span class="datetime">'+e.dateline+"</span>"),u.append('<a data-setcopy="true" data-setcopy-text="'+SITEURL+c.replace(/^\//,"")+"#"+e.storey+'F" data-toggle="tooltip" data-placement="top" data-container="body" data-trigger="hover" class="storeynum hand" title="点击可复制此楼链接" href="javascript:;">'+e.storey+"F</a>"),ADMINID&&u.append('<a href="javascript:;" class="delete hand" data-id="'+e.md5+'"><svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#close"></use></svg></a>'),u.append("</div>"),u.append('<div class="comment_body md_view">'+a.utils.urldecode(e.content)+"</div>"),u.append('<div class="comment_footer clearfix">'),u.append('<span class="comment-praise">'),u.append('<a href="javascript:;" class="pdl18 hand'+("i"==e.praise_enable?'"':e.praise_enable<=0?'" data-praise="'+h+'" data-praise-typeid="'+g+'" data-praise-typemd5="'+y+'" data-praise-id="'+e.md5+'" data-praise-comment="true" data-praise-count="'+e.praisenum+'" data-effects="6" data-effects-color="fff,f00,f35186" data-effects-noclick="true"':' praise_active"')+">"),u.append('<svg viewBox="0 0 1024 1024">'),u.append('<use xlink:href="/res/svg/common.svg#works_info_praise"></use>'),u.append('<use xlink:href="/res/svg/common.svg#works_info_praised"></use>'),u.append("</svg>"),u.append('<i class="praisenum">('+e.praisenum_w+")</i>"),u.append("</a>"),u.append("</span>"),"issue"==e.type&&MEMBER_ID==AUTHORID&&(u.append('<span class="comment-adopt">'),u.append('<a href="javascript:;" class="pdl20 comment-adopt hand" data-id="'+e.md5+'">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#success"></use></svg>'),e.adopt_enable?u.append("<span>已采纳</span>"):u.append("<span>采纳答案</span>"),u.append("</a>"),u.append("</span>")),u.append('<span class="comment-reply-view'+(e.replynum?"":" hide")+'" data-id="'+e.md5+'">'),u.append('<a href="javascript:;" class="pdl20 hand" data-id="'+e.md5+'" data-storey="'+e.storey+'">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#works_info_comment_reply_view"></use></svg>'),u.append("<span>查看回复</span>"),u.append('<i data-reply-count="'+e.replynum+'">('+e.replynum_w+")</i>"),u.append("</a>"),u.append("</span>"),r.disable||(u.append('<span class="comment-reply">'),u.append('<a href="javascript:;" class="pdl20 hand" data-id="'+e.md5+'" data-storey="'+e.storey+'">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#works_info_comment_reply"></use></svg>'),u.append("<span>回复</span>"),u.append("</a>"),u.append("</span>")),u.append('<span class="comment-report">'),u.append('<a href="javascript:;" class="pdl18 hand" data-toggle="report" data-report-link="'+c+"#"+e.storey+'F">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#warning"></use></svg>'),u.append("<span>举报</span>"),u.append("</a>"),u.append("</span>"),u.append("</div>"),u.append("</section>"),u.toString()},F=function(a){!!r&&q(a);var e=a.find("[data-pjax-url^='"+c.replace(".html","")+"'][data-pjax][data-pjax-target-parent$='_comment_panel']");e=e.length<=0?BODY.find("[href^='"+c.replace(".html","")+"'][data-pjax][data-pjax-target-parent$='_comment_panel']"):e;var t=e.parents("nav.pagebar:first"),n=t.find("[data-pjax]");n.data("bind_event_flag")||n.data({bind_event_flag:!0,pjax_req_start:function(){a.find("img").tooltip("dispose"),DOC.scrollTop(getElementOffsetTop(e.parents(".comment_plate:first"),!1,!0)-20)},pjax_req_ok:function(){L(a)}})},A=function(e){!!r&&q(e,!0);var t=j.find("div.modal_comment_list:first"),n=t.find("div.modal_comment_sub_list:first"),s=n.find("nav.pagebar:first"),o=s.find("a,.pagejumpbox:first .pagejump:first label:first input:first"),i=s.find("a"),d=s.find(".pagejumpbox:first .pagejump:first label:first input:first");pagenav_event(s);var p=function(e){e=e||a(this),t.scrollTop(I.outerHeight(!0)-80),n.addClass("fadeOutDown");var s=parseInt("input"==e[0].tagName.toLowerCase()?e.val():e.data("pagenum"));s=s||1,!f[x]&&(f[x]={}),f[x].page=s,f[x].scrollTop=t.scrollTop(),U(o,j.parents(".modal_comment_reply:first"),s)};o.data("storey",x),i.click(function(){p(a(this))}),d.keydown(function(a){13==a.which&&p(d)})},Y=function(){var e=BODY.find(".comment_list > section.comment_item > .comment_head > a.delete"),n=function(e){var n=[["取消",null,!0],["立即删除",function(){HTML.data("init")();var n=e.data("id");n&&32===n.length?(t={mod:"common",inc:"comment",do:"del",ajaxsub:!0,formhash:formHash,randoms:Math.random()},t["delid_"+formHash]=n,t["type_"+formHash]=a.utils.urlencode(h),t["typeid_"+formHash]=a.utils.urlencode(g),t["typemd5_"+formHash]=a.utils.urlencode(y),t["memberid_"+formHash]=a.utils.urlencode(MEMBER_ID),M(e,t,null,function(a){if(1==a.state){var e=BODY.find(".comment_item[data-comment-ids="+n+"]");e.addClass("animated animated300 fadeOutLeft"),setTimeout(function(){S(),e.animate({height:0},300,function(){e.remove()})},300)}else dialog.prompt("","删除失败","无权删除或此数据不存在。","danger",null,3,!0)})):dialog.prompt("","参数不完整！","不存在或已被删除","danger",null,3,!0)},!0]];dialog.prompt("","确定删除吗？","注意：此操作成功后，无法恢复！","danger",n,0,!0)};e.each(function(a,t){t=e.eq(a),t.data("bind_comment_delete_event_flag")||t.data("bind_comment_delete_event_flag",!0).click(function(){n(t)})})},R=function(e){e.find("a.comment-adopt").each(function(e,n){n=a(n),n.hover(function(){var e=a(n).find("span");"已采纳"==e.text()&&e.text("取消采纳")},function(){var e=a(n).find("span");"取消采纳"==e.text()&&e.text("已采纳")}).click(function(){if(HTML.data("init")(),!dialog.login())return!1;var e=n,s=e.data("id");t={mod:"common",inc:"comment",do:"adopt",ajaxsub:!0,formhash:formHash,randoms:Math.random()},t["type_"+formHash]=a.utils.urlencode(h),t["typeid_"+formHash]=a.utils.urlencode(g),t["typemd5_"+formHash]=a.utils.urlencode(y),t["adoptmd5_"+formHash]=a.utils.urlencode(s),t["memberid_"+formHash]=a.utils.urlencode(MEMBER_ID),M(e,t,null,function(a){var e=null,t=BODY.find("#issue_signet"),n=BODY.find("#content");1==a.state?(u.clear(),u.append('<div class="signet danger">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#signet"></use></svg>'),u.append("<span>已采纳</span>"),u.append("</div>"),e=BODY.find('[data-comment-ids="'+s+'"]'),e.prepend(u.toString()),e.find("a.comment-adopt span").text("已采纳"),0==t.length?(u.clear(),u.append('<div id="issue_signet" class="signet success" data-adoptnum="1">'),u.append('<svg viewBox="0 0 1024 1024"><use xlink:href="/res/svg/common.svg#signet"></use></svg>'),u.append("<span>已解决</span>"),u.append("</div>"),n.prepend(u.toString())):t.data("adoptnum")>0&&t.data("adoptnum",t.data("adoptnum")+1)):2==a.state?(e=BODY.find('[data-comment-ids="'+s+'"]'),e.find(".signet").remove(),e.find("a.comment-adopt span").text("采纳答案"),t.length>0&&t.data("adoptnum")>1?t.data("adoptnum",t.data("adoptnum")-1):t.length>0&&1==t.data("adoptnum")&&t.remove()):0==date.state?dialog.login():dialog.prompt("","采纳失败","无权采纳或此数据不存在。","danger",null,3,!0)})})})},L=function(a,e){HTML.data("init")(),e?A(a):F(a),!!ADMINID&&Y(),flowcharts.refresh(a),flowcharts.zoom(a),sequence.refresh(a),sequence.zoom(a),create_codebox(a),common_init(a),R(a)},U=function(e,n,s){s=parseInt(s||1);var o=x=parseInt(e.data("storey"));if(!o)return!1;j=n.find(".modal_comment_reply_box:first .modal_comment_plate:first");var i=n.find(".loadingbox:first"),d=n.find(".modal_comment_list:first"),r=d.find(".modal_comment_sub_list:first"),p=function(e){setTimeout(function(){if(0==e.state)return k(),dialog.prompt("",'<span class="text-danger">'+o+"F</span>","不存在或已被删除","",null,3,!0),!1;a.utils.loading.hide(i);var t=null,n="";if(d.removeClass("animated300 fadeOutLeft").addClass("animated"),I=n=a(E(e.first_storey_data,!0)),d.find("> section.comment_item:first").remove(),d.prepend(n),d.find("textarea[data-code-type]").data({disable_pin:!0,disable_listen:!0}),d.addClass("animated fadeInUp"),n.find("> .comment_footer:first > .comment-reply:first > a:first").data("isFirstStory",!0),n.find("> .comment_footer:first > .comment-reply-view:first").remove(),L(n,!0),!f[o]&&(f[o]={}),f[o].page=s,e.count>0){t=new StringBuffer;for(var p=0,l=e.storey_data.length;p<l;p++)t.append(E(e.storey_data[p],!0));t.append(navpage(e.count,e.page_size,e.page)),n=a(t.toString()),t.clear(),r.html(n),d.find("textarea[data-code-type]").data({disable_pin:!0,disable_listen:!0}),r.removeClass("fadeOutDown").addClass("animated fadeInUp"),!!f[o].scrollTop&&d.scrollTop(f[o].scrollTop),L(n,!0)}else r.html("")},800)};t={mod:"common",inc:"comment",do:"get_reply",ajaxsub:!0,formhash:formHash,randoms:Math.random()},t["page_"+formHash]=s,t["type_"+formHash]=a.utils.urlencode(h),t["typeid_"+formHash]=a.utils.urlencode(g),t["typemd5_"+formHash]=a.utils.urlencode(y),t["storey_"+formHash]=o,t["memberid_"+formHash]=a.utils.urlencode(MEMBER_ID),M(e,t,function(e){a.utils.loading.show(i)},p,function(a){})},q=function(e,n){var s=null;s=n?function(e){e.preventDefault(),e.stopPropagation();var t=a(this);B=t;var n=t.data("storey");O=location.hash,window.anchor_disable=!0,!f[x]&&(f[x]={}),f[x].scrollTop=t.parents(".modal_comment_list:first").scrollTop(),location.hash=n+"F",O==location.hash&&N(e)}:function(e){e.preventDefault(),e.stopPropagation();var t=a(this);B=t,O=location.hash,window.anchor_disable=!0,location.hash=t.data("storey")+"F",O==location.hash&&N(e)};var o=e.find("span.comment-reply"),i=o.find("a:first"),d=o.find("a:first");i.data("replyModal",n).click(function(e){e.preventDefault(),e.stopPropagation();var n=a(this);if(n.data("flag"))return!1;n.data("flag",!0);var s=n.parents("section.comment_item:first");s.find(".comment_editor_area:first").remove(),u.clear(),u.append('<div class="comment_editor_area">'),u.append('<div class="comment_editor_body">'),u.append(p),u.append("</div>"),u.append('<div class="comment_editor_footer">'),u.append(l),u.append("</div>"),u.append("</div>");var o=a(u.toString()),i=o.find(".comment_editor_body:first"),d=i.find("> textarea:first"),m=o.find(".comment_editor_footer:first"),c=(m.find(".comment-reply-view:first"),a('<button class="btn btn-light">取消</buttn>')),_=m.find("button:first");_.data("replymd5",n.data("id")),_.before(c);var v=r;v.qdfuns_editor=null,d.data(v),d.qdfuns_editor();var h=function(a){n.data("flag",!1),o.removeClass("reply_show"),setTimeout(function(){o.remove()},300)};c.click(h);!!r&&function(e){t={mod:"common",inc:"comment",do:"publish",ajaxsub:!0,formhash:formHash,randoms:Math.random()},z(_,d,t,function(){a.utils.button_tip.set(_,!0)},function(e){var t=null,s=null;if(1==e.state){d.data("clean")(),S(!0),a.utils.button_tip.prompt_reset(_,"v","已发表","success"),HTML.data("init")(),t=a(E(e)),s=a(E(e,!0)),D.prepend(t),n.data("replyModal")&&n.data("isFirstStory")&&1==f[n.data("storey")].page&&(n.parents(".modal_comment_list:first").find(".modal_comment_sub_list:first").prepend(s),L(s));var o=_.data("replymd5"),i=BODY.find("span.comment-reply-view[data-id="+o+"]");i.removeClass("hide").find("> a[data-id="+o+"] > i[data-reply-count]").each(function(e,t){t=a(t);var n=parseInt(t.data("reply-count"))+1;t.data("reply-count",n).text("("+convert.myria_billion(n,1)+")")}),t.removeClass("animated fadeIn").removeAttr("style"),L(t),setTimeout(function(){i.addClass("animated flash")},1500),setTimeout(function(){h()},1e3),setTimeout(function(){i.removeClass("animated flash")},2500)}else 0==e.state?(dialog.prompt("",'<span class="text-danger">评论内容过短</span>',"8个字起评","",null,3,!0),a.utils.button_tip.reset(_)):-1==e.state?(dialog.prompt("",'<span class="text-danger">回复得太快了</span>',"避免灌水，评论间隔为15秒","",null,3,!0),a.utils.button_tip.reset(_)):-5==e.state?(dialog.prompt("",'<span class="text-danger">回复已关闭</span>',"","",null,3,!0),a.utils.button_tip.reset(_)):a.utils.button_tip.reset(_)})}(),s.find(".comment_footer:first").before(o),setTimeout(function(){o.addClass("reply_show")},200)});var d=e.find("a.comment-reply-view,span.comment-reply-view > a");d&&d.length>0&&d.click(s)},z=function(e,t,n,s,o,i,d){e.click(function(){if(!t.data("editor_state"))return!!t.val()&&dialog.prompt("",'<span class="text-danger">评论编辑器未能创建</span>',"为避免内容丢失，建议将 <b>评论内容保存</b> 后<br/>刷新页面重试","",null,5,!0),!1;var d=t.data("val")(),r=e.data("replymd5");return a.utils.isObject(_,"array")&&(n["type_"+formHash]=a.utils.urlencode(_[0]),n["typeid_"+formHash]=a.utils.urlencode(_[1]),n["typemd5_"+formHash]=a.utils.urlencode(_[2]),!!r&&32==r.length&&(n["replymd5_"+formHash]=a.utils.urlencode(r)),n["memberid_"+formHash]=a.utils.urlencode(MEMBER_ID),n["message_"+formHash]=a.utils.urlencode(d)),d.length<1?(dialog.prompt("",'<span class="text-danger">评论内容不能为空</span>',"1个字起评","",null,3,!0),a.utils.button_tip.reset(e),!1):"1"===a.cookie("timecomment")?(dialog.prompt("",'<span class="text-danger">回复得太快了</span>',"避免灌水，评论间隔为15秒","",null,3,!0),a.utils.button_tip.reset(e),!1):(_[3]&&(n["cid_"+formHash]=a.utils.urlencode(conf[3])),void M(e,n,s,o,i))})},N=function(e){var t=location.hash,n=parseInt(t.replace(/[#F]/g,"")),s=null;/\#\d*F/.test(t)&&/\d*/.test(n)?(B=BODY.find(".comment-reply-view > a[data-storey="+n+"]"),B=B&&B.length>0?B:a('<a data-storey="'+n+'"></a>'),s=BODY.find(".modal_comment_reply:first"),s&&s.length>0?function(){s.find(".modal_comment_list:first").removeClass("animated300 fadeInUp").addClass("animated300 fadeOutLeft"),setTimeout(function(){U(B,s,f[n]?f[n].page:1)},300)}():function(){u.clear(),u.append('<div class="modal_comment_reply tohide">'),u.append('<div class="modal_comment_reply_box">'),u.append('<button type="button" class="close" aria-label="Close">'),u.append('<svg viewBox="0 0 1024 1024" aria-hidden="true"><use xlink:href="/res/svg/common.svg#close"></use></svg>'),u.append('<span class="sr-only">关闭评论窗口</span>'),u.append("</button>"),u.append('<div class="modal_comment_plate">'),u.append('<div class="loadingbox animated animated200 dh300 zoomOut" data-type="jumper">'),u.append('<div class="loading_circle cubicbezier1 primary"></div>'),u.append("</div>"),u.append('<div class="modal_comment_list comment_list">'),u.append('<div class="modal_comment_sub_list"></div>'),u.append("</div>"),u.append("</div>"),u.append("</div>"),u.append("</div>");var e=a(u.toString()),t=e.find("button.close");k=function(){window.anchor_disable=!1,e.addClass("tohide"),setTimeout(function(){a.utils.view_overflow(),e.remove(),k=null},600)},DOC.keydown(function(a){27==a.which&&k()}),t.click(k),BODY.append(e),e.click(k).find(".modal_comment_reply_box").click(function(a){a.stopPropagation()}),setTimeout(function(){a.utils.view_overflow(!0),e.removeClass("tohide").addClass("toshow")},300),U(B,e,f[n]?f[n].page:1)}()):!!k&&k(),O=t};WIN.on("hashchange",N),!!r&&function(){t={mod:"common",inc:"comment",do:"publish",ajaxsub:!0,formhash:formHash,randoms:Math.random()},z(m,d,t,function(){a.utils.button_tip.set(m,!0)},function(e){1==e.state?(d.data("clean")(),S(!0),a.utils.button_tip.prompt_reset(m,"v","已发表","success"),HTML.data("init")(),C=a(E(e)),T.removeClass("comment_empty"),D.prepend(C),C.removeClass("animated fadeIn").removeAttr("style"),goToAnchor(600,"comment_new_area"),L(C)):0==e.state?(dialog.prompt("",'<span class="text-danger">评论内容不能为空</span>',"1个字起评","",null,3,!0),a.utils.button_tip.reset(m)):-1==e.state?(dialog.prompt("",'<span class="text-danger">回复得太快了</span>',"避免灌水，评论间隔为15秒","",null,3,!0),a.utils.button_tip.reset(m)):-5==e.state?(dialog.prompt("",'<span class="text-danger">回复已关闭</span>',"","",null,3,!0),a.utils.button_tip.reset(m)):a.utils.button_tip.reset(m)})}(),!T.hasClass("comment_empty")&&function(){var s=e;if(!s)return!1;!!r&&n.offset().top;var o=location.hash,i=o.replace(/^#(\d*)F$/,"$1");!function(){t={ajaxsub:!0,formhash:formHash,randoms:Math.random()},REQUEST_FIRST_DATA&&(t.inpjax=1,t["type_"+formHash]=a.utils.urlencode(_[0]),t["typeid_"+formHash]=a.utils.urlencode(_[1]),t.id=a.utils.urlencode(_[2]),t.uid=s,t.page=T.data("page"),!!i&&(t["storeynum_"+formHash]=parseInt(i)),M(n,t,function(){REQUEST_FIRST_DATA=!1,D.addClass("animated pjaxFadeInUpSmall"),a.utils.loading.show(H)},function(e){D.removeClass("animated pjaxFadeInUpSmall"),a.utils.loading.hide(H),e&&(e=a("<div>"+e+"</div>"),e.find("title,meta").remove(),e=e.html(),D.html(e),D.find("img").lazyload(),T.removeAttr("data-page,data-pagesize").removeClass("comment_empty"),!!i&&goToAnchor(0,t["storeynum_"+formHash]+"F"),L(D))},function(){},b,"TEXT"))}()}(),w&&w.length>0&&L(w)})}(jQuery);

/* COMBO: filename = article/view.min.js, type = application/javascript, resp = 200 */
!function(o){o(function(){var e=BODY.find("main.container"),t=e.find("#content"),i=(e.find("aside"),t.find(".info_content")),n=t.find("article.md_view"),a=t.find("#popover_original_nolink"),r=i.find("#copyright_bar"),p=r.find("svg"),s="";p.each(function(e,t){_this=o(t),s=_this.data("type"),_this.popover({container:"body",html:!0,title:copyright.text[s].title,content:o.utils.isObject(copyright.text[s].info,"function")?copyright.text[s].info(AUTHORID,AUTHORNAME):copyright.text[s].info,template:'<div class="popover shadow popover-copyright-'+s+'" role="tooltip"><i class="arrow"></i><h3 class="popover-header font12"></h3><div class="popover-body text-muted font12"></div></div>',placement:"top",delay:{show:200,hide:200},trigger:"manual"}),"business"==s?popover_hover_events(_this,"popover-copyright-"+s,function(o,e){send_message(null,e)}):popover_hover_events(_this,"popover-copyright-"+s)});var l="<span>因转载多次，原地址不详！您若知道原地址，请联系</span><a href='javascript:;' class='primary hand' data-toggle='sendmsg' data-event='false' data-touid='"+AUTHORID+"'>"+AUTHORNAME+"</a><span>，谢谢。</span>";a.length>0&&(a.popover({container:"body",html:!0,title:"为尊重作者，特此声明：",content:l,template:'<div class="popover shadow popover-original-nolink" role="tooltip"><i class="arrow"></i><h3 class="popover-header font12"></h3><div class="popover-body text-muted font12"></div></div>',placement:"top",delay:{show:200,hide:200},trigger:"manual"}),popover_hover_events(a,"popover-original-nolink",function(o,e){send_message(null,e)})),flowcharts.refresh(n),flowcharts.zoom(n),sequence.refresh(n),sequence.zoom(n),create_codebox(n)})}(jQuery);
